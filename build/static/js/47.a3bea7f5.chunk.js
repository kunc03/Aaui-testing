(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[47],{1079:function(e,t,a){"use strict";a.r(t);var s=a(21),n=a(6),i=a(11),r=a(13),c=a(12),l=a(31),o=a(14),m=a(0),d=a.n(m),g=a(24),p=a(3),u=a(2),h=a(25),v=a.n(h),f=a(15),b=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).closeModalDelete=function(e){a.setState({modalDelete:!1,deleteId:""})},a.handleContent=function(e){a.setState({content:e,edited:!0})},a.handleChange=function(e){a.setState({edited:!0});var t=e.target,n=t.name,i=t.value;if("image"===n){if(e.target.files.length)if(e.target.files[0].size<=5e6){var r={image:e.target.files[0],imagePreview:URL.createObjectURL(e.target.files[0])};a.setState(r)}else e.target.value=null,g.b.warning("Image size cannot larger than 5MB and must be an image file")}else a.setState(Object(s.a)({},n,i))},a.state={edited:!1,id:a.props.match.params.id?a.props.match.params.id:"",companyId:"",image:"",imagePreview:"assets/images/no-image.png",isSaving:!1,userId:"",content:"Loading...",title:"",modalDelete:!1,disabledForm:a.props.disabledForm&&a.props.id,author:"",created_at:""},a.goBack=a.goBack.bind(Object(l.a)(a)),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"goBack",value:function(){this.props.history.goBack()}},{key:"getData",value:function(e){var t=this;p.l.get("".concat(p.a,"v2/news/read/").concat(e)).then((function(e){e.data.error?g.b.error("Error read news"):t.setState({id:e.data.result.id,content:e.data.result.content,title:e.data.result.title,imagePreview:e.data.result.image?e.data.result.image:t.state.imagePreview,author:e.data.result.author,created_at:v.a.tz(e.data.result.created_at,v.a.tz.guess(!0)).format("MMMM Do YYYY, h:mm:ss a")})}))}},{key:"getUserData",value:function(){var e=this;p.l.get("".concat(p.j).concat(u.a.get("user").data.email)).then((function(t){200===t.status&&e.setState({companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):t.data.result.company_id,userId:t.data.result.user_id})}))}},{key:"componentDidMount",value:function(){this.getUserData(),this.props.disabledForm&&this.props.id?this.getData(this.props.id):this.props.match.params.id?this.getData(this.props.match.params.id):this.setState({content:""})}},{key:"clearSessionForm",value:function(){this.setState({edited:!1,content:""})}},{key:"render",value:function(){var e=this.state;e.session,e.media;return d.a.createElement("div",{className:"pcoded-main-container"},d.a.createElement("div",{className:"pcoded-wrapper"},d.a.createElement("div",{className:"pcoded-content"},d.a.createElement("div",{className:"pcoded-inner-content"},d.a.createElement("div",{className:"main-body"},d.a.createElement("div",{className:"page-wrapper"},d.a.createElement("div",{className:"floating-back"},d.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90,onClick:this.goBack})),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-xl-12"},d.a.createElement("div",null,d.a.createElement("div",{className:"card p-20"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-10 m-b-10"},d.a.createElement("strong",{className:"f-w-bold f-18",style:{color:"#000"}},this.state.title)),d.a.createElement("div",{className:"col-sm-2 m-b-20"},"client"!==u.a.get("user").data.level&&d.a.createElement(f.b,{to:"/news/edit/".concat(this.state.id)},d.a.createElement("button",{className:"btn btn-icademy-primary float-right",style:{padding:"7px 8px !important",marginRight:30}},d.a.createElement("i",{className:"fa fa-edit"}),"Edit")))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"form-field-top-label",style:{fontSize:12}},"Posted on ",this.state.created_at)),d.a.createElement("div",{className:"form-section no-border"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"form-field-top-label"},d.a.createElement("img",{src:this.state.imagePreview,style:{maxHeight:300}}))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"html-content"},d.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.content}}))))))))))))))}}]),t}(m.Component);t.default=b}}]);
//# sourceMappingURL=47.a3bea7f5.chunk.js.map