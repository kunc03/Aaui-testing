{"version":3,"sources":["components/muridLaporanRapor/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["GuruKursus","state","listSemester","semesterId","semesterInfo","jadwalKu","listKelas","kelasId","kelasInfo","listMurid","muridId","muridInfo","isLoading","nilaiMurid","tahunAjaran","listTahunAjaran","exportPDF","doc","jsPDF","setFontSize","content","startY","head","body","map","item","i","nama_pelajaran","totalAkhirScoreTugas","totalAkhirScoreKuis","totalAkhirScoreUjian","toFixed","text","nama","kelas_nama","semester_name","tahun_ajaran","autoTable","save","selectTahunAjaran","e","value","target","setState","fetchJadwal","selectSemester","preventDefault","dd","jadwal","filter","Map","values","semester_id","parseInt","API","get","API_SERVER","then","res","data","result","selectKelas","fetchMurid","selectMurid","console","log","fetchNilaiMurid","user_id","resetFilter","listPelajaran","pelajaranId","pelajaranInfo","Storage","error","r","no_induk","id","kelas_id","company_id","toast","warning","createOptions","push","label","userId","d","Date","getMonth","getFullYear","temp","this","fetchSemester","level","className","onChange","required","selected","disabled","onClick","type","style","marginTop","marginLeft","src","verticalAlign","rowSpan","colSpan","Number","parseFloat","kumpulTugas","length","totalTugas","kumpulKuis","totalKuis","kumpulUjian","totalUjian","persensi","Component","_toConsumableArray","arr","Array","isArray","arr2","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError"],"mappings":"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","file":"static/js/129.097a29ff.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Storage from '../../repository/storage';\r\nimport API, { API_SERVER } from '../../repository/api';\r\nimport { toast } from \"react-toastify\";\r\n\r\n// import InfoSilabus from './info';\r\nimport { Link } from 'react-router-dom'\r\n// import TableSilabus from \"./table\";\r\n\r\nimport { MultiSelect } from 'react-sm-select';\r\nimport 'react-sm-select/dist/styles.css';\r\n\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\nclass GuruKursus extends Component {\r\n\r\n  state = {\r\n    listSemester: [],\r\n    semesterId: '',\r\n    semesterInfo: {},\r\n\r\n    jadwalKu: {},\r\n\r\n    listKelas: [],\r\n    kelasId: '',\r\n    kelasInfo: {},\r\n\r\n    listMurid: [],\r\n    muridId: [],\r\n    muridInfo: {},\r\n\r\n    isLoading: false,\r\n    nilaiMurid: [],\r\n\r\n    tahunAjaran: '',\r\n    listTahunAjaran: [],\r\n  }\r\n\r\n  fetchJadwal(tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/jadwal-mengajar/murid/${Storage.get('user').data.user_id}?tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if (res.data.error) console.log(`Error: fetch pelajaran`)\r\n\r\n      this.setState({ jadwalKu: res.data.result })\r\n      let r = res.data.result;\r\n      API.get(`${API_SERVER}v2/murid/no-induk/${r.no_induk}`).then(res => {\r\n        this.setState({ muridId: r.id, muridInfo: res.data.result })\r\n      })\r\n\r\n      API.get(`${API_SERVER}v1/semester/${r.semester_id}`).then(res => {\r\n        this.setState({ semesterId: r.semester_id, semesterInfo: res.data.result })\r\n      })\r\n\r\n      API.get(`${API_SERVER}v2/kelas/one/${r.kelas_id}`).then(res => {\r\n        this.setState({ kelasId: r.kelas_id, kelasInfo: res.data.result })\r\n      })\r\n\r\n      this.fetchNilaiMurid(r.semester_id, r.kelas_id, Storage.get('user').data.user_id, tahunAjaran)\r\n    })\r\n  }\r\n\r\n  exportPDF = () => {\r\n    const unit = \"pt\";\r\n    const size = \"A4\"; // Use A1, A2, A3 or A4\r\n    const orientation = \"portrait\"; // portrait or landscape\r\n\r\n    const marginLeft = 40;\r\n    const doc = new jsPDF(orientation, unit, size);\r\n\r\n    doc.setFontSize(15);\r\n\r\n    const title = \"Report \";\r\n    const headers = [[\"NO\", \"SUBJECT\", \"NILAI\", \"TASK\", \"QUIZ\", \"EXAM\", \"PRESENSI\"]];\r\n\r\n    const data = this.state.nilaiMurid.map((item, i) =>\r\n      [\r\n        i + 1,\r\n        item.nama_pelajaran,\r\n        (item.totalAkhirScoreTugas + item.totalAkhirScoreKuis + item.totalAkhirScoreUjian).toFixed(2),\r\n        item.totalAkhirScoreTugas,\r\n        item.totalAkhirScoreKuis,\r\n        item.totalAkhirScoreUjian,\r\n        0\r\n      ]\r\n    );\r\n\r\n    let content = {\r\n      startY: 100,\r\n      head: headers,\r\n      body: data\r\n    };\r\n\r\n    doc.text(title, marginLeft, 40);\r\n\r\n    doc.setFontSize(9);\r\n\r\n    doc.text(`NIK`, 40, 60);\r\n    doc.text(`: ${this.state.muridId[0]}`, 120, 60);\r\n\r\n    doc.text(`NAME`, 40, 75);\r\n    doc.text(`: ${this.state.muridInfo.nama}`, 120, 75);\r\n\r\n    doc.text(`CLASS`, 40, 90);\r\n    doc.text(`: ${this.state.kelasInfo.kelas_nama}`, 120, 90);\r\n\r\n    doc.text(`SEMESTER`, 220, 60)\r\n    doc.text(`: ${this.state.semesterInfo.semester_name}`, 300, 60);\r\n\r\n    doc.text(`YEAR`, 220, 75)\r\n    doc.text(`: ${this.state.kelasInfo.tahun_ajaran}`, 300, 75);\r\n\r\n    doc.setFontSize(15);\r\n    doc.autoTable(content);\r\n\r\n    doc.save(\"report.pdf\")\r\n  }\r\n\r\n  fetchSemester() {\r\n    API.get(`${API_SERVER}v1/semester/company/${Storage.get('user').data.company_id}`).then(res => {\r\n      if (res.data.error) toast.warning(\"Error fetch data semester\");\r\n\r\n      this.setState({ listSemester: res.data.result })\r\n    })\r\n  }\r\n\r\n  selectTahunAjaran = e => {\r\n    const { value } = e.target;\r\n    this.setState({ tahunAjaran: value })\r\n    this.fetchJadwal(value);\r\n  }\r\n\r\n  selectSemester = e => {\r\n    e.preventDefault();\r\n    let semesterId = e.target.value;\r\n\r\n    let dd = [...this.state.jadwalKu.jadwal];\r\n    let unique = [...new Map(dd.map(item => [item['kelas_id'], item])).values()];\r\n    let filter = unique.filter(item => item.semester_id === parseInt(semesterId));\r\n    this.setState({ semesterId: semesterId, listKelas: filter })\r\n\r\n    API.get(`${API_SERVER}v1/semester/${semesterId}`).then(res => {\r\n      this.setState({ semesterId, semesterInfo: res.data.result, listKelas: filter })\r\n    })\r\n  }\r\n\r\n  fetchKelas(semesterId) {\r\n    API.get(`${API_SERVER}v2/kelas/semester/${Storage.get('user').data.company_id}/${semesterId}`).then(res => {\r\n      if (res.data.error) toast.warning(\"Error fetch data semester\");\r\n\r\n      this.setState({ listKelas: res.data.result })\r\n    })\r\n  }\r\n\r\n  selectKelas = e => {\r\n    e.preventDefault();\r\n    let kelasId = e.target.value;\r\n    API.get(`${API_SERVER}v2/kelas/one/${kelasId}`).then(res => {\r\n      this.setState({ kelasId, kelasInfo: res.data.result })\r\n    })\r\n    this.fetchMurid(kelasId);\r\n  }\r\n\r\n  fetchMurid(kelasId) {\r\n    API.get(`${API_SERVER}v2/murid/kelas/${kelasId}`).then(res => {\r\n      if (res.data.error) toast.warning(\"Error fetch murid\");\r\n\r\n      let createOptions = [];\r\n      res.data.result.map((item) => {\r\n        createOptions.push({\r\n          value: item.no_induk,\r\n          label: `${item.no_induk} - ${item.nama}`\r\n        });\r\n      })\r\n\r\n      this.setState({ listMurid: createOptions })\r\n\r\n    })\r\n  }\r\n\r\n  selectMurid = e => {\r\n    console.log('state:', e)\r\n    this.setState({ isLoading: true, nilaiMurid: [] })\r\n    API.get(`${API_SERVER}v2/murid/no-induk/${e[0]}`).then(res => {\r\n      this.setState({ muridId: e, muridInfo: res.data.result })\r\n      this.fetchNilaiMurid(this.state.semesterId, this.state.kelasId, res.data.result.user_id, this.state.tahunAjaran)\r\n    })\r\n  }\r\n\r\n  fetchNilaiMurid(semesterId, kelasId, userId, tahunAjaran) {\r\n    console.log(`Query: ${semesterId} ${kelasId} ${userId}`);\r\n    API.get(`${API_SERVER}v2/guru/nilai-murid/${semesterId}/${kelasId}/${userId}?tahunAjaran=${tahunAjaran}`).then(res => {\r\n      this.setState({ nilaiMurid: res.data.result, isLoading: false })\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    let d = new Date();\r\n    // bulan diawali dengan 0 = januari, 11 = desember\r\n    let month = d.getMonth();\r\n    let tahunAjaran = month < 6 ? (d.getFullYear() - 1) + '/' + d.getFullYear() : d.getFullYear() + '/' + (d.getFullYear() + 1);\r\n\r\n    let temp = [];\r\n    for (var i = 0; i < 6; i++) {\r\n      temp.push(`${d.getFullYear() - i}/${d.getFullYear() - i + 1}`)\r\n    }\r\n    this.setState({ tahunAjaran, listTahunAjaran: temp })\r\n\r\n    this.fetchJadwal(tahunAjaran)\r\n    this.fetchSemester()\r\n  }\r\n\r\n  resetFilter = e => {\r\n    e.preventDefault()\r\n    this.setState({\r\n      semesterId: '',\r\n      semesterInfo: {},\r\n\r\n      listKelas: [],\r\n      kelasId: '',\r\n      kelasInfo: {},\r\n\r\n      listPelajaran: [],\r\n      pelajaranId: '',\r\n      pelajaranInfo: {},\r\n\r\n      muridId: [],\r\n\r\n      isLoading: false,\r\n      nilaiMurid: [],\r\n    })\r\n  }\r\n\r\n  render() {\r\n    //console.log('state: ', this.state)\r\n    let levelUser = Storage.get('user').data.level;\r\n    let access_project_admin = levelUser == 'admin' || levelUser == 'superadmin' ? true : false;\r\n\r\n    return (\r\n      <div className=\"pcoded-main-container\">\r\n        <div className=\"pcoded-wrapper\">\r\n          <div className=\"pcoded-content\">\r\n            <div className=\"pcoded-inner-content\">\r\n              <div className=\"main-body\">\r\n                <div className=\"page-wrapper\">\r\n\r\n                  <div className=\"row mt-3\">\r\n                    <div className=\"col-xl-12\">\r\n                      <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                          <form>\r\n                            <div className=\"form-group row\">\r\n                              <div className=\"col-sm-2\">\r\n                                <label>Tahun Ajaran</label>\r\n                                <select onChange={this.selectTahunAjaran} value={this.state.tahunAjaran} className=\"form-control\" required>\r\n                                  <option value=\"\" selected disabled>Select</option>\r\n                                  {\r\n                                    this.state.listTahunAjaran.map(item => (\r\n                                      <option value={item}>{item}</option>\r\n                                    ))\r\n                                  }\r\n                                </select>\r\n                              </div>\r\n\r\n                              <div className=\"col-sm-3\">\r\n                                <button className=\"btn btn-v2 btn-success mt-4 mr-2\" onClick={() => this.exportPDF()}>\r\n                                  <i className=\"fa fa-download\"></i> Report\r\n                                  </button>\r\n                                <button className=\"btn btn-v2 btn-info mt-4\" type=\"reset\" onClick={this.resetFilter}>Reset</button>\r\n                              </div>\r\n\r\n                            </div>\r\n                          </form>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-xl-12\">\r\n                      <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-2\">\r\n                              <img\r\n                                style={{\r\n                                  marginTop: '36px',\r\n                                  marginLeft: '64px'\r\n                                }}\r\n                                src=\"/assets/images/user/avatar-1.png\"\r\n                                className=\"rounded-circle img-profile mb-4\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div className=\"col-sm-10\">\r\n                              <form className=\"mt-4\">\r\n                                <div className=\"form-group row\">\r\n                                  <label className=\"col-sm-2 col-form-label text-right\">NO INDUK</label>\r\n                                  <div className=\"col-sm-4\">\r\n                                    <input type=\"text\" value={this.state.jadwalKu.no_induk} disabled className=\"form-control\" />\r\n                                  </div>\r\n\r\n                                  <label className=\"col-sm-2 col-form-label text-right\">SEMESTER</label>\r\n                                  <div className=\"col-sm-4\">\r\n                                    <input type=\"text\" value={this.state.semesterInfo.semester_name} className=\"form-control\" />\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group row\">\r\n                                  <label className=\"col-sm-2 col-form-label text-right\"> NAME </label>\r\n                                  <div className=\"col-sm-4\">\r\n                                    <input type=\"text\" value={this.state.muridInfo.nama} className=\"form-control\" />\r\n                                  </div>\r\n\r\n                                  <label className=\"col-sm-2 col-form-label text-right\">SCHOOL YEAR</label>\r\n                                  <div className=\"col-sm-4\">\r\n                                    <input type=\"text\" value={this.state.kelasInfo.tahun_ajaran} className=\"form-control\" />\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group row\">\r\n                                  <label className=\"col-sm-2 col-form-label text-right\">KELAS</label>\r\n                                  <div className=\"col-sm-4\">\r\n                                    <input type=\"text\" value={this.state.kelasInfo.kelas_nama} className=\"form-control\" />\r\n                                  </div>\r\n                                </div>\r\n                              </form>\r\n                            </div>\r\n\r\n                          </div>\r\n\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <table className=\"table table-striped mt-4 table-bordered\">\r\n                                <thead>\r\n                                  <tr className=\"text-center\">\r\n                                    <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\">NO</td>\r\n                                    <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\"> SUBJECT </td>\r\n                                    <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\"> TOTAL</td>\r\n                                    <td colSpan=\"3\">NILAI HASIL BELAJAR</td>\r\n                                    <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\">PERSENSI</td>\r\n                                  </tr>\r\n                                  <tr className=\"text-center\">\r\n                                    <td>TASK</td>\r\n                                    <td>QUIZ</td>\r\n                                    <td>EXAM</td>\r\n                                  </tr>\r\n                                </thead>\r\n\r\n                                <tbody>\r\n                                  {\r\n                                    this.state.isLoading &&\r\n                                    <tr>\r\n                                      <td className=\"text-center\" colSpan='7'>\r\n                                        <span>Loading...</span>\r\n                                      </td>\r\n                                    </tr>\r\n                                  }\r\n                                  {\r\n                                    this.state.nilaiMurid.map((item, i) => (\r\n                                      <tr className=\"text-center\">\r\n                                        <td>{i + 1}</td>\r\n                                        <td>{item.nama_pelajaran}</td>\r\n                                        <td>{(item.totalAkhirScoreTugas + item.totalAkhirScoreKuis + item.totalAkhirScoreUjian).toFixed(2)}</td>\r\n                                        <td>\r\n                                          {Number.parseFloat(item.totalAkhirScoreTugas).toFixed(2)}\r\n                                          <br />\r\n                                          {item.kumpulTugas.length}/{item.totalTugas.length}\r\n                                        </td>\r\n                                        <td>\r\n                                          {Number.parseFloat(item.totalAkhirScoreKuis).toFixed(2)}\r\n                                          <br />\r\n                                          {item.kumpulKuis.length}/{item.totalKuis.length}\r\n                                        </td>\r\n                                        <td>\r\n                                          {Number.parseFloat(item.totalAkhirScoreUjian).toFixed(2)}\r\n                                          <br />\r\n                                          {item.kumpulUjian.length}/{item.totalUjian.length}\r\n                                        </td>\r\n                                        <td>{item.persensi ? item.persensi + '%' : '0%'}</td>\r\n                                      </tr>\r\n                                    ))\r\n                                  }\r\n                                </tbody>\r\n                              </table>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GuruKursus;\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}"],"sourceRoot":""}