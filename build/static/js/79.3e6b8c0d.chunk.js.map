{"version":3,"sources":["components/training/questions/form.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/index.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["FormQuestions","props","closeModalDelete","e","setState","modalDelete","deleteId","autoSave","isDrag","isSaving","state","edited","title","overview","answer","length","id","form","image","session","created_by","Storage","get","data","user_id","API","put","API_SERVER","then","res","error","toast","formData","FormData","append","res2","warning","success","save","newSession","preventDefault","valueLicensesType","valueCourse","training_course_id","String","licenses_type_id","question","question_text","explanation","options","option_label","option_text","optionA","optionB","optionC","optionD","optionE","history","push","post","handleChangeOpt","target","name","value","handleChangeAnswer","handleDynamicInput","handleDynamicInput2","handleOverview","handleChange","files","size","isUploading","selectedSession","indexOf","filter","item","media","result","url","imagePreview","URL","createObjectURL","i","content","sort","splice","selectSession","initialSession","session_title","match","params","companyId","logo","address","telephone","fax","website","email","optionsLicensesType","optionsCourse","file","disabledForm","goBack","bind","this","USER_ME","status","localStorage","getItem","company_id","map","label","notes","getData","getUserData","delete","clearSessionForm","course_id","focus","insertId","forceUpdate","destination","items","Array","from","source","index","reorderedItem","className","src","alt","width","onClick","style","color","goEdit","padding","marginRight","fontSize","for","onChange","mode","enableSearch","resetable","valuePlaceholder","type","display","apiKey","initialValue","init","height","menubar","convert_urls","image_class_list","file_browser_callback_types","file_picker_callback","callback","meta","filetype","input","document","getElementById","click","onchange","dataForm","window","$","ajax","processData","contentType","plugins","toolbar","onEditorChange","placeholder","justifyContent","disabled","Component","__assign","Object","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onClearUndos","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid","EditorPropTypes","inline","outputFormat","tagName","cloudChannel","textareaName","tinymceScriptSrc","scriptLoading","async","defer","delay","isFunction","x","eventAttrToEventName","attrName","substr","configHandlers","editor","prevProps","boundHandlers","lookup","handlerLookup","on","off","adapter","prevEventKeys","keys","currEventKeys","removedKeys","key","undefined","addedKeys","forEach","eventName","wrappedHandler","configHandlers2","_a","unique","uuid","prefix","time","Date","now","Math","floor","random","isTextareaOrInput","element","toLowerCase","normalizePluginArray","isArray","split","mergePlugins","initPlugins","inputPlugins","concat","listeners","scriptId","scriptLoaded","ScriptLoader","load","doc","scriptTagInjection","scriptTag","createElement","referrerPolicy","addEventListener","handler","removeEventListener","head","appendChild","injectScriptTag","fn","setTimeout","reinitialize","CreateScriptLoader","__extends","_extendStatics","d","b","setPrototypeOf","__proto__","TypeError","__","constructor","create","_super","Editor","_b","_c","_this","handleEditorChange","_evt","initialized","newContent","getContent","format","currentContent","initialise","elementRef","current","tinymce","Error","finalInit","selector","readonly","setup","bindHandlers","once","setContent","getInitialValue","no_events","visibility","componentDidUpdate","localEditor_1","undoManager","transact","setMode","componentDidMount","_d","_e","_f","ownerDocument","getScriptSrc","componentWillUnmount","remove","render","renderInline","renderIframe","ref","channel","isValueControlled","wasControlled","nowControlled","propTypes","defaultProps","getGlobal","global","getTinymce","_slicedToArray","arr","Symbol","iterator","toString","_arr","_n","_s","_i","next","done","err"],"mappings":"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","file":"static/js/79.3e6b8c0d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport API, { API_SERVER, USER_ME } from '../../../repository/api';\r\nimport Storage from '../../../repository/storage';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { MultiSelect } from 'react-sm-select';\r\n\r\nclass FormQuestions extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        edited: false,\r\n        initialSession: false,\r\n        id: this.props.match.params.id ? this.props.match.params.id : '',\r\n        companyId:'',\r\n        image:'',\r\n        logo:'',\r\n        imagePreview:'assets/images/no-image.png',\r\n        name: '',\r\n        address: '',\r\n        telephone: '',\r\n        fax: '',\r\n        website: '',\r\n        email: '',\r\n        isUploading: false,\r\n        isSaving: false,\r\n\r\n        explanation: 'Loading...',\r\n        optionA:'',\r\n        optionB:'',\r\n        optionC:'',\r\n        optionD:'',\r\n        optionE:'',\r\n        optionsLicensesType: [],\r\n        valueLicensesType: [],\r\n        optionsCourse: [],\r\n        valueCourse: [],\r\n        answer: '',\r\n        question_text: 'Loading...',\r\n        content:'Loading...',\r\n        title: '',\r\n        overview: 'Loading...',\r\n        session_title : '',\r\n        file: '',\r\n        selectedSession: '',\r\n        media: [],\r\n        modalDelete: false,\r\n        disabledForm: this.props.disabledForm && this.props.id,\r\n        session: []\r\n    };\r\n    this.goBack = this.goBack.bind(this);\r\n  }\r\n  \r\n  goBack() {\r\n    if (this.props.goBack){\r\n        this.props.goBack();\r\n    }\r\n    else{\r\n        this.props.history.push('/training/questions');\r\n    }\r\n  }\r\n\r\n  closeModalDelete = e => {\r\n    this.setState({ modalDelete: false, deleteId: '' })\r\n  }\r\n\r\nautoSave = (isDrag) =>{\r\n    this.setState({isSaving: true})\r\n    if (!this.state.edited && !isDrag){this.setState({isSaving: false}); return;}\r\n    if (!this.state.title || !this.state.overview || !this.state.answer.length){\r\n        toast.warning('Some field is required, please check your data.')\r\n        this.setState({isSaving: false})\r\n    }\r\n    else{\r\n        if (this.state.id){\r\n            let form = {\r\n                image: this.state.image,\r\n                title: this.state.title,\r\n                overview: this.state.overview,\r\n                session: this.state.session,\r\n                created_by: Storage.get('user').data.user_id\r\n            }\r\n            API.put(`${API_SERVER}v2/training/course/${this.state.id}`, form).then(res => {\r\n                if (res.data.error){\r\n                    toast.error('Error edit course')\r\n                }\r\n                else{\r\n                    if (this.state.image){\r\n                        let formData = new FormData();\r\n                        formData.append(\"image\", this.state.image)\r\n                        API.put(`${API_SERVER}v2/training/course/image/${this.state.id}`, formData).then(res2 => {\r\n                            if (res2.data.error){\r\n                                toast.warning('Course edited but fail to upload image')\r\n                                this.setState({edited: false, isSaving: false})\r\n                            }\r\n                            else{\r\n                                toast.success('Automatic saving')\r\n                                this.setState({edited: false, isSaving: false})\r\n                            }\r\n                        })\r\n                    }\r\n                    else{\r\n                        toast.success('Automatic saving')\r\n                        this.setState({edited: false, isSaving: false})\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n  save = (e, newSession) =>{\r\n    this.setState({isSaving: true})\r\n    e.preventDefault();\r\n    if (!this.state.valueLicensesType.length || !this.state.valueCourse.length || !this.state.answer.length){\r\n        toast.warning('Some field is required, please check your data.')\r\n        this.setState({isSaving: false})\r\n    }\r\n    else{\r\n        if (this.state.id){\r\n            let form = {\r\n                training_course_id: String(this.state.valueCourse),\r\n                licenses_type_id: String(this.state.valueLicensesType),\r\n                question: this.state.question_text,\r\n                answer: this.state.answer,\r\n                explanation: this.state.explanation,\r\n                options : [\r\n                    {option_label: 'A', option_text: this.state.optionA},\r\n                    {option_label: 'B', option_text: this.state.optionB},\r\n                    {option_label: 'C', option_text: this.state.optionC},\r\n                    {option_label: 'D', option_text: this.state.optionD},\r\n                    {option_label: 'E', option_text: this.state.optionE},\r\n                ]\r\n            }\r\n            API.put(`${API_SERVER}v2/training/questions/${this.state.id}`, form).then(res => {\r\n                if (res.data.error){\r\n                    toast.error('Error edit questions')\r\n                }\r\n                else{\r\n                    toast.success('Question edited')\r\n                    this.props.history.push(`/training/questions`)\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            let form = {\r\n                training_course_id: String(this.state.valueCourse),\r\n                licenses_type_id: String(this.state.valueLicensesType),\r\n                question: this.state.question_text,\r\n                answer: this.state.answer,\r\n                explanation: this.state.explanation,\r\n                options : [\r\n                    {option_label: 'A', option_text: this.state.optionA},\r\n                    {option_label: 'B', option_text: this.state.optionB},\r\n                    {option_label: 'C', option_text: this.state.optionC},\r\n                    {option_label: 'D', option_text: this.state.optionD},\r\n                    {option_label: 'E', option_text: this.state.optionE},\r\n                ]\r\n            }\r\n            API.post(`${API_SERVER}v2/training/questions`, form).then(res => {\r\n                if (res.data.error){\r\n                    toast.error('Error create questions')\r\n                }\r\n                else{\r\n                    toast.success('New questions added')\r\n                    this.props.history.push(`/training/questions`)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nhandleChangeOpt = e => {\r\n    let {name, value} = e.target;\r\n      this.setState({[name]: value})\r\n}\r\nhandleChangeAnswer = (value) => {\r\n    this.setState({answer: value})\r\n}\r\nhandleDynamicInput = (e) => {\r\n    this.setState({ question_text: e });\r\n}\r\nhandleDynamicInput2 = (e) => {\r\n    this.setState({ explanation: e });\r\n}\r\nhandleOverview = (e) => {\r\n    this.setState({ overview: e, edited:true });\r\n}\r\n  handleChange = e => {\r\n    this.setState({edited: true})\r\n      let {name, value} = e.target;\r\n      if (name==='media'){\r\n        if (e.target.files.length){\r\n            if (e.target.files[0].size <= 500000000) {\r\n                this.setState({isUploading: true})\r\n                let formData = new FormData();\r\n                formData.append(\"media\", e.target.files[0])\r\n                API.post(`${API_SERVER}v2/training/course/session/media/${this.state.selectedSession}`, formData).then(res => {\r\n                    if (res.data.error){\r\n                        toast.warning('Fail to upload image')\r\n                        this.setState({isUploading: false})\r\n                    }\r\n                    else{\r\n                        let i = this.state.session.indexOf(this.state.session.filter(item=> item.id === this.state.selectedSession)[0]);\r\n                        let media = this.state.media;\r\n                        media.push({\r\n                            id: res.data.result.id,\r\n                            name: res.data.result.name,\r\n                            url: res.data.result.url\r\n                        })\r\n                        this.setState({media: media, isUploading: false})\r\n                    }\r\n                })\r\n            } else {\r\n              e.target.value = null;\r\n              toast.warning('Image size cannot larger than 5MB and must be an image file')\r\n            }\r\n        }\r\n      }\r\n      else if (name==='image'){\r\n        if (e.target.files.length){\r\n            if (e.target.files[0].size <= 5000000) {\r\n                let image = {\r\n                    image: e.target.files[0],\r\n                    imagePreview: URL.createObjectURL(e.target.files[0])\r\n                }\r\n                this.setState(image)\r\n            } else {\r\n              e.target.value = null;\r\n              toast.warning('Image size cannot larger than 5MB and must be an image file')\r\n            }\r\n        }\r\n      }\r\n      else if (name==='session_title'){\r\n        this.setState({[name]: value})\r\n        let i = this.state.session.indexOf(this.state.session.filter(item=> item.id === this.state.selectedSession)[0]);\r\n        let item = {\r\n            id : this.state.selectedSession,\r\n            title : value,\r\n            content : this.state.content,\r\n            sort : i,\r\n            media : this.state.media\r\n        }\r\n        this.state.session.splice(i, 1, item)\r\n      }\r\n      else{\r\n          this.setState({[name]: value})\r\n      }\r\n  }\r\n  getData(id){\r\n    API.get(`${API_SERVER}v2/training/questions/read/${id}`).then(res => {\r\n        if (res.data.error){\r\n            toast.error('Error read questions')\r\n        }\r\n        else{\r\n            this.setState({\r\n                id: res.data.result.id,\r\n                question_text: res.data.result.question,\r\n                explanation: res.data.result.explanation,\r\n                answer: res.data.result.answer,\r\n                valueCourse: [res.data.result.training_course_id],\r\n                valueLicensesType: [res.data.result.licenses_type_id],\r\n                optionA: res.data.result.options.filter(item => item.option_label === 'A').length ? res.data.result.options.filter(item=> item.option_label === 'A')[0].option_text : '',\r\n                optionB: res.data.result.options.filter(item => item.option_label === 'B').length ?res.data.result.options.filter(item=> item.option_label === 'B')[0].option_text : '',\r\n                optionC: res.data.result.options.filter(item => item.option_label === 'C').length ?res.data.result.options.filter(item=> item.option_label === 'C')[0].option_text : '',\r\n                optionD: res.data.result.options.filter(item => item.option_label === 'D').length ?res.data.result.options.filter(item=> item.option_label === 'D')[0].option_text : '',\r\n                optionE: res.data.result.options.filter(item => item.option_label === 'E').length ?res.data.result.options.filter(item=> item.option_label === 'E')[0].option_text : '',\r\n            })\r\n        }\r\n    })\r\n  }\r\n  getUserData(){\r\n    API.get(`${USER_ME}${Storage.get('user').data.email}`).then(res => {\r\n        if (res.status === 200) {\r\n          this.setState({ companyId: localStorage.getItem('companyID') ? localStorage.getItem('companyID') : res.data.result.company_id },()=>{\r\n            API.get(`${API_SERVER}v2/training/settings/licenses-type/${this.state.companyId}`).then(res => {\r\n                if (res.data.error){\r\n                    toast.error(`Error read licenses type`)\r\n                }\r\n                else{\r\n                    res.data.result.map((item)=>{\r\n                        this.state.optionsLicensesType.push({label: (item.notes.length ? `${item.name} - ${item.notes}` : item.name), value: item.id})\r\n                    })\r\n                }\r\n            })\r\n            API.get(`${API_SERVER}v2/training/course-list-admin/${this.state.companyId}`).then(res => {\r\n                if (res.data.error){\r\n                    toast.error(`Error read course list`)\r\n                }\r\n                else{\r\n                    res.data.result.map((item)=>{\r\n                        this.state.optionsCourse.push({label: item.title, value: item.id})\r\n                    })\r\n                    if (this.props.disabledForm && this.props.id){\r\n                        this.getData(this.props.id);\r\n                    }\r\n                    else if (this.props.match.params.id){\r\n                        this.getData(this.props.match.params.id);\r\n                    }\r\n                    else{\r\n                        this.setState({\r\n                            question_text: '',\r\n                            explanation: '',\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n          });\r\n        }\r\n    })\r\n  }\r\n  componentDidMount(){\r\n    this.getUserData();\r\n  }\r\n\r\n  selectSession = (id) => {\r\n      if (this.state.selectedSession !== id){\r\n        this.autoSave();\r\n        this.setState({\r\n          initialSession: true,\r\n          selectedSession : this.state.session.filter(item => item.id === id)[0].id,\r\n          session_title : this.state.session.filter(item => item.id === id)[0].title,\r\n          content : this.state.session.filter(item => item.id === id)[0].content,\r\n          media : this.state.session.filter(item => item.id === id)[0].media,\r\n        })\r\n      }\r\n      else{\r\n        this.setState({\r\n          initialSession: true,\r\n          selectedSession : this.state.session.filter(item => item.id === id)[0].id,\r\n          session_title : this.state.session.filter(item => item.id === id)[0].title,\r\n          content : this.state.session.filter(item => item.id === id)[0].content,\r\n          media : this.state.session.filter(item => item.id === id)[0].media,\r\n        })\r\n      }\r\n  }\r\n\r\n  clearSessionForm(){\r\n    this.setState({\r\n        edited: false,\r\n        selectedSession : '',\r\n        session_title : '',\r\n        content : '',\r\n        media : []\r\n      })\r\n  }\r\n\r\n  deleteSession(){\r\n    API.delete(`${API_SERVER}v2/training/course/session/${this.state.selectedSession}`).then(res => {\r\n        if (res.data.error){\r\n            toast.error('Error delete course')\r\n        }\r\n        else{\r\n            let i = this.state.session.indexOf(this.state.session.filter(item=> item.id === this.state.selectedSession)[0]);\r\n            let form = {\r\n                id : this.state.session[i].id\r\n            }\r\n            let session = this.state.session;\r\n            session.splice(i, 1);\r\n            this.setState({session : session});\r\n            if (session.length){\r\n              this.selectSession(session[0].id);\r\n            }\r\n            else{\r\n              this.setState({initialSession: false})\r\n              this.clearSessionForm();\r\n            }\r\n            this.closeModalDelete();\r\n        }\r\n    })\r\n  }\r\n\r\n  addNewSession(){\r\n    if (!this.state.title){\r\n        toast.warning('Some field is required, please check your data.')\r\n        this.setState({isSaving: false})\r\n    }\r\n    else{\r\n        let form = {\r\n          course_id : this.props.match.params.id ? this.props.match.params.id : this.state.id,\r\n          title : \"\",\r\n          content : \"\",\r\n          sort : this.state.session.length,\r\n        };\r\n      API.post(`${API_SERVER}v2/training/course/session`, form).then(res => {\r\n          if (res.data.error){\r\n              toast.error('Error create session')\r\n          }\r\n          else{\r\n              this.setState({initialSession: true}, ()=>{\r\n                  this.session_title.focus();\r\n                  this.state.session.push({\r\n                      id : res.data.result.insertId,\r\n                      title : \"\",\r\n                      content : \"\",\r\n                      sort : this.state.session.length,\r\n                      media : []\r\n                  })\r\n                  let id = this.state.session[this.state.session.length-1].id;\r\n                  this.setState({\r\n                    initialSession: true,\r\n                    selectedSession : this.state.session.filter(item => item.id === id)[0].id,\r\n                    session_title : this.state.session.filter(item => item.id === id)[0].title,\r\n                    content : this.state.session.filter(item => item.id === id)[0].content,\r\n                    media : this.state.session.filter(item => item.id === id)[0].media,\r\n                  })\r\n                  this.forceUpdate()\r\n              })\r\n          }\r\n      })\r\n    }\r\n  }\r\n  handleOnDragEnd(result){\r\n    if (!result.destination) return;\r\n    const items = Array.from(this.state.session);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    this.setState({session: items},()=>{\r\n        this.autoSave(true)\r\n    })\r\n  }\r\n  render() {\r\n    let {session, media} = this.state;\r\n    return(\r\n        <div className=\"pcoded-main-container\">\r\n            <div className=\"pcoded-wrapper\">\r\n                <div className=\"pcoded-content\">\r\n                    <div className=\"pcoded-inner-content\">\r\n                        <div className=\"main-body\">\r\n                            <div className=\"page-wrapper\">\r\n                                <div className=\"floating-back\">\r\n                                    <img\r\n                                    src={`newasset/back-button.svg`}\r\n                                    alt=\"\"\r\n                                    width={90}\r\n                                    onClick={this.goBack}\r\n                                    ></img>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-xl-12\">\r\n                                        <div>\r\n                                            <div className=\"card p-20\">\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-sm-10 m-b-20\">\r\n                                                        <strong className=\"f-w-bold f-18\" style={{color:'#000'}}>{this.props.id ? 'Detail' : this.props.match.params.id ? 'Edit' : 'Create New'} Questions</strong>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-2 m-b-20\">\r\n                                                        {\r\n                                                        this.props.disabledForm &&\r\n                                                        <button\r\n                                                        onClick={this.props.goEdit}\r\n                                                        className=\"btn btn-icademy-primary float-right\"\r\n                                                        style={{ padding: \"7px 8px !important\", marginRight: 30 }}>\r\n                                                            <i className=\"fa fa-edit\"></i>\r\n                                                            Edit\r\n                                                        </button>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-section\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-sm-12 m-b-20\">\r\n                                                            <strong className=\"f-w-bold\" style={{color:'#000', fontSize:'15px'}}>Questions Configuration</strong>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"form-field-top-label\" style={{width:400}}>\r\n                                                            <label for=\"licenses\">Licenses Type<required>*</required></label>\r\n                                                            <MultiSelect id=\"licenses\" options={this.state.optionsLicensesType} value={this.state.valueLicensesType} onChange={valueLicensesType => this.setState({ valueLicensesType })} mode=\"single\" enableSearch={true} resetable={true} valuePlaceholder=\"Select Licenses Type\" />\r\n                                                        </div>\r\n                                                        <div className=\"form-field-top-label\" style={{width:400}}>\r\n                                                            <label for=\"course\">Course<required>*</required></label>\r\n                                                            <MultiSelect id=\"course\" options={this.state.optionsCourse} value={this.state.valueCourse} onChange={valueCourse => this.setState({ valueCourse })} mode=\"single\" enableSearch={true} resetable={true} valuePlaceholder=\"Select Course\" />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-section no-border\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-sm-12 m-b-20\">\r\n                                                            <strong className=\"f-w-bold\" style={{color:'#000', fontSize:'15px'}}>Questions & Answers</strong>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"row\">\r\n                                                                    <div className=\"form-field-top-label\" style={{width:'80%'}}>\r\n                                                                        <label for=\"name\">Question<required>*</required></label>\r\n                                                                        <input id={`myFile`} type=\"file\" name={`myFile`} style={{display:\"none\"}} onChange=\"\" />\r\n                                                                        {\r\n                                                                            this.state.question_text !== 'Loading...' ?\r\n                                                                            <Editor\r\n                                                                                apiKey=\"j18ccoizrbdzpcunfqk7dugx72d7u9kfwls7xlpxg7m21mb5\"\r\n                                                                                initialValue={this.state.question_text}\r\n                                                                                value={this.state.question_text}\r\n                                                                                init={{\r\n                                                                                height: 400,\r\n                                                                                width: \"100%\",\r\n                                                                                menubar: false,\r\n                                                                                convert_urls: false,\r\n                                                                                image_class_list: [\r\n                                                                                    {title: 'None', value: ''},\r\n                                                                                    {title: 'Responsive', value: 'img-responsive'},\r\n                                                                                    {title: 'Thumbnail', value: 'img-responsive img-thumbnail'}\r\n                                                                                ],\r\n                                                                                file_browser_callback_types: 'image',\r\n                                                                                file_picker_callback: function (callback, value, meta) {\r\n                                                                                    if (meta.filetype == 'image') {\r\n                                                                                    var input = document.getElementById(`myFile`);\r\n                                                                                    input.click();\r\n                                                                                    input.onchange = function () {\r\n            \r\n                                                                                        var dataForm = new FormData();\r\n                                                                                        dataForm.append('file', this.files[0]);\r\n            \r\n                                                                                        window.$.ajax({\r\n                                                                                        url: `${API_SERVER}v2/media/upload`,\r\n                                                                                        type: 'POST',\r\n                                                                                        data: dataForm,\r\n                                                                                        processData: false,\r\n                                                                                        contentType: false,\r\n                                                                                        success: (data)=>{\r\n                                                                                            callback(data.result.url);\r\n                                                                                            this.value = '';\r\n                                                                                        }\r\n                                                                                        })\r\n            \r\n                                                                                    };\r\n                                                                                    }\r\n                                                                                },\r\n                                                                                plugins: [\r\n                                                                                    \"advlist autolink lists link image charmap print preview anchor\",\r\n                                                                                    \"searchreplace visualblocks code fullscreen\",\r\n                                                                                    \"insertdatetime media table paste code help wordcount\"\r\n                                                                                ],\r\n                                                                                toolbar:\r\n                                                                                    // eslint-disable-next-line no-multi-str\r\n                                                                                    \"undo redo | bold italic backcolor | \\\r\n                                                                                alignleft aligncenter alignright alignjustify | image | \\\r\n                                                                                    bullist numlist outdent indent | removeformat | help\"\r\n                                                                                }}\r\n                                                                                onEditorChange={e => this.handleDynamicInput(e)}\r\n                                                                            />\r\n                                                                            :null\r\n                                                                        }\r\n                                                                    </div>\r\n                                                                    <div className={`form-field-top-label exam-option ${this.state.answer === 'A' && ' answer'}`}>\r\n                                                                        <label for=\"optionA\">Option A</label>\r\n                                                                        <input type=\"text\" name=\"optionA\" id=\"optionA\" placeholder=\"Nothing\" onChange={this.handleChangeOpt} value={this.state.optionA}/>\r\n                                                                        <i className=\"fa fa-check-circle\" onClick={this.handleChangeAnswer.bind(this, 'A')}></i>\r\n                                                                        <p>This is the correct answer</p>\r\n                                                                    </div>\r\n                                                                    <div className={`form-field-top-label exam-option ${this.state.answer === 'B' && ' answer'}`}>\r\n                                                                        <label for=\"optionB\">Option B</label>\r\n                                                                        <input type=\"text\" name=\"optionB\" id=\"optionB\" placeholder=\"Nothing\" onChange={this.handleChangeOpt} value={this.state.optionB}/>\r\n                                                                        <i className=\"fa fa-check-circle\" onClick={this.handleChangeAnswer.bind(this, 'B')}></i>\r\n                                                                        <p>This is the correct answer</p>\r\n                                                                    </div>\r\n                                                                    <div className={`form-field-top-label exam-option ${this.state.answer === 'C' && ' answer'}`}>\r\n                                                                        <label for=\"optionC\">Option C</label>\r\n                                                                        <input type=\"text\" name=\"optionC\" id=\"optionC\" placeholder=\"Nothing\" onChange={this.handleChangeOpt} value={this.state.optionC}/>\r\n                                                                        <i className=\"fa fa-check-circle\" onClick={this.handleChangeAnswer.bind(this, 'C')}></i>\r\n                                                                        <p>This is the correct answer</p>\r\n                                                                    </div>\r\n                                                                    <div className={`form-field-top-label exam-option ${this.state.answer === 'D' && ' answer'}`}>\r\n                                                                        <label for=\"optionD\">Option D</label>\r\n                                                                        <input type=\"text\" name=\"optionD\" id=\"optionD\" placeholder=\"Nothing\" onChange={this.handleChangeOpt} value={this.state.optionD}/>\r\n                                                                        <i className=\"fa fa-check-circle\" onClick={this.handleChangeAnswer.bind(this, 'D')}></i>\r\n                                                                        <p>This is the correct answer</p>\r\n                                                                    </div>\r\n                                                                    <div className={`form-field-top-label exam-option ${this.state.answer === 'E' && ' answer'}`}>\r\n                                                                        <label for=\"optionE\">Option E</label>\r\n                                                                        <input type=\"text\" name=\"optionE\" id=\"optionE\" placeholder=\"Nothing\" onChange={this.handleChangeOpt} value={this.state.optionE}/>\r\n                                                                        <i className=\"fa fa-check-circle\" onClick={this.handleChangeAnswer.bind(this, 'E')}></i>\r\n                                                                        <p>This is the correct answer</p>\r\n                                                                    </div>\r\n                                                                    <div className=\"form-field-top-label\" style={{width:'80%'}}>\r\n                                                                        <label for=\"name\">Explanation</label>\r\n                                                                        <input id={`myFile`} type=\"file\" name={`myFile`} style={{display:\"none\"}} onChange=\"\" />\r\n                                                                        {\r\n                                                                            this.state.explanation !== 'Loading...' ?\r\n                                                                            <Editor\r\n                                                                                apiKey=\"j18ccoizrbdzpcunfqk7dugx72d7u9kfwls7xlpxg7m21mb5\"\r\n                                                                                initialValue={this.state.explanation}\r\n                                                                                value={this.state.explanation}\r\n                                                                                init={{\r\n                                                                                height: 240,\r\n                                                                                width: \"100%\",\r\n                                                                                menubar: false,\r\n                                                                                convert_urls: false,\r\n                                                                                image_class_list: [\r\n                                                                                    {title: 'None', value: ''},\r\n                                                                                    {title: 'Responsive', value: 'img-responsive'},\r\n                                                                                    {title: 'Thumbnail', value: 'img-responsive img-thumbnail'}\r\n                                                                                ],\r\n                                                                                file_browser_callback_types: 'image',\r\n                                                                                file_picker_callback: function (callback, value, meta) {\r\n                                                                                    if (meta.filetype == 'image') {\r\n                                                                                    var input = document.getElementById(`myFile`);\r\n                                                                                    input.click();\r\n                                                                                    input.onchange = function () {\r\n            \r\n                                                                                        var dataForm = new FormData();\r\n                                                                                        dataForm.append('file', this.files[0]);\r\n            \r\n                                                                                        window.$.ajax({\r\n                                                                                        url: `${API_SERVER}v2/media/upload`,\r\n                                                                                        type: 'POST',\r\n                                                                                        data: dataForm,\r\n                                                                                        processData: false,\r\n                                                                                        contentType: false,\r\n                                                                                        success: (data)=>{\r\n                                                                                            callback(data.result.url);\r\n                                                                                            this.value = '';\r\n                                                                                        }\r\n                                                                                        })\r\n            \r\n                                                                                    };\r\n                                                                                    }\r\n                                                                                },\r\n                                                                                plugins: [\r\n                                                                                    \"advlist autolink lists link image charmap print preview anchor\",\r\n                                                                                    \"searchreplace visualblocks code fullscreen\",\r\n                                                                                    \"insertdatetime media table paste code help wordcount\"\r\n                                                                                ],\r\n                                                                                toolbar:\r\n                                                                                    // eslint-disable-next-line no-multi-str\r\n                                                                                    \"undo redo | bold italic backcolor | \\\r\n                                                                                alignleft aligncenter alignright alignjustify | image | \\\r\n                                                                                    bullist numlist outdent indent | removeformat | help\"\r\n                                                                                }}\r\n                                                                                onEditorChange={e => this.handleDynamicInput2(e)}\r\n                                                                            />\r\n                                                                            :null\r\n                                                                        }\r\n                                                                    </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"row\" style={{justifyContent:'flex-end'}}>\r\n                                                    {\r\n                                                    !this.props.disabledForm &&\r\n                                                    <button\r\n                                                    disabled={this.state.isSaving}\r\n                                                    onClick={this.save}\r\n                                                    className=\"btn btn-icademy-primary float-right\"\r\n                                                    style={{ padding: \"7px 8px !important\", marginRight: 30 }}>\r\n                                                        <i className=\"fa fa-save\"></i>\r\n                                                        {this.state.isSaving ? 'Saving...' : 'Save'}\r\n                                                    </button>\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FormQuestions;\r\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n  onActivate: PropTypes.func,\n  onAddUndo: PropTypes.func,\n  onBeforeAddUndo: PropTypes.func,\n  onBeforeExecCommand: PropTypes.func,\n  onBeforeGetContent: PropTypes.func,\n  onBeforeRenderUI: PropTypes.func,\n  onBeforeSetContent: PropTypes.func,\n  onBeforePaste: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onClearUndos: PropTypes.func,\n  onClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onCopy: PropTypes.func,\n  onCut: PropTypes.func,\n  onDblclick: PropTypes.func,\n  onDeactivate: PropTypes.func,\n  onDirty: PropTypes.func,\n  onDrag: PropTypes.func,\n  onDragDrop: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragGesture: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDrop: PropTypes.func,\n  onExecCommand: PropTypes.func,\n  onFocus: PropTypes.func,\n  onFocusIn: PropTypes.func,\n  onFocusOut: PropTypes.func,\n  onGetContent: PropTypes.func,\n  onHide: PropTypes.func,\n  onInit: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  onLoadContent: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onNodeChange: PropTypes.func,\n  onObjectResizeStart: PropTypes.func,\n  onObjectResized: PropTypes.func,\n  onObjectSelected: PropTypes.func,\n  onPaste: PropTypes.func,\n  onPostProcess: PropTypes.func,\n  onPostRender: PropTypes.func,\n  onPreProcess: PropTypes.func,\n  onProgressState: PropTypes.func,\n  onRedo: PropTypes.func,\n  onRemove: PropTypes.func,\n  onReset: PropTypes.func,\n  onSaveContent: PropTypes.func,\n  onSelectionChange: PropTypes.func,\n  onSetAttrib: PropTypes.func,\n  onSetContent: PropTypes.func,\n  onShow: PropTypes.func,\n  onSubmit: PropTypes.func,\n  onUndo: PropTypes.func,\n  onVisualAid: PropTypes.func\n};\nexport var EditorPropTypes = __assign({\n  apiKey: PropTypes.string,\n  id: PropTypes.string,\n  inline: PropTypes.bool,\n  init: PropTypes.object,\n  initialValue: PropTypes.string,\n  onEditorChange: PropTypes.func,\n  outputFormat: PropTypes.oneOf(['html', 'text']),\n  value: PropTypes.string,\n  tagName: PropTypes.string,\n  cloudChannel: PropTypes.string,\n  plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  disabled: PropTypes.bool,\n  textareaName: PropTypes.string,\n  tinymceScriptSrc: PropTypes.string,\n  scriptLoading: PropTypes.shape({\n    async: PropTypes.bool,\n    defer: PropTypes.bool,\n    delay: PropTypes.number\n  })\n}, eventPropTypes);","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function isFunction(x) {\n  return typeof x === 'function';\n};\n\nvar isEventProp = function isEventProp(name) {\n  return name in eventPropTypes;\n};\n\nvar eventAttrToEventName = function eventAttrToEventName(attrName) {\n  return attrName.substr(2);\n};\n\nexport var configHandlers2 = function configHandlers2(handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n  var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n  var currEventKeys = Object.keys(props).filter(isEventProp);\n  var removedKeys = prevEventKeys.filter(function (key) {\n    return props[key] === undefined;\n  });\n  var addedKeys = currEventKeys.filter(function (key) {\n    return prevProps[key] === undefined;\n  });\n  removedKeys.forEach(function (key) {\n    // remove event handler\n    var eventName = eventAttrToEventName(key);\n    var wrappedHandler = boundHandlers[eventName];\n    off(eventName, wrappedHandler);\n    delete boundHandlers[eventName];\n  });\n  addedKeys.forEach(function (key) {\n    var wrappedHandler = adapter(handlerLookup, key);\n    var eventName = eventAttrToEventName(key);\n    boundHandlers[eventName] = wrappedHandler;\n    on(eventName, wrappedHandler);\n  });\n};\nexport var configHandlers = function configHandlers(editor, prevProps, props, boundHandlers, lookup) {\n  return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), function (handlerLookup, key) {\n    return function (e) {\n      var _a;\n\n      return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor);\n    };\n  }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function uuid(prefix) {\n  var time = Date.now();\n  var random = Math.floor(Math.random() * 1000000000);\n  unique++;\n  return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function isTextareaOrInput(element) {\n  return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\n\nvar normalizePluginArray = function normalizePluginArray(plugins) {\n  if (typeof plugins === 'undefined' || plugins === '') {\n    return [];\n  }\n\n  return Array.isArray(plugins) ? plugins : plugins.split(' ');\n}; // eslint-disable-next-line max-len\n\n\nexport var mergePlugins = function mergePlugins(initPlugins, inputPlugins) {\n  return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\n};","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\n\nvar createState = function createState() {\n  return {\n    listeners: [],\n    scriptId: uuid('tiny-script'),\n    scriptLoading: false,\n    scriptLoaded: false\n  };\n};\n\nvar CreateScriptLoader = function CreateScriptLoader() {\n  var state = createState();\n\n  var injectScriptTag = function injectScriptTag(scriptId, doc, url, async, defer, callback) {\n    var scriptTag = doc.createElement('script');\n    scriptTag.referrerPolicy = 'origin';\n    scriptTag.type = 'application/javascript';\n    scriptTag.id = scriptId;\n    scriptTag.src = url;\n    scriptTag.async = async;\n    scriptTag.defer = defer;\n\n    var handler = function handler() {\n      scriptTag.removeEventListener('load', handler);\n      callback();\n    };\n\n    scriptTag.addEventListener('load', handler);\n\n    if (doc.head) {\n      doc.head.appendChild(scriptTag);\n    }\n  };\n\n  var load = function load(doc, url, async, defer, delay, callback) {\n    var scriptTagInjection = function scriptTagInjection() {\n      return injectScriptTag(state.scriptId, doc, url, async, defer, function () {\n        state.listeners.forEach(function (fn) {\n          return fn();\n        });\n        state.scriptLoaded = true;\n      });\n    };\n\n    if (state.scriptLoaded) {\n      callback();\n    } else {\n      state.listeners.push(callback);\n\n      if (!state.scriptLoading) {\n        state.scriptLoading = true;\n\n        if (delay > 0) {\n          setTimeout(scriptTagInjection, delay);\n        } else {\n          scriptTagInjection();\n        }\n      }\n    }\n  }; // Only to be used by tests.\n\n\n  var reinitialize = function reinitialize() {\n    state = createState();\n  };\n\n  return {\n    load: load,\n    reinitialize: reinitialize\n  };\n};\n\nvar ScriptLoader = CreateScriptLoader();\nexport { ScriptLoader };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\n\nvar Editor =\n/** @class */\nfunction (_super) {\n  __extends(Editor, _super);\n\n  function Editor(props) {\n    var _a, _b, _c;\n\n    var _this = _super.call(this, props) || this;\n\n    _this.handleEditorChange = function (_evt) {\n      var _a;\n\n      var editor = _this.editor;\n\n      if (editor && editor.initialized) {\n        var newContent = editor.getContent({\n          format: _this.props.outputFormat\n        });\n\n        if (newContent !== _this.currentContent) {\n          _this.currentContent = newContent;\n\n          if (isFunction(_this.props.onEditorChange)) {\n            _this.props.onEditorChange((_a = _this.currentContent) !== null && _a !== void 0 ? _a : '', editor);\n          }\n        }\n      }\n    };\n\n    _this.initialise = function () {\n      var target = _this.elementRef.current;\n\n      if (!target) {\n        return; // Editor has been unmounted\n      }\n\n      var tinymce = getTinymce();\n\n      if (!tinymce) {\n        throw new Error('tinymce should have been loaded into global scope');\n      }\n\n      var finalInit = __assign(__assign({}, _this.props.init), {\n        selector: undefined,\n        target: target,\n        readonly: _this.props.disabled,\n        inline: _this.inline,\n        plugins: mergePlugins(_this.props.init && _this.props.init.plugins, _this.props.plugins),\n        toolbar: _this.props.toolbar || _this.props.init && _this.props.init.toolbar,\n        setup: function setup(editor) {\n          _this.editor = editor;\n\n          _this.bindHandlers({}); // When running in inline mode the editor gets the initial value\n          // from the innerHTML of the element it is initialized on.\n          // However we don't want to take on the responsibility of sanitizing\n          // to remove XSS in the react integration so we have a chicken and egg\n          // problem... We avoid it by sneaking in a set content before the first\n          // \"official\" setContent and using TinyMCE to do the sanitization.\n\n\n          if (_this.inline && !isTextareaOrInput(target)) {\n            editor.once('PostRender', function (_evt) {\n              editor.setContent(_this.getInitialValue(), {\n                no_events: true\n              });\n            });\n          }\n\n          if (_this.props.init && isFunction(_this.props.init.setup)) {\n            _this.props.init.setup(editor);\n          }\n        }\n      });\n\n      if (!_this.inline) {\n        target.style.visibility = '';\n      }\n\n      if (isTextareaOrInput(target)) {\n        target.value = _this.getInitialValue();\n      }\n\n      tinymce.init(finalInit);\n    };\n\n    _this.id = _this.props.id || uuid('tiny-react');\n    _this.elementRef = React.createRef();\n    _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n    _this.boundHandlers = {};\n    return _this;\n  }\n\n  Editor.prototype.componentDidUpdate = function (prevProps) {\n    var _this = this;\n\n    var _a;\n\n    if (this.editor && this.editor.initialized) {\n      this.bindHandlers(prevProps);\n      this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent({\n        format: this.props.outputFormat\n      });\n\n      if (typeof this.props.value === 'string' && this.props.value !== prevProps.value && this.props.value !== this.currentContent) {\n        var localEditor_1 = this.editor;\n        localEditor_1.undoManager.transact(function () {\n          return localEditor_1.setContent(_this.props.value);\n        });\n      }\n\n      if (typeof this.props.disabled === 'boolean' && this.props.disabled !== prevProps.disabled) {\n        this.editor.setMode(this.props.disabled ? 'readonly' : 'design');\n      }\n    }\n  };\n\n  Editor.prototype.componentDidMount = function () {\n    var _a, _b, _c, _d, _e, _f;\n\n    if (getTinymce() !== null) {\n      this.initialise();\n    } else if (this.elementRef.current && this.elementRef.current.ownerDocument) {\n      ScriptLoader.load(this.elementRef.current.ownerDocument, this.getScriptSrc(), (_b = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async) !== null && _b !== void 0 ? _b : false, (_d = (_c = this.props.scriptLoading) === null || _c === void 0 ? void 0 : _c.defer) !== null && _d !== void 0 ? _d : false, (_f = (_e = this.props.scriptLoading) === null || _e === void 0 ? void 0 : _e.delay) !== null && _f !== void 0 ? _f : 0, this.initialise);\n    }\n  };\n\n  Editor.prototype.componentWillUnmount = function () {\n    var _this = this;\n\n    var editor = this.editor;\n\n    if (editor) {\n      editor.off('change keyup setcontent', this.handleEditorChange);\n      Object.keys(this.boundHandlers).forEach(function (eventName) {\n        editor.off(eventName, _this.boundHandlers[eventName]);\n      });\n      this.boundHandlers = {};\n      editor.remove();\n      this.editor = undefined;\n    }\n  };\n\n  Editor.prototype.render = function () {\n    return this.inline ? this.renderInline() : this.renderIframe();\n  };\n\n  Editor.prototype.renderInline = function () {\n    var _a = this.props.tagName,\n        tagName = _a === void 0 ? 'div' : _a;\n    return React.createElement(tagName, {\n      ref: this.elementRef,\n      id: this.id\n    });\n  };\n\n  Editor.prototype.renderIframe = function () {\n    return React.createElement('textarea', {\n      ref: this.elementRef,\n      style: {\n        visibility: 'hidden'\n      },\n      name: this.props.textareaName,\n      id: this.id\n    });\n  };\n\n  Editor.prototype.getScriptSrc = function () {\n    if (typeof this.props.tinymceScriptSrc === 'string') {\n      return this.props.tinymceScriptSrc;\n    } else {\n      var channel = this.props.cloudChannel;\n      var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n      return \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\";\n    }\n  };\n\n  Editor.prototype.getInitialValue = function () {\n    if (typeof this.props.value === 'string') {\n      return this.props.value;\n    } else if (typeof this.props.initialValue === 'string') {\n      return this.props.initialValue;\n    } else {\n      return '';\n    }\n  };\n\n  Editor.prototype.bindHandlers = function (prevProps) {\n    var _this = this;\n\n    if (this.editor !== undefined) {\n      // typescript chokes trying to understand the type of the lookup function\n      configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) {\n        return _this.props[key];\n      }); // check if we should monitor editor changes\n\n      var isValueControlled = function isValueControlled(p) {\n        return p.onEditorChange !== undefined || p.value !== undefined;\n      };\n\n      var wasControlled = isValueControlled(prevProps);\n      var nowControlled = isValueControlled(this.props);\n\n      if (!wasControlled && nowControlled) {\n        this.editor.on('change keyup setcontent', this.handleEditorChange);\n      } else if (wasControlled && !nowControlled) {\n        this.editor.off('change keyup setcontent', this.handleEditorChange);\n      }\n    }\n  };\n\n  Editor.propTypes = EditorPropTypes;\n  Editor.defaultProps = {\n    cloudChannel: '5'\n  };\n  return Editor;\n}(React.Component);\n\nexport { Editor };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { Editor } from './components/Editor';\nexport { Editor };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function getGlobal() {\n  return typeof window !== 'undefined' ? window : global;\n};\n\nvar getTinymce = function getTinymce() {\n  var global = getGlobal();\n  return global && global.tinymce ? global.tinymce : null;\n};\n\nexport { getTinymce };","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}"],"sourceRoot":""}