(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[63],{1e3:function(e,t,a){"use strict";var l=a(1),r=a(4),n=a(867),s=a(0),i=a.n(s);var c=a(759),o=a(758),m=a(461),d=a(730),u=function(){},h=i.a.forwardRef((function(e,t){var a,h,p=e.as,E=void 0===p?"ul":p,g=e.onSelect,f=e.activeKey,b=e.role,v=e.onKeyDown,N=Object(r.a)(e,["as","onSelect","activeKey","role","onKeyDown"]),y=Object(s.useReducer)((function(e){return!e}),!1)[1],k=Object(s.useRef)(!1),w=Object(s.useContext)(m.a),S=Object(s.useContext)(d.a);S&&(b=b||"tablist",f=S.activeKey,a=S.getControlledId,h=S.getControllerId);var j=Object(s.useRef)(null),x=function(e){var t=j.current;if(!t)return null;var a=Object(n.a)(t,"[data-rb-event-key]:not(.disabled)"),l=t.querySelector(".active");if(!l)return null;var r=a.indexOf(l);if(-1===r)return null;var s=r+e;return s>=a.length&&(s=0),s<0&&(s=a.length-1),a[s]},C=function(e,t){null!=e&&(g&&g(e,t),w&&w(e,t))};Object(s.useEffect)((function(){if(j.current&&k.current){var e=j.current.querySelector("[data-rb-event-key].active");e&&e.focus()}k.current=!1}));var M=Object(c.a)(t,j);return i.a.createElement(m.a.Provider,{value:C},i.a.createElement(o.a.Provider,{value:{role:b,activeKey:Object(m.b)(f),getControlledId:a||u,getControllerId:h||u}},i.a.createElement(E,Object(l.a)({},N,{onKeyDown:function(e){var t;switch(v&&v(e),e.key){case"ArrowLeft":case"ArrowUp":t=x(-1);break;case"ArrowRight":case"ArrowDown":t=x(1);break;default:return}t&&(e.preventDefault(),C(t.dataset.rbEventKey,e),k.current=!0,y())},ref:M,role:b}))))}));t.a=h},1405:function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(10),s=a(8),i=a(18),c=a(3),o=a(2),m=a(229);a(118);class d extends r.a.Component{constructor(){super(...arguments),this.state={idKelas:"",namaKelas:"",semester:"",kurikulum:"",tahunAjaran:"",kapasitas:"",kurikulums:[],listSemester:[],listKelas:[],dataMurid:[],optionsName:[],muridId:[],semesterId:""},this.saveKelas=e=>{if(e.preventDefault(),this.state.idKelas){console.log("update");let e={kelasNama:this.state.namaKelas,semesterId:this.state.semester,kurikulum:this.state.kurikulum,tahunAjaran:this.state.tahunAjaran,kapasitas:this.state.kapasitas};c.l.put("".concat(c.a,"v2/kelas/update/").concat(this.state.idKelas),e).then(e=>{e.data.error&&i.b.warning("Error create kelas"),i.b.success("Update data kelas"),this.fetchKelas()})}else{console.log("insert");let e={companyId:o.a.get("user").data.company_id,kelasNama:this.state.namaKelas,semesterId:this.state.semester,kurikulum:this.state.kurikulum,tahunAjaran:this.state.tahunAjaran,kapasitas:this.state.kapasitas};c.l.post("".concat(c.a,"v2/kelas/create"),e).then(e=>{e.data.error&&i.b.warning("Error create kelas"),i.b.success("Create data kelas"),this.fetchKelas()})}this.clearForm()},this.selectKelas=e=>{e.preventDefault();let t=e.target.getAttribute("data-id");c.l.get("".concat(c.a,"v2/kelas/one/").concat(t)).then(e=>{e.data.error&&i.b.warning("Error fetch data kelas");let a=e.data.result;this.setState({idKelas:t,namaKelas:a.kelas_nama,semester:a.semester_id,kurikulum:a.kurikulum,tahunAjaran:a.tahun_ajaran,kapasitas:a.kapasitas}),this.fetchMurid(t)})},this.deleteKelas=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/kelas/delete/").concat(this.state.idKelas)).then(e=>{e.data.error&&i.b.warning("Error: delete kelas"),this.fetchKelas(),this.clearForm()})},this.addParticipant=e=>{e.preventDefault();let t={muridId:this.state.muridId,kelasId:this.state.idKelas};c.l.post("".concat(c.a,"v2/murid/assign/kelas"),t).then(e=>{e.data.error&&i.b.warning("Error: add murid"),this.fetchMurid(this.state.idKelas),this.setState({muridId:[]})})},this.deleteMurid=e=>{e.preventDefault();let t={muridId:e.target.getAttribute("data-id"),kelasId:this.state.idKelas};c.l.post("".concat(c.a,"v2/murid/assign/delete"),t).then(e=>{e.data.error&&i.b.warning("Error: delete murid"),this.fetchMurid(this.state.idKelas)})},this.handleAcademicYear=e=>{if(9===e.target.value.length)return!0;i.b.warning("Academic must be yyyy/yyyy ex. 2021/2022"),this.setState({tahunAjaran:""})},this.filterSemester=e=>{const{value:t}=e.target;c.l.get("".concat(c.a,"v2/kelas/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data semester"),this.setState({listKelas:e.data.result.filter(e=>e.semester_id==t),semester:t})})}}fetchKurikulum(){c.l.get("".concat(c.a,"v2/kurikulum/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data kurikulum"),this.setState({kurikulums:e.data.result})})}fetchOptionMurid(){c.l.get("".concat(c.a,"v2/murid/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.result.map(e=>{this.state.optionsName.push({value:e.id,label:"".concat(e.no_induk," - ").concat(e.nama)})})})}clearForm(){this.setState({idKelas:"",namaKelas:"",semester:"",kurikulum:"",tahunAjaran:"",kapasitas:"",dataMurid:[],muridId:[]})}fetchMurid(e){c.l.get("".concat(c.a,"v2/murid/kelas/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error fetch murid"),this.setState({dataMurid:e.data.result})})}componentDidMount(){this.fetchKelas(),this.fetchSemester(),this.fetchOptionMurid(),this.fetchKurikulum()}fetchSemester(){c.l.get("".concat(c.a,"v1/semester/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data semester"),this.setState({listSemester:e.data.result})})}fetchKelas(){c.l.get("".concat(c.a,"v2/kelas/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data semester"),this.setState({listKelas:e.data.result})})}render(){return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Kelas",r.a.createElement("select",{required:!0,value:this.state.semesterId,onChange:this.filterSemester,className:"float-right",name:"semester"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"filter semester"),this.state.listSemester.map((e,t)=>r.a.createElement("option",{value:e.semester_id},e.semester_name)))),r.a.createElement("div",{className:"card-body",style:{padding:"5px"}},r.a.createElement("div",{className:"list-group list-group-flush"},this.state.listKelas.map((e,t)=>r.a.createElement(n.b,{onClick:this.selectKelas,"data-id":e.kelas_id,key:t,className:"list-group-item list-group-item-action"},e.tahun_ajaran," - ",e.semester," - ",e.kelas_nama))),""!==this.state.idKelas?r.a.createElement("button",{onClick:()=>this.clearForm(),type:"button",className:"btn btn-v2 btn-primary m-3",style:{width:"88%"}},r.a.createElement("i",{className:"fa fa-plus"})," Add new"):null))),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},""===this.state.idKelas?"Add new class":"Edit class"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.saveKelas},r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Class Name"),r.a.createElement("input",{required:!0,value:this.state.namaKelas,onChange:e=>this.setState({namaKelas:e.target.value}),type:"text",className:"form-control",placeholder:"Enter",name:"namaKelas"})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Semester"),r.a.createElement("select",{required:!0,value:this.state.semester,onChange:e=>this.setState({semester:e.target.value}),className:"form-control",name:"semester"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Pilih semester"),this.state.listSemester.map((e,t)=>r.a.createElement("option",{value:e.semester_id},e.semester_name)))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Kurikulum"),r.a.createElement("select",{required:!0,value:this.state.kurikulum,onChange:e=>this.setState({kurikulum:e.target.value}),className:"form-control",name:"kurikulum"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Pilih kurikulum"),this.state.kurikulums.map((e,t)=>r.a.createElement("option",{value:e.id},e.name)))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Academic Year"),r.a.createElement("input",{required:!0,value:this.state.tahunAjaran,onChange:e=>this.setState({tahunAjaran:e.target.value}),onBlur:this.handleAcademicYear,type:"text",className:"form-control",placeholder:"Enter",name:"tahunAjaran"})),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",null,"Capacity"),r.a.createElement("input",{required:!0,value:this.state.kapasitas,onChange:e=>this.setState({kapasitas:e.target.value}),type:"number",className:"form-control",placeholder:"Enter",name:"kapasitas"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success"},r.a.createElement("i",{className:"fa fa-save"})," Save"),r.a.createElement("button",{onClick:()=>this.clearForm(),type:"button",className:"btn btn-v2 btn-primary ml-2"},r.a.createElement("i",{className:"fa fa-history"})," Reset"),this.state.idKelas&&r.a.createElement("button",{onClick:this.deleteKelas,type:"button",className:"btn btn-v2 btn-danger float-right"},r.a.createElement("i",{className:"fa fa-trash"})," Delete"))))))),this.state.idKelas&&r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Data Murid"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Cari Murid"),r.a.createElement("div",{className:"input-group",style:{background:"transparent"}},r.a.createElement(m.MultiSelect,{id:"userId",options:this.state.optionsName,value:this.state.muridId,onChange:e=>this.setState({muridId:e}),mode:"list",enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih",allSelectedLabel:"Semua"}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{onClick:this.addParticipant,className:"btn btn-default"},r.a.createElement("i",{className:"fa fa-plus"})," Tambah")))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Nama"),r.a.createElement("th",null,"No. Induk"),r.a.createElement("th",null,"Tempat Lahir"),r.a.createElement("th",null,"Tanggal Lahir"),r.a.createElement("th",null,"Jenis Kelamin"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.state.dataMurid.map((e,t)=>r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama),r.a.createElement("td",null,e.no_induk),r.a.createElement("td",null,e.tempat_lahir),r.a.createElement("td",null,e.tanggal_lahir),r.a.createElement("td",null,e.jenis_kelamin),r.a.createElement("td",null,r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteMurid,"data-id":e.murid_id,className:"fa fa-trash ml-2"}))))))))))))}}var u=d,h=a(463),p=a(1617),E=a(1),g=a(4),f=a(15),b=a.n(f),v=(a(213),a(63)),N=a(27),y=a(1e3),k=a(921),w=a(461),S={variant:void 0,active:!1,disabled:!1},j=r.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.active,s=e.disabled,i=e.className,c=e.variant,o=e.action,m=e.as,d=e.eventKey,u=e.onClick,h=Object(g.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);a=Object(N.a)(a,"list-group-item");var p=Object(l.useCallback)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();u&&u(e)}),[s,u]);return s&&void 0===h.tabIndex&&(h.tabIndex=-1,h["aria-disabled"]=!0),r.a.createElement(k.a,Object(E.a)({ref:t},h,{eventKey:Object(w.b)(d,h.href),as:m||(o?h.href?"a":"button":"div"),onClick:p,className:b()(i,a,n&&"active",s&&"disabled",c&&a+"-"+c,o&&a+"-action")}))}));j.defaultProps=S,j.displayName="ListGroupItem";var x=j,C={variant:void 0,horizontal:void 0},M=r.a.forwardRef((function(e,t){var a,l=Object(v.useUncontrolled)(e,{activeKey:"onSelect"}),n=l.className,s=l.bsPrefix,i=l.variant,c=l.horizontal,o=l.as,m=void 0===o?"div":o,d=Object(g.a)(l,["className","bsPrefix","variant","horizontal","as"]),u=Object(N.a)(s,"list-group");return a=c?!0===c?"horizontal":"horizontal-"+c:null,r.a.createElement(y.a,Object(E.a)({ref:t},d,{as:m,className:b()(n,u,i&&u+"-"+i,a&&u+"-"+a)}))}));M.defaultProps=C,M.displayName="ListGroup",M.Item=x;var _=M,I=a(1613);class F extends r.a.Component{constructor(){super(...arguments),this.state={kurikulum:[],id:"",name:"",formAdd:!1,formLesson:!1,optionLessons:[],lessonIds:[],listPelajaran:[]},this.saveKurikulum=e=>{let{value:t}=e.target,a={company_id:o.a.get("user").data.company_id,name:this.state.name};this.state.id?c.l.put("".concat(c.a,"v2/kurikulum/").concat(this.state.id),a).then(e=>{e.data.error&&i.b.warning("Error update kurikulum"),this.fetchKurikulum()}):c.l.post("".concat(c.a,"v2/kurikulum"),a).then(e=>{e.data.error&&i.b.warning("Error save kurikulum"),this.fetchKurikulum()}),this.setState({formAdd:!1,name:"",id:""})},this.selectKurikulum=e=>{e.preventDefault();let t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-name");this.setState({id:t,name:a,formAdd:!0})},this.deleteKurikulum=e=>{e.preventDefault();let t=e.target.getAttribute("data-id");c.l.delete("".concat(c.a,"v2/kurikulum/").concat(t)).then(e=>{e.data.error&&i.b.warning("Error delete data kurikulum"),this.fetchKurikulum()})},this.addMapel=e=>{e.preventDefault();let t={mapel:this.state.lessonIds};c.l.post("".concat(c.a,"v2/kurikulum/").concat(this.state.id,"/mapel"),t).then(e=>{e.data.error&&i.b.warning("Error add data pelajaran"),this.fetchKurikulum(),this.setState({formLesson:!1,id:"",lessonIds:[]})})},this.formAddMapel=e=>{e.preventDefault();let t=e.target.getAttribute("data-id"),a=this.state.kurikulum.filter(e=>e.id==parseInt(t))[0],l=[];if(a.mapel.length)for(var r=0;r<a.mapel.length;r++)l.push(a.mapel[r].pelajaran_id);this.setState({id:t,formLesson:!0,lessonIds:l})},this.deleteMapel=e=>{e.preventDefault();let t=e.target.getAttribute("data-kurikulum"),a=e.target.getAttribute("data-mapel");c.l.delete("".concat(c.a,"v2/kurikulum/").concat(t,"/mapel/").concat(a)).then(e=>{this.fetchKurikulum()})}}componentDidMount(){this.fetchPelajaran(),this.fetchKurikulum()}fetchKurikulum(){c.l.get("".concat(c.a,"v2/kurikulum/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data kurikulum"),this.setState({kurikulum:e.data.result})})}fetchPelajaran(){c.l.get("".concat(c.a,"v2/pelajaran/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data kelas");let t=[...new Map(e.data.result.map(e=>[e.pelajaran_id,e])).values()].map(e=>({value:e.pelajaran_id,label:e.kode_pelajaran+" - "+e.nama_pelajaran}));this.setState({optionLessons:t})})}render(){const{kurikulum:e,listPelajaran:t}=this.state;return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(h.a,null,r.a.createElement(h.a.Header,null,r.a.createElement("h4",null,"Kurikulum",r.a.createElement("button",{onClick:e=>this.setState({formAdd:!0}),className:"btn btn-v2 btn-primary float-right"},r.a.createElement("i",{className:"fa fa-plus"})," Add"))),r.a.createElement(h.a.Body,null,r.a.createElement(p.a,{defaultActiveKey:"0"},e.map((e,t)=>r.a.createElement(h.a,null,r.a.createElement(h.a.Header,null,r.a.createElement("h5",{className:"collapsed","data-toggle":"collapse","data-target":"#colp".concat(t),style:{cursor:"pointer"}},r.a.createElement("i",{className:"fa"})," "," ",e.name),r.a.createElement("button",{onClick:this.formAddMapel,"data-id":e.id,className:"btn btn-v2 btn-primary float-right"},"Lesson"),r.a.createElement("i",{onClick:this.selectKurikulum,"data-id":e.id,"data-name":e.name,style:{cursor:"pointer"},className:"fa fa-edit mr-2"}),r.a.createElement("i",{onClick:this.deleteKurikulum,"data-id":e.id,style:{cursor:"pointer"},className:"fa fa-trash"})),r.a.createElement(h.a.Body,{className:"collapse p-2",id:"colp".concat(t)},r.a.createElement(_,null,e.mapel.map((t,a)=>r.a.createElement(_.Item,{key:a},t.nama_pelajaran," ",r.a.createElement("i",{onClick:this.deleteMapel,"data-kurikulum":e.id,"data-mapel":t.pelajaran_id,className:"fa fa-trash float-right"})))))))))),r.a.createElement(I.a,{show:this.state.formAdd,onHide:()=>this.setState({formAdd:!1,name:"",id:""})},r.a.createElement(I.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{onChange:e=>this.setState({name:e.target.value}),value:this.state.name,className:"form-control",name:"kurikulum"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{onClick:this.saveKurikulum,className:"btn btn-v2 btn-primary"},"Save")))),r.a.createElement(I.a,{show:this.state.formLesson,onHide:()=>this.setState({formLesson:!1,lessonIds:[],id:""})},r.a.createElement(I.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Lessons"),r.a.createElement(m.MultiSelect,{id:"lessonId",options:this.state.optionLessons,value:this.state.lessonIds,onChange:e=>this.setState({lessonIds:e}),mode:"list",enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih",allSelectedLabel:"Semua"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{onClick:this.addMapel,className:"btn btn-v2 btn-primary"},"Add"))))))}}var P=F;class O extends r.a.Component{constructor(){super(...arguments),this.state={idPelajaran:"",namaPelajaran:"",kategori:"",kodePelajaran:"",kelas:"",listKelas:[],listPelajaran:[],openSilabus:!1,pelajaranId:"",silabusId:"",pelajaranNama:"",sesi:"",periode:"",durasi:0,topik:"",tujuan:"",deskripsi:"",jenis:0,files:null,tempFiles:Math.random().toString(36),silabus:[],nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,openProsentase:!1,fileSilabus:"",keyFileSilabus:Math.random().toString(36)},this.importSilabus=e=>{let t=new FormData;t.append("pelajaranId",this.state.pelajaranId),t.append("files",this.state.fileSilabus),c.l.post("".concat(c.a,"v2/silabus/import"),t).then(e=>{200===e.status&&(this.fetchSilabus(this.state.pelajaranId),this.setState({keyFileSilabus:Math.random().toString(36)}))})},this.openProsentase=e=>{e.preventDefault(),this.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openProsentase:!0}),this.fetchProsentase(e.target.getAttribute("data-id"))},this.saveProsentase=e=>{e.preventDefault();let t={tugas:this.state.nilaiTugas,kuis:this.state.nilaiKuis,ujian:this.state.nilaiUjian};c.l.put("".concat(c.a,"v2/nilai-pelajaran/").concat(this.state.pelajaranId),t).then(e=>{e.data.error&&i.b.warning("Warning: update prosentase"),i.b.success("Set prosentase nilai berhasil disimpan"),this.fetchProsentase(this.state.pelajaranId)})},this.savePelajaran=e=>{if(e.preventDefault(),this.state.idPelajaran){console.log("update");let e={namaPelajaran:this.state.namaPelajaran,kategori:this.state.kategori,kodePelajaran:this.state.kodePelajaran};c.l.put("".concat(c.a,"v2/pelajaran/update/").concat(this.state.idPelajaran),e).then(e=>{e.data.error&&i.b.warning("Error create pelajaran"),this.fetchPelajaran()})}else{console.log("insert");let e={companyId:o.a.get("user").data.company_id,namaPelajaran:this.state.namaPelajaran,kategori:this.state.kategori,kodePelajaran:this.state.kodePelajaran};c.l.post("".concat(c.a,"v2/pelajaran/create"),e).then(e=>{e.data.error&&i.b.warning("Error create pelajaran"),this.fetchPelajaran()})}this.clearForm()},this.selectPelajaran=e=>{e.preventDefault();let t=e.target.getAttribute("data-id");c.l.get("".concat(c.a,"v2/pelajaran/one/").concat(t)).then(e=>{e.data.error&&i.b.warning("Error fetch data kelas");let a=e.data.result;this.setState({idPelajaran:t,namaPelajaran:a.nama_pelajaran,kategori:a.kategori,kodePelajaran:a.kode_pelajaran})})},this.deletePelajaran=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/pelajaran/delete/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error: delete pelajaran"),this.fetchPelajaran()})},this.openSilabus=e=>{e.preventDefault(),this.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openSilabus:!0}),this.fetchSilabus(e.target.getAttribute("data-id"))},this.saveSilabus=e=>{e.preventDefault(),this.addKuisSilabus(this.state.jenis)},this.selectSilabus=e=>{c.l.get("".concat(c.a,"v2/silabus/id/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error: get one silabus"),this.setState({silabusId:e.data.result.id,sesi:e.data.result.sesi,topik:e.data.result.topik,periode:e.data.result.periode,durasi:e.data.result.durasi,tujuan:e.data.result.tujuan,deskripsi:e.data.result.deskripsi,jenis:parseInt(e.data.result.jenis)})})},this.deleteSilabus=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/silabus/delete/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error: delete silabus"),this.fetchSilabus(this.state.pelajaranId)})}}fetchProsentase(e){c.l.get("".concat(c.a,"v2/nilai-pelajaran/").concat(e)).then(e=>{e.data.error&&i.b.warning("Warning: fetch prosentase"),this.setState({nilaiTugas:e.data.result.tugas,nilaiKuis:e.data.result.kuis,nilaiUjian:e.data.result.ujian})})}closeProsentase(){this.setState({nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,openProsentase:!1})}closeModal(){this.fetchPelajaran(),this.setState({openSilabus:!1,silabus:[],pelajaranId:"",pelajaranNama:"",sesi:"",periode:"",durasi:0,topik:"",tujuan:"",deskripsi:"",jenis:0})}clearFormSilabus(){this.setState({silabusId:"",sesi:"",periode:"",durasi:0,topik:"",tujuan:"",deskripsi:"",jenis:0,files:null,tempFiles:Math.random().toString(36)})}clearForm(){this.setState({idPelajaran:"",namaPelajaran:"",kategori:"",kodePelajaran:"",kelas:""})}componentDidMount(){this.fetchPelajaran(),this.fetchKelas()}fetchKelas(){c.l.get("".concat(c.a,"v2/kelas/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data kelas"),this.setState({listKelas:e.data.result})})}fetchPelajaran(){c.l.get("".concat(c.a,"v2/pelajaran/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data kelas");const t=[...new Map(e.data.result.map(e=>[e.pelajaran_id,e])).values()];this.setState({listPelajaran:t})})}fetchSilabus(e){c.l.get("".concat(c.a,"v2/silabus/pelajaran/").concat(e)).then(e=>{e.data.error&&i.b.info("Error: fetch silabus"),this.setState({silabus:e.data.result})})}addKuisSilabus(e){let t={pelajaranId:this.state.pelajaranId,sesi:this.state.sesi,periode:this.state.periode,durasi:this.state.durasi,topik:this.state.topik,tujuan:this.state.tujuan,deskripsi:this.state.deskripsi,jenis:e};this.state.silabusId?c.l.put("".concat(c.a,"v2/silabus/update/").concat(this.state.silabusId),t).then(e=>{e.data.error&&i.b.warning("Error: edit silabus"),this.state.files&&this.uploadFile(this.state.silabusId),this.fetchSilabus(this.state.pelajaranId),this.clearFormSilabus()}):c.l.post("".concat(c.a,"v2/silabus/create"),t).then(e=>{e.data.error&&i.b.warning("Error: create silabus"),this.state.files&&this.uploadFile(e.data.result.id),this.fetchSilabus(this.state.pelajaranId),this.clearFormSilabus()})}uploadFile(e){let t=new FormData;for(var a=0;a<this.state.files.length;a++)t.append("files",this.state.files[a]);c.l.put("".concat(c.a,"v2/silabus/files/").concat(e),t).then(e=>{e.data.error&&i.b.warning("Error: upload file"),this.fetchSilabus(this.state.pelajaranId)})}render(){return console.log("state: ",this.state),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Pelajaran"),r.a.createElement("div",{className:"card-body",style:{padding:"5px"}},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Kode"),r.a.createElement("th",null,"Pelajaran"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Silabus"),r.a.createElement("th",null,"Bobot %"),r.a.createElement("th",null,"In Curriculum"),r.a.createElement("th",null,"Scheduled"),r.a.createElement("th",{className:"text-center"},"Action"))),r.a.createElement("tbody",null,this.state.listPelajaran.map((e,t)=>r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.kode_pelajaran),r.a.createElement("td",null,e.nama_pelajaran),r.a.createElement("td",null,e.kategori),r.a.createElement("td",{style:{padding:"12px"}},r.a.createElement("span",{onClick:this.openSilabus,"data-id":e.pelajaran_id,"data-title":e.nama_pelajaran,className:"silabus"},e.silabus>0?"Open":"Setup")),r.a.createElement("td",{style:{padding:"12px"}},r.a.createElement("span",{onClick:this.openProsentase,"data-id":e.pelajaran_id,"data-title":e.nama_pelajaran,className:"silabus"},"Set")),r.a.createElement("td",null,e.kurikulum?"Yes":"No"),r.a.createElement("td",null,e.jadwal?"Yes":"No"),r.a.createElement("td",{className:"text-center"},r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.selectPelajaran,"data-id":e.pelajaran_id,className:"fa fa-edit mr-2"}),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deletePelajaran,"data-id":e.pelajaran_id,className:"fa fa-trash"})))))),r.a.createElement(I.a,{show:this.state.openProsentase,onHide:this.closeProsentase.bind(this)},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},this.state.pelajaranNama)),r.a.createElement(I.a.Body,null,r.a.createElement("form",{onSubmit:this.saveProsentase},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Tugas"),r.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiTugas,onChange:e=>this.setState({nilaiTugas:e.target.value})})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Kuis"),r.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiKuis,onChange:e=>this.setState({nilaiKuis:e.target.value})})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Ujian"),r.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiUjian,onChange:e=>this.setState({nilaiUjian:e.target.value})}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success"},r.a.createElement("i",{className:"fa fa-save"})," Save"))))),r.a.createElement(I.a,{show:this.state.openSilabus,onHide:this.closeModal.bind(this),dialogClassName:"modal-xlg"},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Silabus ",this.state.pelajaranNama)),r.a.createElement(I.a.Body,null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Import"),r.a.createElement("input",{key:this.state.keyFileSilabus,onChange:e=>this.setState({fileSilabus:e.target.files[0]}),type:"file",class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Action"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.importSilabus,class:"btn btn-v2 btn-primary"},"Import"))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Template"),r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",href:"".concat(c.a,"attachment/silabus-template.xlsx"),class:"btn btn-v2 btn-primary"},"Download")))),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.saveSilabus},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Sesi"),r.a.createElement("input",{required:!0,name:"sesi",value:this.state.sesi,onChange:e=>this.setState({[e.target.name]:e.target.value}),type:"number",placeholder:"Enter",className:"form-control"})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Jenis"),r.a.createElement("select",{onChange:e=>this.setState({jenis:e.target.value}),value:this.state.jenis,required:!0,className:"form-control"},r.a.createElement("option",{value:"0"},"Materi"),r.a.createElement("option",{value:"1"},"Kuis"),r.a.createElement("option",{value:"2"},"Ujian"))),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Periode"),r.a.createElement("input",{required:!0,name:"periode",value:this.state.periode,onChange:e=>this.setState({[e.target.name]:e.target.value}),type:"text",placeholder:"Enter",className:"form-control"})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Durasi"),r.a.createElement("input",{required:!0,name:"durasi",value:this.state.durasi,onChange:e=>this.setState({[e.target.name]:e.target.value}),type:"number",placeholder:"10, 20, 30, ...",className:"form-control"}))),this.state.jenis<=0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Topik"),r.a.createElement("input",{name:"topik",value:this.state.topik,onChange:e=>this.setState({[e.target.name]:e.target.value}),type:"text",placeholder:"Enter",className:"form-control"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Tujuan"),r.a.createElement("textarea",{name:"tujuan",rows:"3",value:this.state.tujuan,onChange:e=>this.setState({[e.target.name]:e.target.value}),placeholder:"Enter",className:"form-control"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Files"),r.a.createElement("input",{name:"files",key:this.state.tempFiles,onChange:e=>this.setState({[e.target.name]:e.target.files}),type:"file",placeholder:"Enter",className:"form-control"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Deskripsi"),r.a.createElement("textarea",{name:"deskripsi",rows:"3",value:this.state.deskripsi,onChange:e=>this.setState({[e.target.name]:e.target.value}),placeholder:"Enter",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success mr-2"},r.a.createElement("i",{className:"fa fa-plus"})," ",this.state.silabusId?"Edit":"Tambah"),r.a.createElement("button",{onClick:()=>this.clearFormSilabus(),type:"button",className:"btn btn-v2 btn-primary mr-2"},r.a.createElement("i",{className:"fa fa-history"})," Reset"))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sesi"),r.a.createElement("th",null,"Topik"),r.a.createElement("th",null,"Tujuan"),r.a.createElement("th",null,"Files"),r.a.createElement("th",null,"Periode"),r.a.createElement("th",null,"Durasi"),r.a.createElement("th",null,"Deskripsi"),r.a.createElement("th",{className:"text-center"},"Aksi"))),r.a.createElement("tbody",null,this.state.silabus.map((e,t)=>0===e.jenis?r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.sesi),r.a.createElement("td",null,e.topik),r.a.createElement("td",null,e.tujuan),r.a.createElement("td",{style:{padding:"12px"}},e.files?r.a.createElement("a",{href:e.files,target:"_blank",className:"silabus"},"Open"):"No files"),r.a.createElement("td",null,e.periode),r.a.createElement("td",null,e.durasi," menit"),r.a.createElement("td",null,e.deskripsi),r.a.createElement("td",{className:"text-center"},r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.selectSilabus,"data-id":e.id,className:"fa fa-edit mr-2"}),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteSilabus,"data-id":e.id,className:"fa fa-trash"}))):r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.sesi),r.a.createElement("td",{colSpan:"3",className:"text-center"},1==e.jenis?"Kuis":"Ujian"),r.a.createElement("td",null,e.periode),r.a.createElement("td",null,e.durasi," menit"),r.a.createElement("td",null,e.deskripsi),r.a.createElement("td",{className:"text-center"},r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.selectSilabus,"data-id":e.id,className:"fa fa-edit mr-2"}),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteSilabus,"data-id":e.id,className:"fa fa-trash"}))))))))))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Pelajaran"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.savePelajaran},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nama Pelajaran"),r.a.createElement("input",{required:!0,value:this.state.namaPelajaran,onChange:e=>this.setState({namaPelajaran:e.target.value}),type:"text",className:"form-control",placeholder:"Enter",name:"namaKelas"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Category "),r.a.createElement("select",{required:!0,className:"form-control",value:this.state.kategori,onChange:e=>this.setState({kategori:e.target.value})},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Pilih"),r.a.createElement("option",{value:"Wajib"},"Wajib"),r.a.createElement("option",{value:"Tidak Wajib"},"Tidak Wajib"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Kode Pelajaran"),r.a.createElement("input",{required:!0,value:this.state.kodePelajaran,onChange:e=>this.setState({kodePelajaran:e.target.value}),type:"text",className:"form-control",placeholder:"Enter",name:"kurikulum"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success"},r.a.createElement("i",{className:"fa fa-save"})," Save"),r.a.createElement("button",{onClick:()=>this.clearForm(),type:"button",className:"btn btn-v2 btn-primary ml-2"},r.a.createElement("i",{className:"fa fa-history"})," Reset")))))))}}var D=O;class A extends r.a.Component{constructor(){super(...arguments),this.state={userId:"",noInduk:"",nama:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",email:"",password:"",file:"",action:"tambah",isModalTambah:!1,dataMurid:[],userMurid:[],exists:!1,excel:"",fileExcel:Math.random().toString(36)},this.saveMurid=e=>{if(e.preventDefault(),"tambah"===this.state.action){let e={companyId:o.a.get("user").data.company_id,nama:this.state.nama,noInduk:this.state.noInduk,tempatLahir:this.state.tempatLahir,tanggalLahir:this.state.tanggalLahir,jenisKelamin:this.state.jenisKelamin,email:this.state.email,userId:this.state.userId,password:this.state.password},t="";t=this.state.exists?"".concat(c.a,"v2/murid/create?exists=true"):"".concat(c.a,"v2/murid/create"),c.l.post(t,e).then(e=>{e.data.error&&i.b.warning("Error create murid"),i.b.success("Murid baru berhasil disimpan"),this.fetchMurid()})}this.clearForm()},this.deleteMurid=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/murid/one/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error hapus murid"),this.fetchMurid()})},this.showName=e=>{let t=[...this.state.userMurid].filter(t=>t.user_id==e.target.value);this.setState({userId:t.length?t[0].user_id:"",noInduk:t.length?t[0].identity:"",nama:t.length?t[0].name:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",email:t.length?t[0].email:"",exists:!!t.length})},this.importMurid=e=>{e.preventDefault();let t=new FormData;t.append("companyId",o.a.get("user").data.company_id),t.append("excel",this.state.excel),c.l.post("".concat(c.a,"v2/murid/import"),t).then(e=>{200===e.status&&(i.b.success("Import murid berhasil semua."),this.fetchMurid())})},this.filterType=e=>{const{files:t}=e.target;let a=t[0].name.split("."),l=a[a.length-1];["xlsx","xls"].includes(l)?this.setState({excel:e.target.files[0]}):(i.b.info("Format tidak sesuai"),this.setState({fileExcel:Math.random().toString(36)}))},this.cekEmail=e=>{c.l.get("".concat(c.a,"v1/user/cek/email/").concat(e)).then(e=>{e.data.error?(i.b.warning(e.data.result.charAt(0).toUpperCase()+e.data.result.slice(1)),this.setState({email:""})):i.b.info(e.data.result.charAt(0).toUpperCase()+e.data.result.slice(1))})}}fetchUsers(){c.l.get("".concat(c.a,"v1/user/company/").concat(o.a.get("user").data.company_id)).then(e=>{let t=this.state.dataMurid.map(e=>e.user_id);const a=e.data.result.filter(e=>"murid"===(e.grup_name?e.grup_name:"-").toLowerCase()).filter(e=>!t.includes(e.user_id));this.setState({userMurid:a})}).catch((function(e){console.log(e)}))}clearForm(){this.setState({userId:"",noInduk:"",nama:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",email:"",password:"",action:"tambah",excel:"",fileExcel:Math.random().toString(36)})}closeModal(){this.setState({isModalTambah:!1})}componentDidMount(){this.fetchMurid()}fetchMurid(){c.l.get("".concat(c.a,"v2/murid/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch murid"),this.setState({dataMurid:e.data.result}),this.fetchUsers()})}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Import Data Murid"),r.a.createElement("div",{className:"card-body",style:{padding:"5px"}},r.a.createElement("form",{onSubmit:this.importMurid},r.a.createElement("div",{className:"form-group row",style:{padding:"20px"}},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("label",null,"Template Excel"),r.a.createElement("br",null),r.a.createElement("a",{href:"".concat(c.a,"template-excel/murid.xlsx"),className:"btn btn-v2 btn-primary"},"Download File")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Pilih File"),r.a.createElement("label",{for:"attachment",className:"form-control"},r.a.createElement("span",{className:"form-control-upload-label"},this.state.excel?this.state.excel.name:"Choose File")),r.a.createElement("input",{type:"file",id:"attachment",class:"form-control file-upload-icademy",key:this.state.fileExcel,onChange:this.filterType})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{style:{marginTop:"28px"},className:"btn btn-v2 btn-success",type:"submit"},"Submit"))))))),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Daftar Murid Sekolah",r.a.createElement("button",{onClick:()=>this.setState({isModalTambah:!0}),className:"btn btn-v2 btn-primary float-right"},r.a.createElement("i",{className:"fa fa-plus"}),"Tambah Murid")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null," Name "),r.a.createElement("th",null,"No. Induk"),r.a.createElement("th",null," Place of Birth "),r.a.createElement("th",null," Date of Birth"),r.a.createElement("th",null," Gender"),r.a.createElement("th",null," Action "))),r.a.createElement("tbody",null,this.state.dataMurid.map((e,t)=>r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama),r.a.createElement("td",null,e.no_induk),r.a.createElement("td",null,e.tempat_lahir),r.a.createElement("td",null,e.tanggal_lahir),r.a.createElement("td",null,e.jenis_kelamin),r.a.createElement("td",null,r.a.createElement(n.b,{to:"/learning/personalia-detail/murid|".concat(e.no_induk)},r.a.createElement("i",{className:"fa fa-search"})),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteMurid,"data-id":e.id,className:"fa fa-trash ml-2"})))))),r.a.createElement(I.a,{show:this.state.isModalTambah,onHide:()=>this.closeModal(),dialogClassName:"modal-lg"},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Tambah Murid")),r.a.createElement(I.a.Body,null,r.a.createElement("form",{onSubmit:this.saveMurid},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("select",{onChange:this.showName,class:"form-control"},r.a.createElement("option",{value:"",selected:!0,disabled:!0},"Find student if user exists"),this.state.userMurid.map((e,t)=>r.a.createElement("option",{value:e.user_id},e.name)),r.a.createElement("option",{value:"tambah"},"Add new")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Nama Murid"),r.a.createElement("input",{value:this.state.nama,onChange:e=>this.setState({nama:e.target.value}),required:!0,type:"text",className:"form-control",placeholder:"Enter"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"No Induk"),r.a.createElement("input",{value:this.state.noInduk,onChange:e=>this.setState({noInduk:e.target.value}),required:!0,type:"text",className:"form-control",placeholder:"Enter"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null," Place of Birth "),r.a.createElement("input",{value:this.state.tempatLahir,onChange:e=>this.setState({tempatLahir:e.target.value}),required:!0,type:"text",className:"form-control",placeholder:"Enter"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null," Date of Birth"),r.a.createElement("input",{value:this.state.tanggalLahir,onChange:e=>this.setState({tanggalLahir:e.target.value}),required:!0,type:"date",className:"form-control",placeholder:"Enter"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("label",null," Gender"),r.a.createElement("select",{value:this.state.jenisKelamin,onChange:e=>this.setState({jenisKelamin:e.target.value}),required:!0,className:"form-control",placeholder:"Enter"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Pilih"),r.a.createElement("option",{value:"Laki-laki"},"Laki-laki"),r.a.createElement("option",{value:"Perempuan"},"Perempuan"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{onBlur:e=>this.cekEmail(e.target.value),value:this.state.email,onChange:e=>this.setState({email:e.target.value}),required:!0,type:"email",className:"form-control",placeholder:"Enter"})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{value:this.state.password,onChange:e=>this.setState({password:e.target.value}),required:!0,type:"password",className:"form-control",placeholder:"Enter"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success"},r.a.createElement("i",{className:"fa fa-save"})," Save"),r.a.createElement("button",{onClick:()=>this.clearForm(),type:"button",className:"btn btn-v2 btn-primary ml-2"},r.a.createElement("i",{className:"fa fa-history"})," Reset"))))))))))}}var K=A;class R extends r.a.Component{constructor(){super(...arguments),this.state={userId:"",noInduk:"",nama:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",email:"",password:"",file:"",action:"tambah",isModalTambah:!1,dataMurid:[],userGuru:[],exists:!1,excel:"",fileExcel:Math.random().toString(36)},this.saveMurid=e=>{if(e.preventDefault(),"tambah"===this.state.action){let e={companyId:o.a.get("user").data.company_id,nama:this.state.nama,noInduk:this.state.noInduk,tempatLahir:this.state.tempatLahir,tanggalLahir:this.state.tanggalLahir,jenisKelamin:this.state.jenisKelamin,email:this.state.email,userId:this.state.userId,password:this.state.password},t="";t=this.state.exists?"".concat(c.a,"v2/guru/create?exists=true"):"".concat(c.a,"v2/guru/create"),c.l.post(t,e).then(e=>{e.data.error&&i.b.warning("Error create guru"),i.b.success("Guru baru berhasil disimpan"),this.fetchMurid()})}this.clearForm()},this.deleteMurid=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/guru/one/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error hapus murid"),this.fetchMurid()})},this.showName=e=>{let t=[...this.state.userGuru].filter(t=>t.user_id==e.target.value);this.setState({userId:t.length?t[0].user_id:"",noInduk:t.length?t[0].identity:"",nama:t.length?t[0].name:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",email:t.length?t[0].email:"",exists:!!t.length})},this.importMurid=e=>{e.preventDefault();let t=new FormData;t.append("companyId",o.a.get("user").data.company_id),t.append("excel",this.state.excel),c.l.post("".concat(c.a,"v2/guru/import"),t).then(e=>{200===e.status&&(i.b.success("Import guru berhasil semua."),this.fetchMurid())})},this.filterType=e=>{const{files:t}=e.target;let a=t[0].name.split("."),l=a[a.length-1];["xlsx","xls"].includes(l)?this.setState({excel:e.target.files[0]}):(i.b.info("Format tidak sesuai"),this.setState({fileExcel:Math.random().toString(36)}))},this.cekEmail=e=>{c.l.get("".concat(c.a,"v1/user/cek/email/").concat(e)).then(e=>{e.data.error?(i.b.warning(e.data.result.charAt(0).toUpperCase()+e.data.result.slice(1)),this.setState({email:""})):i.b.info(e.data.result.charAt(0).toUpperCase()+e.data.result.slice(1))})}}fetchGuru(){c.l.get("".concat(c.a,"v1/user/company/").concat(o.a.get("user").data.company_id)).then(e=>{let t=this.state.dataMurid.map(e=>e.user_id);const a=e.data.result.filter(e=>"guru"===(e.grup_name?e.grup_name:"-").toLowerCase()).filter(e=>!t.includes(e.user_id));this.setState({userGuru:a})}).catch((function(e){console.log(e)}))}clearForm(){this.setState({userId:"",noInduk:"",nama:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",email:"",password:"",action:"tambah",excel:"",fileExcel:Math.random().toString(36)})}closeModal(){this.setState({isModalTambah:!1})}componentDidMount(){this.fetchMurid()}fetchMurid(){c.l.get("".concat(c.a,"v2/guru/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch murid"),this.setState({dataMurid:e.data.result}),this.fetchGuru()})}render(){return console.log("state",this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Import Data Guru"),r.a.createElement("div",{className:"card-body",style:{padding:"5px"}},r.a.createElement("form",{onSubmit:this.importMurid},r.a.createElement("div",{className:"form-group row",style:{padding:"20px"}},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("label",null,"Template Excel"),r.a.createElement("br",null),r.a.createElement("a",{href:"".concat(c.a,"template-excel/guru.xlsx"),className:"btn btn-v2 btn-primary"},"Download File")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Pilih File"),r.a.createElement("label",{for:"attachment",className:"form-control"},r.a.createElement("span",{className:"form-control-upload-label"},this.state.excel?this.state.excel.name:"Choose File")),r.a.createElement("input",{type:"file",id:"attachment",class:"form-control file-upload-icademy",key:this.state.fileExcel,onChange:this.filterType})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{style:{marginTop:"28px"},className:"btn btn-v2 btn-success",type:"submit"},"Submit"))))))),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"List of School Teachers",r.a.createElement("button",{onClick:()=>this.setState({isModalTambah:!0}),className:"btn btn-v2 btn-primary float-right"},r.a.createElement("i",{className:"fa fa-plus"}),"Add Teacher")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null," Name "),r.a.createElement("th",null,"No. Induk"),r.a.createElement("th",null," Place of Birth "),r.a.createElement("th",null," Date of Birth"),r.a.createElement("th",null," Gender"),r.a.createElement("th",null," Action "))),r.a.createElement("tbody",null,this.state.dataMurid.map((e,t)=>r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama),r.a.createElement("td",null,e.no_induk),r.a.createElement("td",null,e.tempat_lahir),r.a.createElement("td",null,e.tanggal_lahir),r.a.createElement("td",null,e.jenis_kelamin),r.a.createElement("td",null,r.a.createElement(n.b,{to:"/learning/personalia-detail/guru|".concat(e.no_induk)},r.a.createElement("i",{className:"fa fa-search"})),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteMurid,"data-id":e.id,className:"fa fa-trash ml-2"})))))),r.a.createElement(I.a,{show:this.state.isModalTambah,onHide:()=>this.closeModal(),dialogClassName:"modal-lg"},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Add Teacher")),r.a.createElement(I.a.Body,null,r.a.createElement("form",{onSubmit:this.saveMurid},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("select",{onChange:this.showName,class:"form-control"},r.a.createElement("option",{value:"",selected:!0,disabled:!0},"Find teacher if user exists"),this.state.userGuru.map((e,t)=>r.a.createElement("option",{value:e.user_id},e.name)),r.a.createElement("option",{value:"tambah"},"Add new")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Nama Guru"),r.a.createElement("input",{value:this.state.nama,onChange:e=>this.setState({nama:e.target.value}),required:!0,type:"text",className:"form-control",placeholder:"Enter"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"No Induk"),r.a.createElement("input",{value:this.state.noInduk,onChange:e=>this.setState({noInduk:e.target.value}),required:!0,type:"text",className:"form-control",placeholder:"Enter"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null," Place of Birth "),r.a.createElement("input",{value:this.state.tempatLahir,onChange:e=>this.setState({tempatLahir:e.target.value}),required:!0,type:"text",className:"form-control",placeholder:"Enter"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null," Date of Birth"),r.a.createElement("input",{value:this.state.tanggalLahir,onChange:e=>this.setState({tanggalLahir:e.target.value}),required:!0,type:"date",className:"form-control",placeholder:"Enter"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("label",null," Gender"),r.a.createElement("select",{value:this.state.jenisKelamin,onChange:e=>this.setState({jenisKelamin:e.target.value}),required:!0,className:"form-control",placeholder:"Enter"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Pilih"),r.a.createElement("option",{value:"Laki-laki"},"Laki-laki"),r.a.createElement("option",{value:"Perempuan"},"Perempuan"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{onBlur:e=>this.cekEmail(e.target.value),value:this.state.email,onChange:e=>this.setState({email:e.target.value}),required:!0,type:"email",className:"form-control",placeholder:"Enter"})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{value:this.state.password,onChange:e=>this.setState({password:e.target.value}),required:!0,type:"password",className:"form-control",placeholder:"Enter"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success"},r.a.createElement("i",{className:"fa fa-save"})," Save"),r.a.createElement("button",{onClick:()=>this.clearForm(),type:"button",className:"btn btn-v2 btn-primary ml-2"},r.a.createElement("i",{className:"fa fa-history"})," Reset"))))))))))}}var L=R;class T extends r.a.Component{constructor(){super(...arguments),this.state={tab:"murid"},this.selectTab=e=>{e.preventDefault();let t=e.target.getAttribute("data-id");this.setState({tab:t})}}render(){return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("button",{onClick:this.selectTab,"data-id":"murid",className:"btn btn-v2 btn-primary",style:{marginBottom:"0px"},disabled:"murid"===this.state.tab},"Data Murid"),r.a.createElement("button",{onClick:this.selectTab,"data-id":"guru",className:"btn btn-v2 btn-primary ml-2",style:{marginBottom:"0px"},disabled:"guru"===this.state.tab},"Data Guru")))),"murid"===this.state.tab&&r.a.createElement(K,null),"guru"===this.state.tab&&r.a.createElement(L,null))}}var B=T;a(32);class U extends r.a.Component{constructor(){super(...arguments),this.state={tipe:this.props.match.params.id.split("|")[0],id:"",noInduk:this.props.match.params.id.split("|")[1],nama:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",alamat:"",telepon:"",email:"",parents:[],userId:"",parentsId:"",muridId:"",noKtp:"",namaOrtu:"",tempatLahirOrtu:"",tanggalLahirOrtu:"",jenisKelaminOrtu:"",alamatOrtu:"",teleponOrtu:"",emailOrtu:"",passOrtu:"",userParents:[],exists:!1},this.cekEmail=e=>{c.l.get("".concat(c.a,"v1/user/cek/email/").concat(e)).then(e=>{e.data.error?(i.b.warning(e.data.result.charAt(0).toUpperCase()+e.data.result.slice(1)),this.setState({emailOrtu:""})):i.b.info(e.data.result.charAt(0).toUpperCase()+e.data.result.slice(1))})},this.simpanData=e=>{e.preventDefault();let t={noInduk:this.props.match.params.id.split("|")[1],nama:this.state.nama,tempatLahir:this.state.tempatLahir,tanggalLahir:this.state.tanggalLahir,jenisKelamin:this.state.jenisKelamin,alamat:this.state.alamat,telepon:this.state.telepon,email:this.state.email};c.l.put("".concat(c.a,"v2/").concat(this.state.tipe,"/update/").concat(this.state.id),t).then(e=>{e.data.error&&i.b.warning("Error update data"),i.b.success("Update data berhasil"),this.fetchDetail(),this.clearFormOrtu()})},this.simpanDataOrtu=e=>{if(e.preventDefault(),this.state.parentsId){let e={companyId:o.a.get("user").data.company_id,muridId:this.state.id,noInduk:this.state.noKtp,nama:this.state.namaOrtu,tempatLahir:this.state.tempatLahirOrtu,tanggalLahir:this.state.tanggalLahirOrtu,jenisKelamin:this.state.jenisKelaminOrtu,alamat:this.state.alamatOrtu,telepon:this.state.teleponOrtu,email:this.state.emailOrtu,password:this.state.passOrtu};c.l.put("".concat(c.a,"v2/parents/update/").concat(this.state.parentsId),e).then(e=>{e.data.error&&i.b.warning("Error update data"),i.b.success("Data berhasil diupdate"),this.fetchDetail(),this.clearFormOrtu()})}else{let e={companyId:o.a.get("user").data.company_id,muridId:this.state.id,noInduk:this.state.noKtp,nama:this.state.namaOrtu,tempatLahir:this.state.tempatLahirOrtu,tanggalLahir:this.state.tanggalLahirOrtu,jenisKelamin:this.state.jenisKelaminOrtu,alamat:this.state.alamatOrtu,telepon:this.state.teleponOrtu,email:this.state.emailOrtu,password:this.state.passOrtu,userId:this.state.userId},t="";t=this.state.exists?"".concat(c.a,"v2/parents/create?exists=true"):"".concat(c.a,"v2/parents/create"),c.l.post(t,e).then(e=>{e.data.error&&i.b.warning("Error update data"),i.b.success("Data berhasil ditambahkan"),this.fetchDetail(),this.clearFormOrtu()})}},this.updateMuridParents=e=>{this.setState({parentsId:e.target.getAttribute("data-id"),muridId:e.target.getAttribute("data-muridId"),noKtp:e.target.getAttribute("data-noKtp"),namaOrtu:e.target.getAttribute("data-namaOrtu"),tempatLahirOrtu:e.target.getAttribute("data-tempatLahirOrtu"),tanggalLahirOrtu:e.target.getAttribute("data-tanggalLahirOrtu"),jenisKelaminOrtu:e.target.getAttribute("data-jenisKelaminOrtu"),alamatOrtu:e.target.getAttribute("data-alamatOrtu"),teleponOrtu:e.target.getAttribute("data-teleponOrtu"),emailOrtu:e.target.getAttribute("data-emailOrtu"),passOrtu:e.target.getAttribute("data-passOrtu")})},this.deleteMuridParents=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/parents/one/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error: hapus data"),this.fetchDetail()})},this.showName=e=>{let t=[...this.state.userParents].filter(t=>t.user_id==e.target.value);this.setState({userId:t.length?t[0].user_id:"",noInduk:t.length?t[0].identity:"",nama:t.length?t[0].name:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"",email:t.length?t[0].email:"",exists:!!t.length})}}fetchUsers(){c.l.get("".concat(c.a,"v2/parents/cek-user/").concat(o.a.get("user").data.company_id)).then(e=>{let t=e.data.result.filter(e=>null==e.id);this.setState({userParents:t})}).catch((function(e){console.log(e)}))}clearFormOrtu(){this.setState({userId:"",parentsId:"",noKtp:"",namaOrtu:"",tempatLahirOrtu:"",tanggalLahirOrtu:"",jenisKelaminOrtu:"",alamatOrtu:"",teleponOrtu:"",emailOrtu:"",passOrtu:""})}componentDidMount(){this.fetchDetail()}fetchDetail(){c.l.get("".concat(c.a,"v2/").concat(this.state.tipe,"/no-induk/").concat(this.state.noInduk)).then(e=>{e.data.error&&i.b.warning("Error fetch data"),this.setState({id:e.data.result.id,nama:e.data.result.nama,tempatLahir:e.data.result.tempat_lahir,tanggalLahir:e.data.result.tanggal_lahir,jenisKelamin:e.data.result.jenis_kelamin,alamat:e.data.result.alamat,telepon:e.data.result.telepon,email:e.data.result.email}),c.l.get("".concat(c.a,"v2/parents/murid/").concat(e.data.result.id)).then(e=>{e.data.error&&i.b.warning("Error fetch data"),this.setState({parents:e.data.result}),this.fetchUsers()})})}render(){return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"guru"===this.state.tipe?"Teacher":"Student"," Detail Information"),r.a.createElement("div",{className:"card-body",style:{padding:"5px"}},r.a.createElement("h5",{style:{color:"#004887",fontSize:"15px",margin:"20px"}},"Personal Info"),r.a.createElement("form",{onSubmit:this.simpanData},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"No Induk"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.noInduk,disabled:!0,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Name"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.nama,onChange:e=>this.setState({nama:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Place of birth"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.tempatLahir,onChange:e=>this.setState({tempatLahir:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Date of birth"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"date",value:this.state.tanggalLahir,onChange:e=>this.setState({tanggalLahir:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Gender"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("select",{value:this.state.jenisKelamin,onChange:e=>this.setState({jenisKelamin:e.target.value}),required:!0,className:"form-control",placeholder:"Enter"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select"),r.a.createElement("option",{value:"Laki-laki"},"Male"),r.a.createElement("option",{value:"Perempuan"},"Female")))),r.a.createElement("h5",{style:{color:"#004887",fontSize:"15px",margin:"20px"}},"Address"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Complete address"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("textarea",{rows:"4",value:this.state.alamat,onChange:e=>this.setState({alamat:e.target.value}),className:"form-control"}))),r.a.createElement("h5",{style:{color:"#004887",fontSize:"15px",margin:"20px"}},"Contact"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Phone"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.telepon,onChange:e=>this.setState({telepon:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Email"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"email",value:this.state.email,onChange:e=>this.setState({email:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row mt-4"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"}),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success"},r.a.createElement("i",{className:"fa fa-save"})," Save"),r.a.createElement(n.b,{to:"/learning/personalia",className:"btn btn-v2 btn-default ml-2",style:{border:"1px solid #e9e9e9"}},r.a.createElement("i",{className:"fa fa-chevron-left"})," Back"))))))),"murid"===this.state.tipe?r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Parental Information"),r.a.createElement("div",{className:"card-body",style:{padding:"5px"}},r.a.createElement("h5",{style:{color:"#004887",fontSize:"15px",margin:"20px"}},"Personal Info"),r.a.createElement("form",{onSubmit:this.simpanDataOrtu},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"ID card number"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.noKtp,onChange:e=>this.setState({noKtp:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Name"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.namaOrtu,onChange:e=>this.setState({namaOrtu:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Place of birth"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.tempatLahirOrtu,onChange:e=>this.setState({tempatLahirOrtu:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Date of birth"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"date",value:this.state.tanggalLahirOrtu,onChange:e=>this.setState({tanggalLahirOrtu:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Gender"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("select",{value:this.state.jenisKelaminOrtu,onChange:e=>this.setState({jenisKelaminOrtu:e.target.value}),required:!0,className:"form-control",placeholder:"Enter"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select"),r.a.createElement("option",{value:"Laki-laki"},"Male"),r.a.createElement("option",{value:"Perempuan"},"Female")))),r.a.createElement("h5",{style:{color:"#004887",fontSize:"15px",margin:"20px"}},"Address"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Complete Address"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("textarea",{rows:"4",value:this.state.alamatOrtu,onChange:e=>this.setState({alamatOrtu:e.target.value}),className:"form-control"}))),r.a.createElement("h5",{style:{color:"#004887",fontSize:"15px",margin:"20px"}},"Contact"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Phone"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.teleponOrtu,onChange:e=>this.setState({teleponOrtu:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Email"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{onBlur:e=>this.cekEmail(e.target.value),type:"email",value:this.state.emailOrtu,onChange:e=>this.setState({emailOrtu:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"Password"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"password",value:this.state.passOrtu,onChange:e=>this.setState({passOrtu:e.target.value}),className:"form-control"}))),r.a.createElement("div",{className:"form-group row mt-4"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"}),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{type:"submit",className:"btn btn-v2 btn-success"},r.a.createElement("i",{className:"fa fa-save"})," Add"),r.a.createElement(n.b,{to:"/learning/personalia",className:"btn btn-v2 btn-default ml-2",style:{border:"1px solid #e9e9e9"}},r.a.createElement("i",{className:"fa fa-chevron-left"})," Back")))),r.a.createElement("table",{className:"table table-striped mt-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"ID card"),r.a.createElement("th",null,"Place of birth"),r.a.createElement("th",null,"Date of birth"),r.a.createElement("th",null,"Gender"),r.a.createElement("th",null," Phone "),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.parents.map((e,t)=>r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.no_induk),r.a.createElement("td",null,e.tempat_lahir),r.a.createElement("td",null,e.tanggal_lahir),r.a.createElement("td",null,e.jenis_kelamin),r.a.createElement("td",null,e.telepon),r.a.createElement("td",null,r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.updateMuridParents,className:"fa fa-search","data-id":e.id,"data-muridId":e.murid_id,"data-noKtp":e.no_induk,"data-namaOrtu":e.nama,"data-tempatLahirOrtu":e.tempat_lahir,"data-tanggalLahirOrtu":e.tanggal_lahir,"data-jenisKelaminOrtu":e.jenis_kelamin,"data-alamatOrtu":e.alamat,"data-teleponOrtu":e.telepon,"data-emailOrtu":e.email}),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteMuridParents,"data-id":e.id,className:"fa fa-trash ml-2"}))))))))):null)}}var J=U;class H extends r.a.Component{constructor(){super(...arguments),this.state={idRuangan:"",namaRuangan:"",folder:"",pengajar:"",isModalTambah:!1,dataRuangan:[],dataPengajar:[],dataFolder:[]},this.saveRuangan=e=>{if(e.preventDefault(),this.state.idRuangan){let e={nama_ruangan:this.state.namaRuangan,folder:this.state.folder,pengajar:this.state.pengajar};c.l.put("".concat(c.a,"v2/ruangan-mengajar/").concat(this.state.idRuangan),e).then(e=>{e.data.error&&i.b.warning("Error create ruangan"),i.b.success("Ruangan berhasil diupdate"),this.fetchRuangan()})}else{let e={nama_ruangan:this.state.namaRuangan,folder:this.state.folder,pengajar:this.state.pengajar,created_by:o.a.get("user").data.user_id,company_id:o.a.get("user").data.company_id};c.l.post("".concat(c.a,"v2/ruangan-mengajar"),e).then(e=>{e.data.error&&i.b.warning("Error create ruangan"),i.b.success("Ruangan berhasil disimpan"),this.fetchRuangan()})}this.clearForm()},this.deleteRuangan=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/ruangan-mengajar/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error hapus ruangan"),this.fetchRuangan()})},this.selectRuangan=e=>{e.preventDefault();let t=e.target.getAttribute("data-id");c.l.get("".concat(c.a,"v2/ruangan-mengajar/").concat(t)).then(e=>{e.data.error&&i.b.warning("Error get ruangan"),this.setState({idRuangan:t,namaRuangan:e.data.result[0].nama_ruangan,folder:e.data.result[0].folder,pengajar:e.data.result[0].pengajar,isModalTambah:!0})})}}clearForm(){this.setState({idRuangan:"",namaRuangan:"",folder:"",pengajar:"",isModalTambah:!1})}componentDidMount(){this.fetchRuangan(),this.fetchPengajar(),this.fetchFolder()}fetchRuangan(){c.l.get("".concat(c.a,"v2/ruangan-mengajar/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch ruangan"),this.setState({dataRuangan:e.data.result})})}fetchPengajar(){c.l.get("".concat(c.a,"v2/guru/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch pengajar"),this.setState({dataPengajar:e.data.result})})}fetchFolder(){c.l.get("".concat(c.a,"v1/project/").concat(o.a.get("user").data.level,"/").concat(o.a.get("user").data.user_id,"/").concat(o.a.get("user").data.company_id)).then(e=>{if(e.data.result.length){let t={aSekretaris:1,aModerator:1,aPembicara:1,aOwner:1,aPeserta:1};c.l.get("".concat(c.a,"v1/folder/").concat(o.a.get("user").data.company_id,"/").concat(e.data.result[0].id),t).then(e=>{e.data.error&&i.b.warning("Error fetch folder"),this.setState({dataFolder:e.data.result})})}else{const e={name:"Learning",company:o.a.get("user").data.company_id,mother:0,project_admin:[o.a.get("user").data.user_id],is_limit:this.state.limited?1:0,user:[],aSekretaris:1,aModerator:1,aPembicara:1,aOwner:1,aPeserta:1,created_by:o.a.get("user").data.user_id};c.l.post("".concat(c.a,"v1/folder"),e).then(e=>{200===e.status&&e.data.error&&i.b.warning("Warning initial project")})}})}render(){return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Teaching Room",r.a.createElement("button",{onClick:()=>this.setState({isModalTambah:!0}),className:"btn btn-v2 btn-primary float-right"},r.a.createElement("i",{className:"fa fa-plus"}),"Add Teaching Room"),r.a.createElement(n.b,{to:"/learning/folder",className:"btn btn-v2 btn-primary float-right mr-3"},r.a.createElement("i",{className:"fa fa-cogs"}),"Manage Folder")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Room Name"),r.a.createElement("th",null,"Folder"),r.a.createElement("th",null,"Pengajar"),r.a.createElement("th",{className:"text-center"}," Action "))),r.a.createElement("tbody",null,this.state.dataRuangan.map((e,t)=>r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama_ruangan),r.a.createElement("td",null,e.folder),r.a.createElement("td",null,e.pengajar),r.a.createElement("td",{className:"text-center"},r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.selectRuangan,"data-id":e.id,className:"fa fa-edit"}),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteRuangan,"data-id":e.id,className:"fa fa-trash ml-2"}))))))))),r.a.createElement(I.a,{show:this.state.isModalTambah,onHide:()=>this.clearForm()},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Add Teaching Room")),r.a.createElement(I.a.Body,null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Room Name"),r.a.createElement("input",{value:this.state.namaRuangan,onChange:e=>this.setState({namaRuangan:e.target.value}),required:!0,type:"text",className:"form-control",placeholder:"Enter Room Name"})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Pengajar"),r.a.createElement("select",{value:this.state.pengajar,onChange:e=>this.setState({pengajar:e.target.value}),required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataPengajar.map(e=>r.a.createElement("option",{value:e.id},e.nama)))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Folder"),r.a.createElement("select",{value:this.state.folder,onChange:e=>this.setState({folder:e.target.value}),required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Select Folder"),this.state.dataFolder.map(e=>r.a.createElement("option",{value:e.id},e.name))))))),r.a.createElement(I.a.Footer,null,r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:()=>this.clearForm()},"Cancel"),r.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-blue",onClick:this.saveRuangan},r.a.createElement("i",{className:"fa fa-save"}),"Save"))))}}var q=H;const z=["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],Y=Array(96).fill(0).map((e,t)=>("0"+~~(t/4)+":0"+t/4%1*60).replace(/\d(\d\d)/g,"$1"));class G extends r.a.Component{constructor(){super(...arguments),this.state={idJadwal:"",namaPelajaran:"",kelasJadwal:"",hariJadwal:"",jamMulai:"",jamSelesai:"",namaPengajar:"",ruanganJadwal:"",jumlahPertemuan:"",kapasitasMurid:"",isModalTambah:!1,dataJadwal:[],dataRuangan:[],dataPelajaran:[],dataKelas:[],dataGuru:[],kurikulums:[],isModalTambahMulti:!1,bulkDays:[]},this.selectPelajaran=e=>{e.preventDefault(),this.setState({namaPelajaran:e.target.value,jumlahPertemuan:e.target.value.split("_")[1]})},this.selectRuangan=e=>{e.preventDefault();let t=e.target.value.split("_");this.setState({ruanganJadwal:e.target.value,namaPengajar:t[1]})},this.saveJadwal=e=>{e.preventDefault();let t=o.a.get("user").data.company_id;if(this.state.idJadwal){let e={ruangan_id:this.state.ruanganJadwal.split("_")[0],pelajaran_id:this.state.namaPelajaran.split("_")[0],kelas_id:this.state.kelasJadwal.split("_")[0],hari:this.state.hariJadwal,jam_mulai:this.state.jamMulai,jam_selesai:this.state.jamSelesai,jumlah_pertemuan:this.state.jumlahPertemuan,kapasitas:this.state.kapasitasMurid};c.l.put("".concat(c.a,"v2/jadwal-mengajar/").concat(this.state.idJadwal),e).then(e=>{e.data.error&&i.b.warning("Error update jadwal"),i.b.success("Schedule edited"),this.clearForm(),this.fetchJadwal(t)})}else{let e={company_id:o.a.get("user").data.company_id,ruangan_id:this.state.ruanganJadwal.split("_")[0],pelajaran_id:this.state.namaPelajaran.split("_")[0],kelas_id:this.state.kelasJadwal.split("_")[0],hari:this.state.hariJadwal,jam_mulai:this.state.jamMulai,jam_selesai:this.state.jamSelesai,jumlah_pertemuan:this.state.jumlahPertemuan,kapasitas:this.state.kapasitasMurid};c.l.post("".concat(c.a,"v2/jadwal-mengajar"),e).then(e=>{e.data.error?i.b.warning("Error menyimpan jadwal"):(i.b.warning("Menyimpan jadwal baru"),this.fetchJadwal(t),this.clearForm())})}},this.saveJadwalBulk=e=>{e.preventDefault();let t=o.a.get("user").data.company_id,a=this.state.bulkDays.filter(e=>!0===e.check),l={company_id:o.a.get("user").data.company_id,ruangan_id:this.state.ruanganJadwal.split("_")[0],pelajaran_id:this.state.namaPelajaran.split("_")[0],kelas_id:this.state.kelasJadwal.split("_")[0],jumlah_pertemuan:this.state.jumlahPertemuan,kapasitas:this.state.kapasitasMurid,days:a};c.l.post("".concat(c.a,"v2/jadwal-mengajar?bulk=true"),l).then(e=>{e.data.error?i.b.warning("Error menyimpan jadwal"):(i.b.warning("Menyimpan jadwal baru"),this.fetchJadwal(t),this.clearForm())})},this.deleteJadwal=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/jadwal-mengajar/").concat(e.target.getAttribute("data-id"))).then(e=>{e.data.error&&i.b.warning("Error hapus jadwal"),this.fetchJadwal(o.a.get("user").data.company_id)})},this.selectJadwal=e=>{e.preventDefault();let t=e.target.getAttribute("data-id");c.l.get("".concat(c.a,"v2/jadwal-mengajar/").concat(t)).then(e=>{e.data.error&&i.b.warning("Error get one jadwal"),this.setState({idJadwal:t,namaPelajaran:e.data.result.pelajaran_id+"_"+e.data.result.silabus,kelasJadwal:e.data.result.kelas_id+"_"+e.data.result.kapasitas+"_"+e.data.result.kurikulum,ruanganJadwal:"".concat(e.data.result.ruangan_id,"_").concat(e.data.result.pengajar_id),namaPengajar:e.data.result.pengajar_id,hariJadwal:e.data.result.hari,jamMulai:e.data.result.jam_mulai,jamSelesai:e.data.result.jam_selesai,jumlahPertemuan:e.data.result.jumlah_pertemuan,kapasitasMurid:e.data.result.kapasitas,isModalTambah:!0})})},this.selectKelasJadwal=e=>{let{value:t}=e.target,a=t.split("_")[2],l=this.state.kurikulums.filter(e=>e.id==parseInt(a));c.l.get("".concat(c.a,"v2/pelajaran/company/").concat(o.a.get("user").data.company_id)).then(e=>{let a=[];if(l.length)for(var r=0;r<l[0].mapel.length;r++){let t=e.data.result.filter(e=>e.pelajaran_id==l[0].mapel[r].pelajaran_id);a.push(t[0])}this.setState({kelasJadwal:t,kapasitasMurid:t.split("_")[1],dataPelajaran:a})})},this.handleDynamic=(e,t)=>{let{value:a,name:l,checked:r}=e.target,n=[...this.state.bulkDays];n[t][l]="check"===l?r:a,this.setState({bulkDays:n})}}clearForm(){let e=[];for(var t=0;t<z.length;t++)e.push({check:!1,day:z[t],start:"",end:""});this.setState({idJadwal:"",namaPelajaran:"",kelasJadwal:"",hariJadwal:"",jamMulai:"",jamSelesai:"",namaPengajar:"",ruanganJadwal:"",jumlahPertemuan:"",kapasitasMurid:"",isModalTambah:!1,isModalTambahMulti:!1,bulkDays:e})}componentDidMount(){let e=o.a.get("user").data.company_id;this.fetchPelajaran(e),this.fetchRuangan(e),this.fetchJadwal(e),this.fetchKurikulum();let t=[];for(var a=0;a<z.length;a++)t.push({check:!1,day:z[a],start:"",end:""});this.setState({bulkDays:t})}fetchJadwal(e){c.l.get("".concat(c.a,"v2/jadwal-mengajar/company/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error get jadwal"),this.setState({dataJadwal:e.data.result})})}fetchPelajaran(e){c.l.get("".concat(c.a,"v2/pelajaran/company/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error fetch pelajaran"),this.setState({dataPelajaran:e.data.result})}),c.l.get("".concat(c.a,"v2/kelas/company/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error fetch kelas"),this.setState({dataKelas:e.data.result})})}fetchRuangan(e){c.l.get("".concat(c.a,"v2/ruangan-mengajar/company/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error fetch ruangan"),this.setState({dataRuangan:e.data.result})}),c.l.get("".concat(c.a,"v2/guru/company/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error fetch guru"),this.setState({dataGuru:e.data.result})})}fetchKurikulum(){c.l.get("".concat(c.a,"v2/kurikulum/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data kurikulum"),this.setState({kurikulums:e.data.result})})}render(){console.log("state: ",this.state.bulkDays);const e=e=>{let{item:t}=e;return"string"===typeof t.hari&&"string"===typeof t.jam_mulai&&"string"===typeof t.jam_selesai?r.a.createElement("span",{style:{padding:"8px"},class:"badge badge-pill badge-success"},"Sudah Diatur"):r.a.createElement("span",{style:{padding:"8px"},class:"badge badge-pill badge-warning"},"Belum Diatur")};return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Teaching Schedule",r.a.createElement("button",{onClick:()=>this.setState({isModalTambahMulti:!0}),className:"mr-2 btn btn-v2 btn-primary float-right"},"Add Schedule")),r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Pelajaran"),r.a.createElement("th",null,"Hari"),r.a.createElement("th",null,"Jam"),r.a.createElement("th",null,"Kelas"),r.a.createElement("th",null,"Pengajar"),r.a.createElement("th",null,"Ruangan"),r.a.createElement("th",null,"Sesi"),r.a.createElement("th",null,"Kapasitas"),r.a.createElement("th",null,"Status"),r.a.createElement("th",{className:"text-center"}," Action "))),r.a.createElement("tbody",null,this.state.dataJadwal.map((t,a)=>r.a.createElement("tr",null,r.a.createElement("td",null,a+1),r.a.createElement("td",null,t.nama_pelajaran),r.a.createElement("td",null,t.hari),r.a.createElement("td",null,t.jam_mulai,"-",t.jam_selesai),r.a.createElement("td",null,t.kelas_nama),r.a.createElement("td",null,t.pengajar),r.a.createElement("td",null,t.nama_ruangan),r.a.createElement("td",null,t.jumlah_pertemuan,"x"),r.a.createElement("td",null,t.kapasitas," Murid"),r.a.createElement("td",null,r.a.createElement(e,{item:t})),r.a.createElement("td",{className:"text-center"},r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.selectJadwal,"data-id":t.jadwal_id,className:"fa fa-edit"}),r.a.createElement("i",{style:{cursor:"pointer"},onClick:this.deleteJadwal,"data-id":t.jadwal_id,className:"fa fa-trash ml-2"}))))))))),r.a.createElement(I.a,{show:this.state.isModalTambah,onHide:()=>this.clearForm(),dialogClassName:"modal-lg"},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Add Teaching Schedule")),r.a.createElement(I.a.Body,null,r.a.createElement("form",{onSubmit:this.saveJadwal},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Class"),r.a.createElement("select",{value:this.state.kelasJadwal,onChange:this.selectKelasJadwal,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataKelas.map((e,t)=>r.a.createElement("option",{value:"".concat(e.kelas_id,"_").concat(e.kapasitas,"_").concat(e.kurikulum)},e.kelas_nama)))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Nama Pelajaran"),r.a.createElement("select",{value:this.state.namaPelajaran,onChange:this.selectPelajaran,required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataPelajaran.map((e,t)=>r.a.createElement("option",{value:e.pelajaran_id+"_"+e.silabus},e.nama_pelajaran))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Ruangan"),r.a.createElement("select",{value:this.state.ruanganJadwal,onChange:this.selectRuangan,required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataRuangan.map((e,t)=>r.a.createElement("option",{value:"".concat(e.id,"_").concat(e.pengajar_id)},e.nama_ruangan)))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Teacher Name"),r.a.createElement("select",{value:this.state.namaPengajar,onChange:e=>this.setState({namaPengajar:e.target.value}),disabled:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataGuru.map((e,t)=>r.a.createElement("option",{value:e.id},e.nama))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Hari"),r.a.createElement("select",{value:this.state.hariJadwal,onChange:e=>this.setState({hariJadwal:e.target.value}),required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),z.map((e,t)=>r.a.createElement("option",{value:e},e)))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null," Starting Hours "),r.a.createElement("select",{value:this.state.jamMulai,onChange:e=>this.setState({jamMulai:e.target.value}),required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),Y.map((e,t)=>r.a.createElement("option",{value:e},e)))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null," End Hours "),r.a.createElement("select",{value:this.state.jamSelesai,onChange:e=>this.setState({jamSelesai:e.target.value}),required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),Y.map((e,t)=>r.a.createElement("option",{value:e},e))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Jumlah Pertemuan"),r.a.createElement("input",{required:!0,className:"form-control",type:"number",min:"0",value:this.state.jumlahPertemuan,onChange:e=>this.setState({jumlahPertemuan:e.target.value<0?0:e.target.value}),placeholder:"Enter jumlah pertemuan"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Kapasitas Murid"),r.a.createElement("input",{required:!0,className:"form-control",type:"number",value:this.state.kapasitasMurid,onChange:e=>this.setState({kapasitasMurid:e.target.value}),placeholder:"Enter kapasitas murid"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-icademy-primary btn-icademy-blue"},r.a.createElement("i",{className:"fa fa-save"}),"Save"),r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey ml-2",onClick:()=>this.clearForm()},"Cancel")))))),r.a.createElement(I.a,{show:this.state.isModalTambahMulti,onHide:()=>this.clearForm(),dialogClassName:"modal-lg"},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Add Schedule")),r.a.createElement(I.a.Body,null,r.a.createElement("form",{onSubmit:this.saveJadwalBulk},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Class"),r.a.createElement("select",{value:this.state.kelasJadwal,onChange:this.selectKelasJadwal,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataKelas.map((e,t)=>r.a.createElement("option",{value:"".concat(e.kelas_id,"_").concat(e.kapasitas,"_").concat(e.kurikulum)},e.kelas_nama)))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Nama Pelajaran"),r.a.createElement("select",{value:this.state.namaPelajaran,onChange:this.selectPelajaran,required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataPelajaran.map((e,t)=>r.a.createElement("option",{value:e.pelajaran_id+"_"+e.silabus},e.nama_pelajaran))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Ruangan"),r.a.createElement("select",{value:this.state.ruanganJadwal,onChange:this.selectRuangan,required:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataRuangan.map((e,t)=>r.a.createElement("option",{value:"".concat(e.id,"_").concat(e.pengajar_id)},e.nama_ruangan)))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Teacher Name"),r.a.createElement("select",{value:this.state.namaPengajar,onChange:e=>this.setState({namaPengajar:e.target.value}),disabled:!0,className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),this.state.dataGuru.map((e,t)=>r.a.createElement("option",{value:e.id},e.nama))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Jumlah Pertemuan"),r.a.createElement("input",{required:!0,className:"form-control",type:"number",min:"0",value:this.state.jumlahPertemuan,onChange:e=>this.setState({jumlahPertemuan:e.target.value<0?0:e.target.value}),placeholder:"Enter jumlah pertemuan"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"Kapasitas Murid"),r.a.createElement("input",{required:!0,className:"form-control",type:"number",value:this.state.kapasitasMurid,onChange:e=>this.setState({kapasitasMurid:e.target.value}),placeholder:"Enter kapasitas murid"}))),this.state.bulkDays.map((e,t)=>r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{checked:e.check?"checked":"",onChange:e=>this.handleDynamic(e,t),name:"check",type:"checkbox",className:"form-control mt-3"})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",{className:"mt-4"},e.day)),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null," Starting Hours "),r.a.createElement("select",{value:e.start,onChange:e=>this.handleDynamic(e,t),name:"start",className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),Y.map((e,t)=>r.a.createElement("option",{value:e},e)))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null," End Hours "),r.a.createElement("select",{value:e.end,onChange:e=>this.handleDynamic(e,t),name:"end",className:"form-control"},r.a.createElement("option",{value:""},"Pilih"),Y.map((e,t)=>r.a.createElement("option",{value:e},e)))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-icademy-primary btn-icademy-blue"},r.a.createElement("i",{className:"fa fa-save"}),"Save"),r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey ml-2",onClick:()=>this.clearForm()},"Cancel")))))))}}var W=G;l.Component;class X extends r.a.Component{constructor(){super(...arguments),this.state={listResponden:[]}}componentDidMount(){this.setState({listResponden:[{id:1,nama_murid:"Ahmad",tanggal:"11 Sep 2020",jam_submit:"13:00",status:"Submited"},{id:2,nama_murid:"Ardi",tanggal:"11 Sep 2020",jam_submit:"13:20",status:"Submited"}]})}render(){return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Evaluasi Untuk Guru"),r.a.createElement("div",{className:"card-body",style:{padding:"5px"}},r.a.createElement("ul",{className:"nav nav-tabs nav-justified"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{className:"nav-link active","data-toggle":"tab",href:"#home"},"Daftar Responden")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#menu1"},"Statistik"))),r.a.createElement("div",{class:"tab-content",style:{padding:"20px"}},r.a.createElement("div",{class:"tab-pane active",id:"home"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Nama Murid"),r.a.createElement("th",null," Date "),r.a.createElement("th",null,"Jam Submit"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null," Action "))),r.a.createElement("tbody",null,this.state.listResponden.map((e,t)=>r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama_murid),r.a.createElement("td",null,e.tanggal),r.a.createElement("td",null,e.jam_submit),r.a.createElement("td",null,e.status),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-v2 btn-primary"},r.a.createElement("i",{className:"fa fa-search"})," Detail"))))))),r.a.createElement("div",{className:"tab-pane fade",id:"menu1"},"Stat"))))))}}var Q=X,V=a(467);class Z extends r.a.Component{constructor(){super(...arguments),this.state={projectAdmin:"admin"===o.a.get("user").data.level,projectId:"",companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):o.a.get("user").data.company_id}}componentDidMount(){c.l.get("".concat(c.a,"v1/project/").concat(o.a.get("user").data.level,"/").concat(o.a.get("user").data.user_id,"/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.result.length?this.setState({projectId:e.data.result[0].id}):i.b.warning("Buat project terlebih dahulu.")})}render(){return r.a.createElement("div",{class:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},this.state.projectId&&r.a.createElement(V.a,{access_project_admin:this.state.projectAdmin,projectId:this.state.projectId,companyId:this.state.companyId})))}}var $=Z,ee=a(692),te=a.n(ee);a(731);class ae extends r.a.Component{constructor(){super(...arguments),this.state={listSemester:[],semesterId:"",semesterInfo:{},listKelas:[],kelasId:"",kelasInfo:{},listMurid:[],muridId:[],muridInfo:{},isLoading:!1,nilaiMurid:[],tahunAjaran:"",listTahunAjaran:[]},this.selectSemester=e=>{e.preventDefault();let t=e.target.value;c.l.get("".concat(c.a,"v1/semester/").concat(t)).then(e=>{this.setState({semesterId:t,semesterInfo:e.data.result})}),this.fetchKelas(t)},this.selectKelas=e=>{e.preventDefault();let t=e.target.value;c.l.get("".concat(c.a,"v2/kelas/one/").concat(t)).then(e=>{this.setState({kelasId:t,kelasInfo:e.data.result})}),this.fetchMurid(t)},this.selectMurid=e=>{console.log("state:",e),this.setState({isLoading:!0,nilaiMurid:[]}),c.l.get("".concat(c.a,"v2/murid/no-induk/").concat(e[0])).then(t=>{this.setState({muridId:e,muridInfo:t.data.result}),this.fetchNilaiMurid(this.state.semesterId,this.state.kelasId,t.data.result.user_id,this.state.tahunAjaran)})},this.exportPDF=()=>{const e=new te.a("portrait","pt","A4");e.setFontSize(15);let t={startY:100,head:[["NO","SUBJECT","NILAI","TASK","QUIZ","EXAM","PRESENSI"]],body:this.state.nilaiMurid.map((e,t)=>[t+1,e.nama_pelajaran,(e.totalAkhirScoreTugas+e.totalAkhirScoreKuis+e.totalAkhirScoreUjian).toFixed(2),e.totalAkhirScoreTugas,e.totalAkhirScoreKuis,e.totalAkhirScoreUjian,0])};e.text("Report ",40,40),e.setFontSize(9),e.text("NIK",40,60),e.text(": ".concat(this.state.muridId[0]),120,60),e.text("NAME",40,75),e.text(": ".concat(this.state.muridInfo.nama),120,75),e.text("CLASS",40,90),e.text(": ".concat(this.state.kelasInfo.kelas_nama),120,90),e.text("SEMESTER",220,60),e.text(": ".concat(this.state.semesterInfo.semester_name),300,60),e.text("YEAR",220,75),e.text(": ".concat(this.state.kelasInfo.tahun_ajaran),300,75),e.setFontSize(15),e.autoTable(t),e.save("report.pdf")},this.selectTahunAjaran=e=>{const{value:t}=e.target;this.setState({tahunAjaran:t})}}fetchSemester(){c.l.get("".concat(c.a,"v1/semester/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data semester"),this.setState({listSemester:e.data.result})})}fetchKelas(e){c.l.get("".concat(c.a,"v2/kelas/semester/").concat(o.a.get("user").data.company_id,"/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error fetch data semester"),this.setState({listKelas:e.data.result})})}fetchMurid(e){c.l.get("".concat(c.a,"v2/murid/kelas/").concat(e)).then(e=>{e.data.error&&i.b.warning("Error fetch murid");let t=[];e.data.result.map(e=>{t.push({value:e.no_induk,label:"".concat(e.no_induk," - ").concat(e.nama)})}),this.setState({listMurid:t})})}fetchNilaiMurid(e,t,a,l){console.log("Query: ".concat(e," ").concat(t," ").concat(a)),c.l.get("".concat(c.a,"v2/guru/nilai-murid/").concat(e,"/").concat(t,"/").concat(a,"?tahunAjaran=").concat(l)).then(e=>{this.setState({nilaiMurid:e.data.result,isLoading:!1})})}componentDidMount(){let e=new Date,t=e.getMonth()<6?e.getFullYear()-1+"/"+e.getFullYear():e.getFullYear()+"/"+(e.getFullYear()+1),a=[];for(var l=0;l<6;l++)a.push("".concat(e.getFullYear()-l,"/").concat(e.getFullYear()-l+1));this.setState({tahunAjaran:t,listTahunAjaran:a}),this.fetchSemester()}render(){return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Laporan / Raport Murid"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Tahun Ajaran"),r.a.createElement("select",{onChange:this.selectTahunAjaran,value:this.state.tahunAjaran,className:"form-control",required:!0},r.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listTahunAjaran.map(e=>r.a.createElement("option",{value:e},e)))),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Semester"),r.a.createElement("select",{onChange:this.selectSemester,value:this.state.semesterId,className:"form-control",required:!0},r.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listSemester.map((e,t)=>r.a.createElement("option",{key:t,value:e.semester_id},e.semester_name)))),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Kelas"),r.a.createElement("select",{onChange:this.selectKelas,value:this.state.kelasId,className:"form-control",required:!0},r.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listKelas.map((e,t)=>r.a.createElement("option",{key:t,value:e.kelas_id},e.kelas_nama)))),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("label",null,"Nama Murid"),r.a.createElement(m.MultiSelect,{id:"userId",options:this.state.listMurid,value:this.state.muridId,onChange:this.selectMurid,mode:"single",enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih",allSelectedLabel:"Semua"})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{className:"btn btn-v2 btn-success mt-4",onClick:()=>this.exportPDF()},r.a.createElement("i",{className:"fa fa-download"})," Download Report")))),r.a.createElement("form",{onSubmit:this.simpanData,className:"mt-4"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"NO INDUK"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.muridId[0],disabled:!0,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"}," NAME "),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.muridInfo.nama,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"KELAS"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.kelasInfo.kelas_nama,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"SEMESTER"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.semesterInfo.semester_name,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label text-right"},"SCHOOL YEAR"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",value:this.state.kelasInfo.tahun_ajaran,className:"form-control"})))),r.a.createElement("table",{className:"table table-striped mt-4 table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"NO"),r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," SUBJECT "),r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," TOTAL"),r.a.createElement("td",{colSpan:"3"},"NILAI HASIL BELAJAR"),r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"PERSENSI")),r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,"TASK"),r.a.createElement("td",null,"QUIZ"),r.a.createElement("td",null,"EXAM"))),r.a.createElement("tbody",null,this.state.isLoading&&r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center",colSpan:"7"},r.a.createElement("span",null,"Loading..."))),this.state.nilaiMurid.map((e,t)=>r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama_pelajaran),r.a.createElement("td",null,(e.totalAkhirScoreTugas+e.totalAkhirScoreKuis+e.totalAkhirScoreUjian).toFixed(2)),r.a.createElement("td",null,Number.parseFloat(e.totalAkhirScoreTugas).toFixed(2),r.a.createElement("br",null),e.kumpulTugas.length,"/",e.totalTugas.length),r.a.createElement("td",null,Number.parseFloat(e.totalAkhirScoreKuis).toFixed(2),r.a.createElement("br",null),e.kumpulKuis.length,"/",e.totalKuis.length),r.a.createElement("td",null,Number.parseFloat(e.totalAkhirScoreUjian).toFixed(2),r.a.createElement("br",null),e.kumpulUjian.length,"/",e.totalUjian.length),r.a.createElement("td",null,e.persensi)))))))))}}var le=ae;class re extends r.a.Component{constructor(){super(...arguments),this.state={isLoading:!1,murid:[],muridOptions:[],muridId:[],muridInfo:{},kelasMurid:[],minimalLulus:[]},this.selectMurid=e=>{this.setState({isLoading:!0}),c.l.get("".concat(c.a,"v2/murid/user-id/").concat(e[0])).then(t=>{this.setState({muridId:e,muridInfo:t.data.result}),this.fetchKelasMurid(e[0])})}}fetchNilaiKelulusan(){c.l.get("".concat(c.a,"v2/semester-kelulusan/").concat(o.a.get("user").data.company_id)).then(e=>{this.setState({minimalLulus:e.data.result})})}componentDidMount(){this.fetchMurid(),this.fetchNilaiKelulusan()}fetchKelasMurid(e){this.setState({isLoading:!0}),c.l.get("".concat(c.a,"v2/kelas/murid/").concat(e)).then(async t=>{if(t.data.error)i.b.warning("Error fetch kelas murid");else{for(var a=0;a<t.data.result.length;a++){let l=await c.l.get("".concat(c.a,"v2/guru/nilai-murid/").concat(t.data.result[a].semester_id,"/").concat(t.data.result[a].kelas_id,"/").concat(e,"?tahunAjaran=").concat(t.data.result[a].tahun_ajaran)),r=0;l.data.result.map(e=>r+=e.totalAkhirScoreTugas+e.totalAkhirScoreKuis+e.totalAkhirScoreUjian),t.data.result[a].nilai=l.data.result,t.data.result[a].total=(r/l.data.result.length).toFixed(2)}this.setState({kelasMurid:t.data.result,isLoading:!1})}})}fetchMurid(){c.l.get("".concat(c.a,"v2/murid/company/").concat(o.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch murid");let t=[];e.data.result.map(e=>{t.push({value:e.user_id,label:"".concat(e.no_induk," - ").concat(e.nama)})}),this.setState({murid:e.data.result,muridOptions:t})})}fetchNilaiMurid(e,t,a,l){console.log("Query: ".concat(e," ").concat(t," ").concat(a)),c.l.get("".concat(c.a,"v2/guru/nilai-murid/").concat(e,"/").concat(t,"/").concat(a,"?tahunAjaran=").concat(l)).then(e=>{this.setState({nilaiMurid:e.data.result,isLoading:!1})})}render(){return console.log("state: ",this.state.kelasMurid),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Laporan Pembelajaran Murid"),r.a.createElement("div",{className:"card-body row"},r.a.createElement("div",{className:"col-sm-6 mb-3"},r.a.createElement("label",null,"Murid"),r.a.createElement(m.MultiSelect,{id:"userId",options:this.state.muridOptions,value:this.state.muridId,onChange:this.selectMurid,mode:"single",enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih",allSelectedLabel:"Semua"})),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Semester"),r.a.createElement("th",null,"Nama Kelas"),r.a.createElement("th",null,"Tahun Ajaran"))),r.a.createElement("tbody",null,this.state.isLoading?r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center",colSpan:"4"},"fetching data...")):r.a.createElement(r.a.Fragment,null,this.state.kelasMurid.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center collapsed","data-toggle":"collapse","data-target":"#collapse".concat(t),"aria-expanded":"false","aria-controls":"collapse".concat(t)},r.a.createElement("i",{class:"fa","aria-hidden":"true"})),r.a.createElement("td",null,e.semester_name),r.a.createElement("td",null,e.kelas_nama),r.a.createElement("td",null,e.tahun_ajaran)),r.a.createElement("tr",{className:"collapse",id:"collapse".concat(t)},r.a.createElement("td",{colSpan:"4"},r.a.createElement("table",{className:"table table-striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"NO"),r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," SUBJECT "),r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," TOTAL"),r.a.createElement("td",{colSpan:"3"},"NILAI HASIL BELAJAR"),r.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"PERSENSI")),r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,"TASK"),r.a.createElement("td",null,"QUIZ"),r.a.createElement("td",null,"EXAM"))),r.a.createElement("tbody",null,e.nilai.map((e,t)=>r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.nama_pelajaran),r.a.createElement("td",null,(e.totalAkhirScoreTugas+e.totalAkhirScoreKuis+e.totalAkhirScoreUjian).toFixed(2)),r.a.createElement("td",null,Number.parseFloat(e.totalAkhirScoreTugas).toFixed(2),r.a.createElement("br",null),e.kumpulTugas.length,"/",e.totalTugas.length),r.a.createElement("td",null,Number.parseFloat(e.totalAkhirScoreKuis).toFixed(2),r.a.createElement("br",null),e.kumpulKuis.length,"/",e.totalKuis.length),r.a.createElement("td",null,Number.parseFloat(e.totalAkhirScoreUjian).toFixed(2),r.a.createElement("br",null),e.kumpulUjian.length,"/",e.totalUjian.length),r.a.createElement("td",null,e.persensi))))),r.a.createElement("div",{className:"border p-4"},r.a.createElement("p",null,"Keputusan"),r.a.createElement("p",null,"Berdasarkan pencapaian seluruh kompetensi"),r.a.createElement("p",null,"Peserta didik dinyatakan"," ",r.a.createElement("b",{style:parseFloat(e.total)<=this.state.minimalLulus.filter(t=>t.semester_id==e.semester_id)[0].nilai||"NaN"===e.total?{color:"red"}:{color:"green"}},parseFloat(e.total)<=this.state.minimalLulus.filter(t=>t.semester_id==e.semester_id)[0].nilai||"NaN"===e.total?"Tidak":null," Lulus")))))))))))))))}}var ne=re,se=a(19),ie=a.n(se);class ce extends r.a.Component{constructor(){super(...arguments),this.state={formatKpi:[],id:"",name:"",file:"",tempFile:Math.random().toString(36),rangeNilai:[],idNilai:"",min:"",max:"",huruf:"",nilaiKelulusan:[],lulusId:"",semesterId:"",nilai:"",companyId:o.a.get("user").data.company_id},this.saveKpi=e=>{e.preventDefault();let t={companyId:o.a.get("user").data.company_id,name:this.state.name};c.l.post("".concat(c.a,"v2/learning-kpi"),t).then(e=>{if(this.state.file){let t=new FormData;t.append("file",this.state.file),c.l.put("".concat(c.a,"v2/learning-kpi/").concat(e.data.result.id_kpi),t).then(e=>{i.b.success("File uploaded."),this.clearForm(),this.fetchFormatKpi()})}i.b.success("Format KPI saved."),this.fetchFormatKpi()})},this.deleteKpi=e=>{e.preventDefault(),c.l.delete("".concat(c.a,"v2/learning-kpi/").concat(e.target.getAttribute("data-id"))).then(e=>{this.fetchFormatKpi(),this.clearForm()})},this.saveRangeNilai=e=>{e.preventDefault();let t={id:this.state.idNilai,min:this.state.min,max:this.state.max,huruf:this.state.huruf,company_id:o.a.get("user").data.company_id};this.state.idNilai?c.l.put("".concat(c.a,"v2/range-nilai/update/").concat(t.id),t).then(e=>{this.fetchRangeNilai()}):c.l.post("".concat(c.a,"v2/range-nilai/create"),t).then(e=>{this.fetchRangeNilai()}),this.clearFormNilai()},this.selectNilai=e=>{e.preventDefault();let t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-min"),l=e.target.getAttribute("data-max"),r=e.target.getAttribute("data-huruf");this.setState({idNilai:t,min:a,max:l,huruf:r})},this.deleteNilai=e=>{e.preventDefault();let t=e.target.getAttribute("data-id");c.l.delete("".concat(c.a,"v2/range-nilai/delete/").concat(t)).then(e=>{this.fetchRangeNilai()})},this.handleDynamic=(e,t)=>{let{value:a,name:l}=e.target,r=[...this.state.nilaiKelulusan];r[t][l]=a,this.setState({nilaiKelulusan:r})},this.updateNilaiKelulusan=(e,t)=>{let a=[...this.state.nilaiKelulusan][t];c.l.post("".concat(c.a,"v2/semester-kelulusan"),a).then(e=>{e.data.error?i.b.warning("Tidak dapat ubah nilai kelulusan"):(i.b.success("Nilai minimal kelulusan tersimpan"),this.fetchNilaiKelulusan())})}}clearForm(){this.setState({id:"",name:"",file:"",tempFile:Math.random().toString(36),lulusId:"",semesterId:"",nilai:""})}clearFormNilai(){this.setState({idNilai:"",min:"",max:"",huruf:""})}componentDidMount(){this.fetchFormatKpi(),this.fetchRangeNilai(),this.fetchNilaiKelulusan()}fetchNilaiKelulusan(){c.l.get("".concat(c.a,"v2/semester-kelulusan/").concat(this.state.companyId)).then(e=>{this.setState({nilaiKelulusan:e.data.result})})}fetchFormatKpi(){c.l.get("".concat(c.a,"v2/learning-kpi/company/").concat(o.a.get("user").data.company_id)).then(e=>{this.setState({formatKpi:e.data.result.reverse()})})}fetchRangeNilai(){c.l.get("".concat(c.a,"v2/range-nilai/company/").concat(o.a.get("user").data.company_id)).then(e=>{this.setState({rangeNilai:e.data.result})})}render(){return r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header header-kartu"},"Upload Format KPI"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.saveKpi},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",class:"form-control",value:this.state.name,onChange:e=>this.setState({name:e.target.value})})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",null,"File"),r.a.createElement("label",{for:"attachment",className:"form-control"},this.state.file?this.state.file.name:"Choose File"),r.a.createElement("input",{type:"file",id:"attachment",class:"form-control file-upload-icademy",key:this.state.tempFile,onChange:e=>this.setState({file:e.target.files[0]})})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("button",{className:"btn btn-v2 btn-success mt-4"},r.a.createElement("i",{className:"fa fa-save"})," Upload")))),r.a.createElement("table",{className:"table table-striped mt-4 table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,"NO"),r.a.createElement("td",null,"NAME"),r.a.createElement("td",null,"FILE"),r.a.createElement("td",null,"CREATED AT"),r.a.createElement("td",null,"ACTION"))),r.a.createElement("tbody",null,this.state.formatKpi.map((e,t)=>r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:e.file,target:"_blank"},"Download")),r.a.createElement("td",null,ie()(e.created_at).format("DD/MM/YYYY HH:mm")),r.a.createElement("td",null,r.a.createElement("i",{onClick:this.deleteKpi,"data-id":e.id_kpi,class:"fa fa-trash",style:{cursor:"pointer"}}))))))))),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header header-kartu"},"Setup Range Nilai"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.saveRangeNilai},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Minimal"),r.a.createElement("input",{type:"number",class:"form-control",value:this.state.min,onChange:e=>this.setState({min:e.target.value})})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Maksimal"),r.a.createElement("input",{type:"number",class:"form-control",value:this.state.max,onChange:e=>this.setState({max:e.target.value})})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("label",null,"Nilai dalam huruf"),r.a.createElement("input",{type:"text",class:"form-control",value:this.state.huruf,onChange:e=>this.setState({huruf:e.target.value})})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("button",{className:"btn btn-v2 btn-success mt-4"},r.a.createElement("i",{className:"fa fa-save"})," Save"),r.a.createElement("button",{type:"reset",onClick:()=>this.clearFormNilai(),className:"ml-2 btn btn-v2 btn-default mt-4"},"Reset")))),r.a.createElement("table",{className:"table table-striped mt-4 table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,"NO"),r.a.createElement("td",null,"MIN"),r.a.createElement("td",null,"MAX"),r.a.createElement("td",null,"HURUF"),r.a.createElement("td",null,"CREATED AT"),r.a.createElement("td",null,"ACTION"))),r.a.createElement("tbody",null,this.state.rangeNilai.map((e,t)=>r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.min),r.a.createElement("td",null,e.max),r.a.createElement("td",null,e.huruf),r.a.createElement("td",null,ie()(e.created_at).format("DD/MM/YYYY HH:mm")),r.a.createElement("td",null,r.a.createElement("i",{onClick:this.selectNilai,"data-id":e.id,"data-min":e.min,"data-max":e.max,"data-huruf":e.huruf,class:"fa fa-edit mr-2",style:{cursor:"pointer"}}),r.a.createElement("i",{onClick:this.deleteNilai,"data-id":e.id,class:"fa fa-trash",style:{cursor:"pointer"}}))))))))),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header header-kartu"},"Minimal Nilai Kelulusan"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("table",{className:"table table-striped table-bordered col-sm-5"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,"NO"),r.a.createElement("td",null,"SEMESTER"),r.a.createElement("td",null,"MINIMAL (0-100)"))),r.a.createElement("tbody",null,this.state.nilaiKelulusan.map((e,t)=>r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.semester_name),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"nilai",value:e.nilai,onChange:e=>this.handleDynamic(e,t),onBlur:e=>this.updateNilaiKelulusan(e,t),className:"form-control"})))))))))))}}var oe=ce;a.d(t,"default",(function(){return ue}));const me=[{label:"Personnel",link:"/personalia",component:B,icon:"@0,5xPersonnel off.svg",iconActive:"@0,5xPersonnel on.svg"},{label:"Lessons",link:"/daftar-pelajaran",component:D,icon:"@0,5xLessons off.svg",iconActive:"@0,5xLessons on.svg"},{label:"Curriculum",link:"/kurikulum",component:P,icon:"@0,5xCurriculum off.svg",iconActive:"@0,5xCurriculum on.svg"},{label:"Class",link:"/registrasi",component:u,icon:"@0,5xclass-1.svg",iconActive:"@0,5xclass on.svg"},{label:"Room",link:"/ruangan-mengajar",component:q,icon:"@0,5xRoom off.svg",iconActive:"@0,5xRoom on.svg"},{label:"Schedule",link:"/jadwal-mengajar",component:W,icon:"@0,5xSchedule off.svg",iconActive:"@0,5xSchedule on.svg"},{label:"Report",link:"/laporan",component:le,icon:"@0,5xReport off.svg",iconActive:"@0,5xReport on.svg"},{label:"Preference",link:"/kpi",component:oe,icon:"@0,5xLessons off.svg",iconActive:"@0,5xLessons on.svg"},{label:"History",link:"/histori",component:ne,icon:"@0,5xhistory off.svg",iconActive:"@0,5xhistory on.svg"}],de=[{label:"Evaluation Details",link:"/evaluasi-detail/:id",component:Q},{label:"Student Details",link:"/personalia-detail/:id",component:J},{label:"Folder",link:"/folder",component:$}];class ue extends l.Component{constructor(e){super(e),this.goBack=this.goBack.bind(this),this.state={menu:me,selected:"Lessons"}}selectMenu(e){this.setState({selected:e})}renderContent(e){switch(console.log(e,"render"),e){case"Lessons":return r.a.createElement(D,null);default:return null}}goBack(){this.props.history.goBack()}render(){return r.a.createElement("div",{className:"pcoded-main-container",style:{backgroundColor:"#F6F6FD"}},r.a.createElement("div",{className:"pcoded-wrapper"},r.a.createElement("div",{className:"pcoded-content",style:{padding:"40px 40px 0 40px"}},r.a.createElement("div",{className:"pcoded-inner-content"},r.a.createElement("div",{className:"main-body"},r.a.createElement("div",{className:"page-wrapper"},r.a.createElement("div",{className:"floating-back"},r.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90,onClick:this.goBack})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"card main-tab-container",style:{padding:"0px 20px"}},r.a.createElement("div",{className:"row",style:{height:"100%"}},r.a.createElement("div",{className:"col-sm-2",style:{display:"flex",alignItems:"center"}},r.a.createElement("strong",{className:"f-w-bold f-18",style:{color:"#000"}},"Learning | ",this.state.selected)),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("ul",{className:"tab-menu",style:{width:"100%"}},me.map(e=>r.a.createElement(n.b,{to:"/learning".concat(e.link)},r.a.createElement("li",{className:this.state.selected===e.label&&"active",onClick:this.selectMenu.bind(this,e.label)},r.a.createElement("img",{src:"newasset/learning/".concat(this.state.selected===e.label?e.iconActive:e.icon),alt:"",height:26,width:26,style:{marginRight:8}}),e.label))))))))),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/learning",exact:!0,component:u}),me.map(e=>r.a.createElement(s.b,{key:e.link,path:"/learning".concat(e.link),component:e.component})),de.map(e=>r.a.createElement(s.b,{key:e.link,path:"/learning".concat(e.link),component:e.component})))))))))}}},1617:function(e,t,a){"use strict";var l=a(1),r=a(4),n=a(15),s=a.n(n),i=a(0),c=a.n(i),o=a(63),m=a(27),d=a(461),u=c.a.createContext(null);u.displayName="AccordionContext";var h=u;var p,E=c.a.forwardRef((function(e,t){var a=e.as,n=void 0===a?"button":a,s=e.children,o=e.eventKey,m=e.onClick,u=Object(r.a)(e,["as","children","eventKey","onClick"]),p=function(e,t){var a=Object(i.useContext)(h),l=Object(i.useContext)(d.a);return function(r){l&&l(e===a?null:e,r),t&&t(r)}}(o,m);return"button"===n&&(u.type="button"),c.a.createElement(n,Object(l.a)({ref:t,onClick:p},u),s)})),g=a(75),f=a(40),b=a(80),v=a(78),N=a(79),y={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function k(e,t){var a=t["offset"+e[0].toUpperCase()+e.slice(1)],l=y[e];return a+parseInt(Object(g.a)(t,l[0]),10)+parseInt(Object(g.a)(t,l[1]),10)}var w=((p={})[f.c]="collapse",p[f.d]="collapsing",p[f.b]="collapsing",p[f.a]="collapse show",p),S={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:k},j=c.a.forwardRef((function(e,t){var a=e.onEnter,n=e.onEntering,o=e.onEntered,m=e.onExit,d=e.onExiting,u=e.className,h=e.children,p=e.dimension,E=void 0===p?"height":p,g=e.getDimensionValue,y=void 0===g?k:g,S=Object(r.a)(e,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]),j="function"===typeof E?E():E,x=Object(i.useMemo)((function(){return Object(v.a)((function(e){e.style[j]="0"}),a)}),[j,a]),C=Object(i.useMemo)((function(){return Object(v.a)((function(e){var t="scroll"+j[0].toUpperCase()+j.slice(1);e.style[j]=e[t]+"px"}),n)}),[j,n]),M=Object(i.useMemo)((function(){return Object(v.a)((function(e){e.style[j]=null}),o)}),[j,o]),_=Object(i.useMemo)((function(){return Object(v.a)((function(e){e.style[j]=y(j,e)+"px",Object(N.a)(e)}),m)}),[m,y,j]),I=Object(i.useMemo)((function(){return Object(v.a)((function(e){e.style[j]=null}),d)}),[j,d]);return c.a.createElement(f.e,Object(l.a)({ref:t,addEndListener:b.a},S,{"aria-expanded":S.role?S.in:null,onEnter:x,onEntering:C,onEntered:M,onExit:_,onExiting:I}),(function(e,t){return c.a.cloneElement(h,Object(l.a)({},t,{className:s()(u,h.props.className,w[e],"width"===j&&"width")}))}))}));j.defaultProps=S;var x=j,C=c.a.forwardRef((function(e,t){var a=e.children,n=e.eventKey,s=Object(r.a)(e,["children","eventKey"]),o=Object(i.useContext)(h);return c.a.createElement(d.a.Provider,{value:null},c.a.createElement(x,Object(l.a)({ref:t,in:o===n},s),c.a.createElement("div",null,c.a.Children.only(a))))}));C.displayName="AccordionCollapse";var M=C,_=c.a.forwardRef((function(e,t){var a=Object(o.useUncontrolled)(e,{activeKey:"onSelect"}),n=a.as,i=void 0===n?"div":n,u=a.activeKey,p=a.bsPrefix,E=a.children,g=a.className,f=a.onSelect,b=Object(r.a)(a,["as","activeKey","bsPrefix","children","className","onSelect"]),v=s()(g,Object(m.a)(p,"accordion"));return c.a.createElement(h.Provider,{value:u||null},c.a.createElement(d.a.Provider,{value:f||null},c.a.createElement(i,Object(l.a)({ref:t},b,{className:v}),E)))}));_.displayName="Accordion",_.Toggle=E,_.Collapse=M;t.a=_},255:function(e,t,a){var l=a(322),r=a(323),n=a(324),s=a(326);e.exports=function(e,t){return l(e)||r(e,t)||n(e,t)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},277:function(e,t,a){e.exports=a(297)},297:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var l=a(0);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}var n=l.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},l.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),s=l.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},l.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function i(e){if(7===e.length)return e;for(var t="#",a=1;a<4;a+=1)t+=e[a]+e[a];return t}function c(e,t,a,l,r){return function(e,t,a,l,r){var n=(e-a)/(t-a);if(0===n)return l;if(1===n)return r;for(var s="#",i=1;i<6;i+=2){var c=parseInt(l.substr(i,2),16),o=parseInt(r.substr(i,2),16),m=Math.round((1-n)*c+n*o).toString(16);1===m.length&&(m="0"+m),s+=m}return s}(e,t,a,i(l),i(r))}var o=function(e){function t(t){e.call(this,t);var a=t.height,l=t.width,r=t.checked;this.t=t.handleDiameter||a-2,this.i=Math.max(l-a,l-(a+this.t)/2),this.o=Math.max(0,(a-this.t)/2),this.state={s:r?this.i:this.o},this.n=0,this.e=0,this.h=this.h.bind(this),this.r=this.r.bind(this),this.a=this.a.bind(this),this.c=this.c.bind(this),this.l=this.l.bind(this),this.u=this.u.bind(this),this.f=this.f.bind(this),this.p=this.p.bind(this),this.b=this.b.bind(this),this.g=this.g.bind(this),this.v=this.v.bind(this),this.w=this.w.bind(this)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.componentDidUpdate=function(e){e.checked!==this.props.checked&&this.setState({s:this.props.checked?this.i:this.o})},t.prototype.k=function(e){this.y.focus(),this.setState({C:e,M:!0,m:Date.now()})},t.prototype.x=function(e){var t=this.state,a=t.C,l=t.s,r=(this.props.checked?this.i:this.o)+e-a;t.R||e===a||this.setState({R:!0});var n=Math.min(this.i,Math.max(this.o,r));n!==l&&this.setState({s:n})},t.prototype.S=function(e){var t=this.state,a=t.s,l=t.R,r=t.m,n=this.props.checked,s=(this.i+this.o)/2,i=Date.now()-r;!l||i<250?this.T(e):n?s<a?this.setState({s:this.i}):this.T(e):a<s?this.setState({s:this.o}):this.T(e),this.setState({R:!1,M:!1}),this.n=Date.now()},t.prototype.h=function(e){e.preventDefault(),"number"==typeof e.button&&0!==e.button||(this.k(e.clientX),window.addEventListener("mousemove",this.r),window.addEventListener("mouseup",this.a))},t.prototype.r=function(e){e.preventDefault(),this.x(e.clientX)},t.prototype.a=function(e){this.S(e),window.removeEventListener("mousemove",this.r),window.removeEventListener("mouseup",this.a)},t.prototype.c=function(e){this.$=null,this.k(e.touches[0].clientX)},t.prototype.l=function(e){this.x(e.touches[0].clientX)},t.prototype.u=function(e){e.preventDefault(),this.S(e)},t.prototype.p=function(e){50<Date.now()-this.n&&(this.T(e),50<Date.now()-this.e&&this.setState({M:!1}))},t.prototype.b=function(){this.e=Date.now()},t.prototype.g=function(){this.setState({M:!0})},t.prototype.v=function(){this.setState({M:!1})},t.prototype.w=function(e){this.y=e},t.prototype.f=function(e){e.preventDefault(),this.y.focus(),this.T(e),this.setState({M:!1})},t.prototype.T=function(e){var t=this.props;(0,t.onChange)(!t.checked,e,t.id)},t.prototype.render=function(){var e=this.props,t=e.disabled,a=e.className,n=e.offColor,s=e.onColor,i=e.offHandleColor,o=e.onHandleColor,m=e.checkedIcon,d=e.uncheckedIcon,u=e.boxShadow,h=e.activeBoxShadow,p=e.height,E=e.width,g=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&-1===t.indexOf(l)&&(a[l]=e[l]);return a}(e,["disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","boxShadow","activeBoxShadow","height","width","handleDiameter"]),f=this.state,b=f.s,v=f.R,N=f.M,y={position:"relative",display:"inline-block",textAlign:"left",opacity:t?.5:1,direction:"ltr",borderRadius:p/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},k={height:p,width:E,margin:Math.max(0,(this.t-p)/2),position:"relative",background:c(b,this.i,this.o,n,s),borderRadius:p/2,cursor:t?"default":"pointer",WebkitTransition:v?null:"background 0.25s",MozTransition:v?null:"background 0.25s",transition:v?null:"background 0.25s"},w={height:p,width:Math.min(1.5*p,E-(this.t+p)/2+1),position:"relative",opacity:(b-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},S={height:p,width:Math.min(1.5*p,E-(this.t+p)/2+1),position:"absolute",opacity:1-(b-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},j={height:this.t,width:this.t,background:c(b,this.i,this.o,i,o),display:"inline-block",cursor:t?"default":"pointer",borderRadius:"50%",position:"absolute",transform:"translateX("+b+"px)",top:Math.max(0,(p-this.t)/2),outline:0,boxShadow:N?h:u,border:0,WebkitTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"};return l.createElement("div",{className:a,style:y},l.createElement("div",{className:"react-switch-bg",style:k,onClick:t?null:this.f,onMouseDown:function(e){return e.preventDefault()}},m&&l.createElement("div",{style:w},m),d&&l.createElement("div",{style:S},d)),l.createElement("div",{className:"react-switch-handle",style:j,onClick:function(e){return e.preventDefault()},onMouseDown:t?null:this.h,onTouchStart:t?null:this.c,onTouchMove:t?null:this.l,onTouchEnd:t?null:this.u,onTouchCancel:t?null:this.v}),l.createElement("input",r({},{type:"checkbox",role:"switch",disabled:t,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},g,{ref:this.w,onFocus:this.g,onBlur:this.v,onKeyUp:this.b,onChange:this.p})))},t}(l.Component);o.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:n,checkedIcon:s,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},t.default=o},300:function(e,t,a){"use strict";var l=a(0),r=a.n(l).a.createContext(null);r.displayName="CardContext",t.a=r},322:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},323:function(e,t){e.exports=function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,r,n=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);s=!0);}catch(c){i=!0,r=c}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},324:function(e,t,a){var l=a(325);e.exports=function(e,t){if(e){if("string"===typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},325:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l},e.exports.default=e.exports,e.exports.__esModule=!0},326:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},327:function(e,t,a){var l=a(328);e.exports=function(e,t){if(null==e)return{};var a,r,n=l(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n},e.exports.default=e.exports,e.exports.__esModule=!0},328:function(e,t){e.exports=function(e,t){if(null==e)return{};var a,l,r={},n=Object.keys(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||(r[a]=e[a]);return r},e.exports.default=e.exports,e.exports.__esModule=!0},461:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var l=a(0),r=a.n(l).a.createContext(null),n=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};t.a=r},463:function(e,t,a){"use strict";var l=a(1),r=a(4),n=a(15),s=a.n(n),i=a(0),c=a.n(i),o=a(27),m=a(43),d=a(64),u=a(300),h=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,i=e.variant,m=e.as,d=void 0===m?"img":m,u=Object(r.a)(e,["bsPrefix","className","variant","as"]),h=Object(o.a)(a,"card-img");return c.a.createElement(d,Object(l.a)({ref:t,className:s()(i?h+"-"+i:h,n)},u))}));h.displayName="CardImg",h.defaultProps={variant:null};var p=h,E=Object(d.a)("h5"),g=Object(d.a)("h6"),f=Object(m.a)("card-body"),b=Object(m.a)("card-title",{Component:E}),v=Object(m.a)("card-subtitle",{Component:g}),N=Object(m.a)("card-link",{Component:"a"}),y=Object(m.a)("card-text",{Component:"p"}),k=Object(m.a)("card-header"),w=Object(m.a)("card-footer"),S=Object(m.a)("card-img-overlay"),j=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,m=e.bg,d=e.text,h=e.border,p=e.body,E=e.children,g=e.as,b=void 0===g?"div":g,v=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),N=Object(o.a)(a,"card"),y=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:N+"-header"}}),[N]);return c.a.createElement(u.a.Provider,{value:y},c.a.createElement(b,Object(l.a)({ref:t},v,{className:s()(n,N,m&&"bg-"+m,d&&"text-"+d,h&&"border-"+h)}),p?c.a.createElement(f,null,E):E))}));j.displayName="Card",j.defaultProps={body:!1},j.Img=p,j.Title=b,j.Subtitle=v,j.Body=f,j.Link=N,j.Text=y,j.Header=k,j.Footer=w,j.ImgOverlay=S;t.a=j},465:function(e,t,a){"use strict";var l=a(1),r=a(4),n=a(15),s=a.n(n),i=a(0),c=a.n(i),o=a(27),m=["xl","lg","md","sm","xs"],d=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,i=e.noGutters,d=e.as,u=void 0===d?"div":d,h=Object(r.a)(e,["bsPrefix","className","noGutters","as"]),p=Object(o.a)(a,"row"),E=p+"-cols",g=[];return m.forEach((function(e){var t,a=h[e];delete h[e];var l="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&g.push(""+E+l+"-"+t)})),c.a.createElement(u,Object(l.a)({ref:t},h,{className:s.a.apply(void 0,[n,p,i&&"no-gutters"].concat(g))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.a=d},467:function(e,t,a){"use strict";var l=a(0),r=a.n(l),n=a(3),s=a(1613),i=a(463),c=a(465),o=a(294),m=a(455),d=a(2),u=a(18),h=a(229),p=a(277),E=a.n(p),g=a(30),f=a(19),b=a.n(f),v=a(65),N=a.n(v),y=a(516);const k=N()("".concat(n.b));k.on("connect",()=>{});a(423);class w extends l.Component{constructor(e){super(e),this.changeFilter=e=>{this.setState({filterFile:e.target.value})},this.searchFile=e=>{e.preventDefault(),this.setState({searchFile:e.target.value})},this.closeModalRename=e=>{this.setState({modalRename:!1,renameFileName:"",renameFileId:"",renameFileNameNew:""})},this.closeModalAdd=e=>{this.setState({folderName:"",modalNewFolder:!1,aSekretaris:!0,aModerator:!0,aPembicara:!0,aOwner:!0,aPeserta:!0,limited:!1,valueUser:[]})},this.closeModalEdit=e=>{this.setState({editProjectName:"",modalEditFolder:!1,aSekretaris:!0,aModerator:!0,aPembicara:!0,aOwner:!0,aPeserta:!0,limited:!1,valueUser:[]})},this.closeModalUpload=e=>{this.setState({modalUpload:!1})},this.uploadFile=async e=>{e.preventDefault(),this.setState({uploading:!0});for(let a=0;a<=this.state.attachmentId.length-1;a++){let e=new FormData;e.append("folder",this.state.folderId),e.append("file",this.state.attachmentId[a]),e.append("created_by",d.a.get("user").data.user_id),await n.l.post("".concat(n.a,"v1/folder/files"),e).then(e=>{200===e.status&&e.data.error&&(this.setState({uploading:!1,attachmentId:[]}),u.b.error("Error : "+e.data.result))})}let t="".concat(d.a.get("user").data.user," ").concat(this.props.t("successfully_added")," ").concat(this.state.attachmentId.length," ").concat(this.state.attachmentId.length>1?"files":"file");this.sendNotifToAll(t),this.setState({modalUpload:!1,uploading:!1,attachmentId:[]}),k.emit("send",{socketAction:"newFileUploaded",folderId:this.state.folderId}),this.fetchFile(this.state.folderId)},this.onChangeInput=e=>{const t=e.target.name,a=e.target.value;"attachmentId"===t?this.setState({[t]:e.target.files}):this.setState({[t]:a})},this.renameFile=e=>{if("file"===this.state.renameMode){let e={name:this.state.renameFileNameNew};n.l.put("".concat(n.a,"v1/project-file/").concat(this.state.renameFileId),e).then(e=>{if(200===e.status)if(e.data.error)u.b.error("Failed to modify the file ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew));else{let e="".concat(d.a.get("user").data.user," change the file name ").concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew);this.sendNotifToAll(e),u.b.success("Successfully modified file ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew)),this.setState({renameFileId:"",renameFileName:"",renameFileNameNew:""}),this.fetchFile(this.state.folderId),k.emit("send",{socketAction:"newFileUploaded",folderId:this.state.folderId}),this.closeModalRename()}})}else if("mom"===this.state.renameMode){let e={title:this.state.renameFileNameNew};n.l.put("".concat(n.a,"v1/liveclass/title-mom/").concat(this.state.renameFileId),e).then(e=>{if(200===e.status)if(e.data.error)u.b.error("Failed to modify the MOM name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew));else{let e="".concat(d.a.get("user").data.user," change the MOM name ").concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew);this.sendNotifToAll(e),u.b.success("Successfully modified MOM name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew)),this.setState({renameFileId:"",renameFileName:"",renameFileNameNew:"",renameMode:""}),this.fetchMOM(this.state.folderId),this.closeModalRename()}})}else if("record"===this.state.renameMode){let e={name:this.state.renameFileNameNew,project_id:this.state.folderId};n.l.put("".concat(n.a,"v1/record/").concat(this.state.renameFileId),e).then(e=>{if(200===e.status)if(e.data.error)u.b.error("Failed to modify the record name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew));else{let e="".concat(d.a.get("user").data.user," change the record name ").concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew);this.sendNotifToAll(e),u.b.success("Successfully modified record name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew)),this.setState({renameFileId:"",renameFileName:"",renameFileNameNew:"",renameMode:""}),this.fetchRekamanBBB(this.state.folderId),this.fetchRekaman(this.state.folderId),this.closeModalRename()}})}},this.saveFolder=e=>{e.preventDefault();const t={name:this.state.folderName,company:this.state.companyId,mother:this.state.folderId,aSekretaris:this.state.aSekretaris?1:0,aModerator:this.state.aModerator?1:0,aPembicara:this.state.aPembicara?1:0,aOwner:this.state.aOwner?1:0,aPeserta:this.state.aPeserta?1:0,is_limit:this.state.limited?1:0,user:this.state.valueUser,created_by:d.a.get("user").data.user_id};n.l.post("".concat(n.a,"v1/folder"),t).then(e=>{if(200===e.status)if(e.data.error)u.b.error("Error : "+e.data.result);else{let e="".concat(d.a.get("user").data.user," ").concat(this.props.t("successfully_to_added_a_new_folder_with_the_name"),' "').concat(t.name,'"');this.sendNotifToAll(e),this.closeModalAdd(),this.fetchFolder(this.state.folderId),k.emit("send",{socketAction:"newFileUploaded",folderId:this.state.folderId}),u.b.success(this.props.t("new_folder_added"))}})},this.closeModalDelete=e=>{this.setState({modalDelete:!1,deleteProjectName:"",deleteProjectId:"",alert:""})},this.closeModalDeleteFile=e=>{this.setState({modalDeleteFile:!1,deleteFileName:"",deleteFileId:"",alert:""})},this.selectFileShow=(e,t)=>{this.props.selectedFileShow&&("pdf"===e||"png"===e||"jpg"===e||"jpeg"===e||"doc"===e||"docx"===e||"xls"===e||"xlsx"===e?this.props.selectedFileShow(t):u.b.warning("Sorry, this file type not support yet to show"))},this.handleChangeFilter=e=>{this.setState({[e]:!this.state[e]})},this.state={users:[],role:[],dataUser:[],selectFolder:!1,classRooms:[],folderId:0,companyId:localStorage.getItem("companyID"),folder:[],files:[],mom:[],recordedMeeting:[],prevFolderId:0,folderName:"",modalNewFolder:!1,modalEditFolder:!1,modalUpload:!1,isUploading:!1,isLoading:!1,attachmentId:[],dataRecordings:[],editProjectName:"",editProjectId:"",modalDelete:!1,deleteProjectName:"",deleteProjectId:"",modalDeleteFile:!1,deleteFileName:"",deleteFileId:"",modalRename:!1,renameFileId:"",renameFileName:"",renameFileNameNew:"",renameMode:"",aSekretaris:!0,aModerator:!0,aPembicara:!0,aOwner:!0,aPeserta:!0,optionsUser:[],valueUser:[],limited:!1,filterFile:"",searchFile:"",filterFolder:!0,filterFiles:!0,filterMOM:!0,filterRecord:!0,gb:[]}}rename(e,t,a){this.setState({modalRename:!0,renameFileId:e,renameFileName:t,renameFileNameNew:t,renameMode:a})}toggleSwitch(e){this.setState({limited:!this.state.limited})}handleCheck(e){"sekretaris"==e?this.setState({aSekretaris:!this.state.aSekretaris}):"moderator"==e?this.setState({aModerator:!this.state.aModerator}):"pembicara"==e?this.setState({aPembicara:!this.state.aPembicara}):"owner"==e?this.setState({aOwner:!this.state.aOwner}):"peserta"==e&&this.setState({aPeserta:!this.state.aPeserta})}sendNotifToAll(e){n.l.get("".concat(n.a,"v1/user/company/").concat(d.a.get("user").data.company_id)).then(t=>{t.data.result.map(t=>{let a={user_id:t.user_id,type:6,activity_id:this.state.folderId,desc:e,dest:"".concat(n.c,"detail-project/").concat(this.props.projectId)};n.l.post("".concat(n.a,"v1/notification/broadcast"),a)})}),this.props.socket.emit("send",{companyId:d.a.get("user").data.company_id})}openModalEdit(e){n.l.get("".concat(n.a,"v1/project-read/").concat(e)).then(t=>{200===t.status&&this.setState({editProjectId:e,editProjectName:t.data.result.name,modalEditFolder:!0,aSekretaris:t.data.result.sekretaris,aModerator:t.data.result.moderator,aPembicara:t.data.result.pembicara,aOwner:t.data.result.owner,aPeserta:t.data.result.peserta,valueUser:t.data.result.user?t.data.result.user.split(",").map(Number):[],limited:0!==t.data.result.is_limit})})}editFolder(){let e={name:this.state.editProjectName,aSekretaris:this.state.aSekretaris?1:0,aModerator:this.state.aModerator?1:0,aPembicara:this.state.aPembicara?1:0,aOwner:this.state.aOwner?1:0,aPeserta:this.state.aPeserta?1:0,is_limit:this.state.limited?1:0,user:this.state.valueUser};n.l.put("".concat(n.a,"v1/project/").concat(this.state.editProjectId),e).then(e=>{if(console.log(e.data),200===e.status)if(e.data.error)u.b.error("".concat(this.props.t("failed_modify_project")," ").concat(this.state.editProjectName));else{let e="".concat(d.a.get("user").data.user," change the project name ").concat(this.state.editProjectName);this.sendNotifToAll(e),u.b.success("".concat(this.props.t("success_modify_project")," ").concat(this.state.editProjectName)),this.setState({editProjectId:"",editProjectName:""}),this.fetchFolder(this.state.folderId),this.closeModalEdit()}})}async fetchFolder(e){let t=d.a.get("user").data.user_id,a={};if(this.props.webinarId){let e=this.props.guest?"".concat(n.a,"v2/webinar/tamu/one/").concat(this.props.webinarId):"".concat(n.a,"v2/webinar/one/").concat(this.props.webinarId);await n.l.get(e).then(e=>{e.data.error&&u.b.warning("Gagal fetch API"),a={aSekretaris:e.data.result.sekretaris.filter(e=>e.user_id==t).length>=1?1:0,aModerator:e.data.result.moderator.filter(e=>e.user_id==t).length>=1?1:0,aPembicara:e.data.result.pembicara.filter(e=>e.user_id==t).length>=1?1:0,aOwner:e.data.result.owner.filter(e=>e.user_id==t).length>=1?1:0,aPeserta:e.data.result.peserta.filter(e=>e.user_id==t).length||e.data.result.tamu.filter(e=>e.voucher==this.props.voucherTamu).length?1:0}})}else a={aSekretaris:1,aModerator:1,aPembicara:1,aOwner:1,aPeserta:1};this.setState({role:a}),n.l.get("".concat(n.a,"v1/folder-by-user/").concat(this.state.companyId,"/").concat(e,"/").concat(d.a.get("user").data.user_id,"/").concat(this.props.guest?1:0),this.state.role).then(e=>{200===e.status&&this.setState({folder:e.data.result})}),n.l.get("".concat(n.a,"v1/folder/back/").concat(this.state.companyId,"/").concat(e)).then(e=>{200===e.status&&this.setState({prevFolderId:e.data.result})})}selectFolder(e,t){this.setState({isLoading:!0},()=>{this.fetchFolder(e),this.fetchFile(e),this.fetchMOM(e),this.fetchRekamanBBB(e),this.fetchRekaman(e),this.setState({selectFolder:e!=this.props.projectId,folderId:e})}),this.props.selectedFolder&&this.props.selectedFolder(e)}fetchFile(e){n.l.get("".concat(n.a,"v1/files/").concat(e)).then(e=>{200===e.status&&this.setState({files:e.data.result})})}fetchMOM(e){0==e||this.props.webinarId?this.setState({mom:[]}):n.l.get("".concat(n.a,"v1/files-mom/").concat(e)).then(e=>{200===e.status&&this.setState({mom:e.data.result})})}fetchRekaman(e){0==e||this.props.webinarId?this.setState({recordedMeeting:[],isLoading:!1}):n.l.get("".concat(n.a,"v1/files-recorded/").concat(e)).then(e=>{200===e.status&&(this.setState({recordedMeeting:e.data.result}),console.log(e.data.result,"TEST MEET"))})}fetchRekamanBBB(e){let t=d.a.get("user").data.user_id;0==e||this.props.webinarId?this.setState({dataRecordings:[],isLoading:!1}):n.l.get("".concat(n.a,"v2/bbb/record/").concat(t,"/").concat(e)).then(e=>{200===e.status&&this.setState({dataRecordings:e.data.result,isLoading:!1})})}fetchData(){let e=this.props.initialFolder?this.props.initialFolder:this.props.projectId;this.props.companyId?(this.setState({companyId:this.props.companyId}),this.selectFolder(e)):n.l.get("".concat(n.j).concat(d.a.get("user").data.email)).then(t=>{200===t.status&&(this.setState({companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):t.data.result.company_id}),this.selectFolder(e))}),n.l.get("".concat(n.a,"v2/project/user/").concat(this.props.projectId)).then(e=>{this.setState({optionsUser:[]}),e.data.result.map(e=>{this.state.optionsUser.push({value:e.user_id,label:e.name})})})}dialogDelete(e,t){this.setState({deleteProjectId:e,deleteProjectName:t,modalDelete:!0})}dialogDeleteFile(e,t){this.setState({deleteFileId:e,deleteFileName:t,modalDeleteFile:!0})}deleteProject(){n.l.delete("".concat(n.a,"v1/project/").concat(this.state.deleteProjectId)).then(e=>{if(200===e.status)if(e.data.error)u.b.error("".concat(this.props.t("failed_delete_project")," ").concat(this.state.deleteProjectName));else{let e="".concat(d.a.get("user").data.user," deleted the ").concat(this.state.deleteProjectName," project");this.sendNotifToAll(e),u.b.success("".concat(this.props.t("success_delete_project")," ").concat(this.state.deleteProjectName)),this.setState({deleteProjectId:"",deleteProjectName:"",modalDelete:!1}),this.fetchFolder(this.state.folderId)}})}deleteFile(){n.l.delete("".concat(n.a,"v1/project-file/").concat(this.state.deleteFileId)).then(e=>{if(200===e.status)if(e.data.error)u.b.error("".concat(this.props.t("failed_delete_project")," ").concat(this.state.deleteProjectName));else{let e="".concat(d.a.get("user").data.user," deleted the file");this.sendNotifToAll(e),u.b.success("".concat(this.props.t("success_delete_project")," ").concat(this.state.deleteProjectName)),this.setState({deleteFileId:"",deleteFileName:"",modalDeleteFile:!1}),this.fetchFile(this.state.folderId)}})}filesLogs(e){let t={id:e.id,filename:e.name,folder:e.folder_id,url:e.location};n.l.post("".concat(n.a,"v1/files-logs"),t).then(e=>{console.log(e)})}componentDidMount(){this.fetchData(),k.on("broadcast",e=>{"newFileUploaded"==e.socketAction&&e.folderId===this.state.folderId&&this.selectFolder(e.folderId)}),this.props.guest?this.setState({gb:[{code:"CD_FILE_FOLDER",status:!1},{code:"R_FILES_FOLDER",status:!0},{code:"U_FILES",status:!1}]}):this.fetchCheckAccess(d.a.get("user").data.grup_name.toLowerCase(),d.a.get("user").data.company_id,d.a.get("user").data.level,["CD_FILE_FOLDER","R_FILES_FOLDER","U_FILES"])}fetchCheckAccess(e,t,a,l){n.l.get("".concat(n.a,"v2/global-settings/check-access"),{role:e,company_id:t,level:a,param:l}).then(e=>{200===e.status&&this.setState({gb:e.data.result})})}render(){const{t:e}=this.props;let t=this.state.gb.length&&this.state.gb.filter(e=>"CD_FILE_FOLDER"===e.code)[0].status,a=this.state.gb.length&&this.state.gb.filter(e=>"R_FILES_FOLDER"===e.code)[0].status,l=this.state.gb.length&&this.state.gb.filter(e=>"U_FILES"===e.code)[0].status;const p=()=>u.b.warning("Access denied"),g=this.props.access_project_admin;let{searchFile:f,folder:v,mom:N,files:y,recordedMeeting:k,dataRecordings:w}=this.state;return""!=f&&(v=v.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),y=y.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),N=N.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),k=k.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),w=w.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi")))),r.a.createElement("div",{className:"card p-20"},r.a.createElement("span",{className:"mb-4"},r.a.createElement("strong",{className:"f-w-bold f-18 fc-skyblue "},"Files"),!1!==this.props.guest&&this.props.guest?null:r.a.createElement("button",{onClick:l?e=>this.setState({modalUpload:!0}):p,className:"btn btn-icademy-primary float-right",style:{padding:"7px 8px !important",marginLeft:14}},r.a.createElement("i",{className:"fa fa-upload"}),"Upload"),1==g?r.a.createElement("button",{onClick:t?e=>this.setState({modalNewFolder:!0}):p,className:"btn btn-icademy-primary float-right",style:{padding:"7px 8px !important"}},r.a.createElement("i",{className:"fa fa-plus"}),"Folder"):null,r.a.createElement("div",{className:"tag-filter-container"},r.a.createElement("div",{className:"tag-filter ".concat(this.state.filterFolder&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterFolder")},this.state.filterFolder?r.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):r.a.createElement("font",{style:{color:"#F00"}},"\u2715")," Folder"),r.a.createElement("div",{className:"tag-filter ".concat(this.state.filterFiles&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterFiles")},this.state.filterFiles?r.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):r.a.createElement("font",{style:{color:"#F00"}},"\u2715")," File"),r.a.createElement("div",{className:"tag-filter ".concat(this.state.filterMOM&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterMOM")},this.state.filterMOM?r.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):r.a.createElement("font",{style:{color:"#F00"}},"\u2715")," MOM"),r.a.createElement("div",{className:"tag-filter ".concat(this.state.filterRecord&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterRecord")},this.state.filterRecord?r.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):r.a.createElement("font",{style:{color:"#F00"}},"\u2715")," Record")),r.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.searchFile,style:{marginRight:10},className:"form-control float-right col-sm-3"})),r.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},r.a.createElement("td",null,"Files"),[{title:"Created at",width:null,status:!0},{title:"By",width:null,status:!0},{title:"",width:null,status:!0}].map((e,t)=>r.a.createElement("td",{align:"center",width:e.width},e.title)))),0==v.length&&0==this.state.files.length&&0==this.state.mom.length&&0==this.state.recordedMeeting.length&&0==this.state.dataRecordings.length&&this.props.projectId==this.state.folderId?r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",colspan:"9"},"There is no files"))):1==this.state.isLoading?r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",colspan:"9"},"Loading..."))):a?r.a.createElement("tbody",null,0!==this.state.folderId&&this.state.selectFolder&&r.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},r.a.createElement("td",{colspan:"4",className:"fc-muted f-14 f-w-300 p-t-20",style:{cursor:"pointer"},onClick:this.selectFolder.bind(this,this.state.prevFolderId,null)},r.a.createElement("img",{src:"assets/images/component/folder-back.png",width:"32"})," \xa0Back")),v.map(e=>!(1==e.sekretaris&&e.sekretaris==this.state.role.aSekretaris||1==e.moderator&&e.moderator==this.state.role.aModerator||1==e.pembicara&&e.pembicara==this.state.role.aPembicara||1==e.owner&&e.owner==this.state.role.aOwner||1==e.peserta&&e.peserta==this.state.role.aPeserta)||"all"!==this.state.filterFile&&"folder"!==this.state.filterFile&&!0!==this.state.filterFolder?null:r.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",style:{cursor:"pointer"},onClick:this.selectFolder.bind(this,e.id,e.name)},r.a.createElement("img",{src:"assets/images/component/folder.png",width:"32"})," \xa0",e.name),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},b.a.tz(e.created_at,b.a.tz.guess(!0)).format("DD-MM-YYYY")),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},g?r.a.createElement("span",{class:"btn-group dropleft col-sm-1"},r.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.openModalEdit.bind(this,e.id)},"Edit"),t&&r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.dialogDelete.bind(this,e.id,e.name)}," Delete "))):null))),("all"===this.state.filterFile||"files"===this.state.filterFile||!0===this.state.filterFiles)&&y.map(e=>r.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",style:{cursor:"pointer"},onClick:this.selectFileShow.bind(this,e.type,e.location)},r.a.createElement("img",{src:"png"==e.type||"pdf"==e.type||"doc"==e.type||"docx"==e.type||"ppt"==e.type||"pptx"==e.type||"rar"==e.type||"zip"==e.type||"jpg"==e.type||"csv"==e.type?"assets/images/files/".concat(e.type,".svg"):"assets/images/files/file.svg",width:"32"})," \xa0",e.name),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},b.a.tz(e.created_at,b.a.tz.guess(!0)).format("DD-MM-YYYY")),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},r.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},r.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>{this.filesLogs(e),window.open(e.location,"Downloading files")}},"Download"),g?r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.rename.bind(this,e.id,e.name,"file")}," Rename "):null,g?r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.dialogDeleteFile.bind(this,e.id,e.name)}," Delete "):null))))),("all"===this.state.filterFile||"mom"===this.state.filterFile||!0===this.state.filterMOM)&&N.map(e=>r.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},r.a.createElement("img",{src:"assets/images/files/pdf.svg",width:"32"})," \xa0MOM : ",e.title),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},b.a.tz(e.time,b.a.tz.guess(!0)).format("DD-MM-YYYY")),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},r.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},r.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},g?r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.rename.bind(this,e.id,e.title,"mom")}," Rename "):null,r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>window.open("".concat(n.c,"mom/?id=").concat(e.id),"Downloading files")},"Print PDF")))))),!1===this.state.selectFolder&&("all"===this.state.filterFile||"recorded"===this.state.filterFile||!0===this.state.filterRecord)&&k.map(e=>e.record&&e.record.split(",").map(e=>r.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},r.a.createElement("img",{src:"assets/images/files/mp4.svg",width:"32"})," \xa0Rekaman : ",e.substring(40).replace(/%2520/g," ")),r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"}),r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"}),r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},r.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},r.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>window.open(e,"Rekaman Meeting")},"Open"))))))),!1===this.state.selectFolder&&("all"===this.state.filterFile||"recorded"===this.state.filterFile||!0===this.state.filterRecord)&&w.map(e=>r.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},r.a.createElement("img",{src:"assets/images/files/mp4.svg",width:"32"})," \xa0Record : ",e.name," ",r.a.createElement("i",{style:{color:"#da9700",fontSize:"12px"}},"published"!==e.state?"Processing":"")),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},b()(e.date).local().format("DD-MM-YYYY HH:mm")),r.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),r.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},r.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},r.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},g?r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.rename.bind(this,e.id,e.name,"record")}," Rename "):null,r.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>window.open(e.link,"Rekaman Meeting")},"Open"))))))):r.a.createElement("span",null,"access denied"))),r.a.createElement(s.a,{show:this.state.modalDeleteFile,onHide:this.closeModalDeleteFile,centered:!0},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),r.a.createElement(s.a.Body,null,r.a.createElement("div",null,e("are_you_sure_you_want_to_delete_file")," ",r.a.createElement("b",null,this.state.deleteFileName)," ?")),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalDeleteFile.bind(this)},e("cancel")),r.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-red",onClick:this.deleteFile.bind(this)},r.a.createElement("i",{className:"fa fa-trash"}),e("delete")))),r.a.createElement(s.a,{show:this.state.modalDelete,onHide:this.closeModalDelete,centered:!0},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),r.a.createElement(s.a.Body,null,r.a.createElement("div",null,e("are_you_sure_you_want_to_delete_project")," ",r.a.createElement("b",null,this.state.deleteProjectName)," ?")),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalDelete.bind(this)},"Cancel"),r.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-red",onClick:this.deleteProject.bind(this)},r.a.createElement("i",{className:"fa fa-trash"}),"Delete"))),r.a.createElement(s.a,{show:this.state.modalNewFolder,onHide:this.closeModalAdd,centered:!0},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Add Folder")),r.a.createElement(s.a.Body,null,r.a.createElement(i.a,{className:"cardku"},r.a.createElement(i.a.Body,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("input",{type:"text",name:"folderName",value:this.state.folderName,className:"form-control",placeholder:"Folder Name",onChange:this.onChangeInput,required:!0})))),"pendidikan"!==d.a.get("user").data.company_type&&0!=this.state.folderId?r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement("p",null,"Hak akses role pada webinar"))),r.a.createElement(c.a,null,r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aSekretaris,checked:this.state.aSekretaris,onChange:this.handleCheck.bind(this,"sekretaris")}),r.a.createElement("label",null,"\xa0 Secretary")),r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aModerator,checked:this.state.aModerator,onChange:this.handleCheck.bind(this,"moderator")}),r.a.createElement("label",null,"\xa0 Moderator")),r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aPembicara,checked:this.state.aPembicara,onChange:this.handleCheck.bind(this,"pembicara")}),r.a.createElement("label",null,"\xa0 Speaker"))),r.a.createElement(c.a,null,r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aOwner,checked:this.state.aOwner,onChange:this.handleCheck.bind(this,"owner")}),r.a.createElement("label",null,"\xa0 Owner")),r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aPeserta,checked:this.state.aPeserta,onChange:this.handleCheck.bind(this,"peserta")}),r.a.createElement("label",null,"\xa0 Participant"))),r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(m.a.Group,{controlId:"formJudul"},r.a.createElement(m.a.Label,{className:"f-w-bold"},"Limit Users"),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(E.a,{checked:!1,onChange:this.toggleSwitch.bind(this),checked:this.state.limited})),r.a.createElement(m.a.Text,{className:"text-muted"},this.state.limited?"Only people registered as participants can access the folder.":"Folders are open. All users can access.")))),this.state.limited&&r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(h.MultiSelect,{id:"user",options:this.state.optionsUser,value:this.state.valueUser,onChange:e=>this.setState({valueUser:e}),mode:"tags",required:!0,enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih User",hasSelectAll:!0,selectAllLabel:"Select All"})))):null),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalAdd.bind(this)},"Cancel"),r.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.saveFolder.bind(this)},r.a.createElement("i",{className:"fa fa-save"}),"Save"))))),r.a.createElement(s.a,{show:this.state.modalEditFolder,onHide:this.closeModalEdit,centered:!0},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Edit Folder")),r.a.createElement(s.a.Body,null,r.a.createElement(i.a,{className:"cardku"},r.a.createElement(i.a.Body,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("input",{type:"text",name:"editProjectName",value:this.state.editProjectName,className:"form-control",placeholder:"Folder Name",onChange:this.onChangeInput,required:!0})))),0!=this.state.folderId?r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement("p",null,"Hak akses role pada webinar"))),r.a.createElement(c.a,null,r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aSekretaris,checked:this.state.aSekretaris,onChange:this.handleCheck.bind(this,"sekretaris")}),r.a.createElement("label",null,"\xa0 Secretary")),r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aModerator,checked:this.state.aModerator,onChange:this.handleCheck.bind(this,"moderator")}),r.a.createElement("label",null,"\xa0 Moderator")),r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aPembicara,checked:this.state.aPembicara,onChange:this.handleCheck.bind(this,"pembicara")}),r.a.createElement("label",null,"\xa0 Speaker"))),r.a.createElement(c.a,null,r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aOwner,checked:this.state.aOwner,onChange:this.handleCheck.bind(this,"owner")}),r.a.createElement("label",null,"\xa0 Owner")),r.a.createElement(o.a,{xs:"auto"},r.a.createElement("input",{type:"checkbox",value:this.state.aPeserta,checked:this.state.aPeserta,onChange:this.handleCheck.bind(this,"peserta")}),r.a.createElement("label",null,"\xa0 Participant"))),r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(m.a.Group,{controlId:"formJudul"},r.a.createElement(m.a.Label,{className:"f-w-bold"},"Limit Users"),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(E.a,{checked:!1,onChange:this.toggleSwitch.bind(this),checked:this.state.limited})),r.a.createElement(m.a.Text,{className:"text-muted"},this.state.limited?"Only people registered as participants can access the folder.":"Folders are open. All users can access.")))),this.state.limited&&r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(h.MultiSelect,{id:"user",options:this.state.optionsUser,value:this.state.valueUser,onChange:e=>this.setState({valueUser:e}),mode:"tags",required:!0,enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih User",hasSelectAll:!0,selectAllLabel:"Select All"})))):null),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalEdit.bind(this)},"Cancel"),r.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.editFolder.bind(this)},r.a.createElement("i",{className:"fa fa-save"}),"Save"))))),r.a.createElement(s.a,{show:this.state.modalRename,onHide:this.closeModalRename,centered:!0},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Rename File")),r.a.createElement(s.a.Body,null,r.a.createElement(i.a,{className:"cardku"},r.a.createElement(i.a.Body,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("input",{type:"text",name:"renameFileNameNew",value:this.state.renameFileNameNew,className:"form-control",placeholder:"Nama File",onChange:this.onChangeInput,required:!0}))))),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalRename.bind(this)},"Cancel"),r.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.renameFile.bind(this)},r.a.createElement("i",{className:"fa fa-save"}),"Save"))))),r.a.createElement(s.a,{show:this.state.modalUpload,onHide:this.closeModalUpload,centered:!0},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Upload File")),r.a.createElement(s.a.Body,null,r.a.createElement(i.a,{className:"cardku"},r.a.createElement(i.a.Body,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{float:"left",clear:"both"}},"Attachment"),r.a.createElement("label",{for:"attachmentId",style:{cursor:"pointer",overflow:"hidden",float:"left",clear:"both"}},r.a.createElement("div",{className:"button-bordered-grey"},this.state.attachmentId.length?"".concat(this.state.attachmentId.length," ").concat(1===this.state.attachmentId.length?"file":"files"," selected"):"Choose"),r.a.createElement("input",{accept:"all",id:"attachmentId",name:"attachmentId",onChange:this.onChangeInput,type:"file",multiple:!0,placeholder:"media chapter",className:"form-control file-upload-icademy",onClick:e=>e.target.value=null,style:{display:"none"}})),r.a.createElement(m.a.Text,{style:{float:"left",clear:"both"}},"Support multiple files (make sure all the files does not exceed 500MB)"))))))),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalUpload.bind(this)},"Cancel"),r.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.uploadFile.bind(this)},r.a.createElement("i",{className:"fa fa-save"}),this.state.uploading?"Uploading...":"Upload"))))}}const S=Object(y.a)("common")(e=>r.a.createElement(g.a.Consumer,null,t=>r.a.createElement(w,Object.assign({},e,{socket:t}))));t.a=S},516:function(e,t,a){"use strict";var l=a(62),r=a.n(l),n=a(255),s=a.n(n),i=a(327),c=a.n(i),o=a(0),m=a.n(o),d=a(182);function u(){if(console&&console.warn){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];"string"===typeof a[0]&&(a[0]="react-i18next:: ".concat(a[0])),(e=console).warn.apply(e,a)}}var h={};function p(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"string"===typeof t[0]&&h[t[0]]||("string"===typeof t[0]&&(h[t[0]]=new Date),u.apply(void 0,t))}function E(e,t,a){e.loadNamespaces(t,(function(){if(e.isInitialized)a();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),a()}))}}))}function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return p("i18n.languages were undefined or empty",t.languages),!0;var l=t.languages[0],r=!!t.options&&t.options.fallbackLng,n=t.languages[t.languages.length-1];if("cimode"===l.toLowerCase())return!0;var s=function(e,a){var l=t.services.backendConnector.state["".concat(e,"|").concat(a)];return-1===l||2===l};return!(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(l,e)||(!t.services.backendConnector.backend||!(!s(l,e)||r&&!s(n,e))))}function f(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.i18n,l=Object(o.useContext)(d.a)||{},r=l.i18n,n=l.defaultNS,i=a||r||Object(d.d)();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new d.b),!i){p("You will need to pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},m=[c,{},!1];return m.t=c,m.i18n={},m.ready=!1,m}i.options.react&&void 0!==i.options.react.wait&&p("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=v(v(v({},Object(d.c)()),i.options.react),t),h=u.useSuspense,f=e||n||i.options&&i.options.defaultNS;f="string"===typeof f?[f]:f||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(f);var b=(i.isInitialized||i.initializedStoreOnce)&&f.every((function(e){return g(e,i,u)}));function N(){return i.getFixedT(null,"fallback"===u.nsMode?f:f[0])}var y=Object(o.useState)(N),k=s()(y,2),w=k[0],S=k[1],j=Object(o.useRef)(!0);Object(o.useEffect)((function(){var e=u.bindI18n,t=u.bindI18nStore;function a(){j.current&&S(N)}return j.current=!0,b||h||E(i,f,(function(){j.current&&S(N)})),e&&i&&i.on(e,a),t&&i&&i.store.on(t,a),function(){j.current=!1,e&&i&&e.split(" ").forEach((function(e){return i.off(e,a)})),t&&i&&t.split(" ").forEach((function(e){return i.store.off(e,a)}))}}),[i,f.join()]);var x=Object(o.useRef)(!0);Object(o.useEffect)((function(){j.current&&!x.current&&S(N),x.current=!1}),[i]);var C=[w,i,b];if(C.t=w,C.i18n=i,C.ready=b,b)return C;if(!b&&!h)return C;throw new Promise((function(e){E(i,f,(function(){e()}))}))}a.d(t,"a",(function(){return S}));var y=["forwardedRef"];function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){function l(l){var r=l.forwardedRef,n=c()(l,y),i=N(e,n),o=s()(i,3),d=o[0],u=o[1],h=o[2],p=w(w({},n),{},{t:d,i18n:u,tReady:h});return t.withRef&&r?p.ref=r:!t.withRef&&r&&(p.forwardedRef=r),m.a.createElement(a,p)}l.displayName="withI18nextTranslation(".concat(f(a),")"),l.WrappedComponent=a;return t.withRef?m.a.forwardRef((function(e,t){return m.a.createElement(l,Object.assign({},e,{forwardedRef:t}))})):l}}},730:function(e,t,a){"use strict";var l=a(0),r=a.n(l).a.createContext(null);t.a=r},758:function(e,t,a){"use strict";var l=a(0),r=a.n(l).a.createContext(null);r.displayName="NavContext",t.a=r},759:function(e,t,a){"use strict";var l=a(0),r=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.a=function(e,t){return Object(l.useMemo)((function(){return function(e,t){var a=r(e),l=r(t);return function(e){a&&a(e),l&&l(e)}}(e,t)}),[e,t])}},921:function(e,t,a){"use strict";var l=a(1),r=a(4),n=a(15),s=a.n(n),i=a(0),c=a.n(i),o=a(73),m=(a(213),a(758)),d=a(461),u=c.a.forwardRef((function(e,t){var a=e.active,n=e.className,u=e.eventKey,h=e.onSelect,p=e.onClick,E=e.as,g=Object(r.a)(e,["active","className","eventKey","onSelect","onClick","as"]),f=Object(d.b)(u,g.href),b=Object(i.useContext)(d.a),v=Object(i.useContext)(m.a),N=a;if(v){g.role||"tablist"!==v.role||(g.role="tab");var y=v.getControllerId(f),k=v.getControlledId(f);g["data-rb-event-key"]=f,g.id=y||g.id,g["aria-controls"]=k||g["aria-controls"],N=null==a&&null!=f?v.activeKey===f:a}"tab"===g.role&&(g.disabled&&(g.tabIndex=-1,g["aria-disabled"]=!0),g["aria-selected"]=N);var w=Object(o.a)((function(e){p&&p(e),null!=f&&(h&&h(f,e),b&&b(f,e))}));return c.a.createElement(E,Object(l.a)({},g,{ref:t,onClick:w,className:s()(n,N&&"active")}))}));u.defaultProps={disabled:!1},t.a=u}}]);
//# sourceMappingURL=63.e1883b86.chunk.js.map