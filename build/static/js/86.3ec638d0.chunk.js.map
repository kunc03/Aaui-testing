{"version":3,"sources":["components/admin/filemanager/file.js"],"names":["socket","io","API_SOCKET","on","apiOptions","connectorNodeV1","apiRoot","API_SERVER","FilePicker","state","user","Storage","get","data","email","files","onClickSendFile","e","preventDefault","emit","from","room","message","this","fetchSocket","setState","className","style","height","onClick","map","item","i","id","api","capabilities","actions","icon","svg","label","shouldBeAvailable","availableInContexts","handler","alert","listViewLayout","viewLayoutOptions","onResourceItemRightClick","event","number","rowData","console","log","name","React","Component"],"mappings":"sfAQA,IAAMA,E,MAASC,GAAG,GAAD,OAAIC,MACrBF,EAAOG,GAAG,WAAW,eAIrB,IAAMC,E,yWAAU,IACXC,IAAgBD,WADL,CAEdE,QAASC,MAGUC,E,2MAEnBC,MAAQ,CACNC,KAAMC,IAAQC,IAAI,QAAQC,KAAKC,MAC/BC,MAAO,I,EAaTC,gBAAkB,SAAAC,GAChBA,EAAEC,iBACFlB,EAAOmB,KAAK,OAAQ,CAClBC,KAAM,EAAKX,MAAMC,KACjBW,KAAM,GACNC,QAAS,c,mFAdXC,KAAKC,gB,oCAGQ,IAAD,OACZxB,EAAOG,GAAG,aAAa,SAAAU,GACrB,EAAKY,SAAS,CAAEV,MAAM,GAAD,mBAAM,EAAKN,MAAMM,OAAjB,CAAwBF,W,+BAe/C,OACE,yBAAKa,UAAU,yBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,yBAAKC,MAAO,CAAEC,OAAQ,UACpB,4BAAQC,QAASN,KAAKP,gBAAiBU,UAAU,wBAAjD,aACA,4BAEEH,KAAKd,MAAMM,MAAMe,KAAI,SAACC,EAAMC,GAAP,OACnB,4BAAI,2BAAID,EAAKX,MAAS,6BAAMW,EAAKT,aAKrC,kBAAC,cAAD,KACE,kBAAC,gBAAD,CACEW,GAAG,gBACHC,IAAK7B,IAAgB6B,IACrB9B,WAAYA,EAEZ+B,aAAc,SAAC/B,EAAYgC,GAAb,4BACT/B,IAAgB8B,aACjB/B,EACAgC,IAHU,CAKZ,CACEH,GAAI,gBACJI,KAAM,CACJC,IAAK,2FAEPC,MAAO,gBACPC,kBAAmB,kBAAM,GACzBC,oBAAqB,CAAC,WACtBC,QAAS,SAACzB,GACR0B,MAAM,qBAIZC,eAAgBvC,IAAgBuC,eAChCC,kBACExC,IAAgBwC,kBAElBC,yBAA0B,gBACxBC,EADwB,EACxBA,MACAC,EAFwB,EAExBA,OACAC,EAHwB,EAGxBA,QAHwB,OAKxBC,QAAQC,IACN,2BACAJ,EACAC,EACAC,EAAQG,uB,GApFAC,IAAMC","file":"static/js/86.3ec638d0.chunk.js","sourcesContent":["import React from \"react\";\nimport { FileManager, FileNavigator } from \"@opuscapita/react-filemanager\";\nimport connectorNodeV1 from \"@opuscapita/react-filemanager-connector-node-v1\";\n\nimport { API_SERVER, API_SOCKET } from \"../../../repository/api\";\nimport Storage from '../../../repository/storage';\n\nimport io from 'socket.io-client';\nconst socket = io(`${API_SOCKET}`);\nsocket.on(\"connect\", () => {\n // console.log(\"connect\");\n});\n\nconst apiOptions = {\n  ...connectorNodeV1.apiOptions,\n  apiRoot: API_SERVER // Or you local Server Node V1 installation.\n};\n\nexport default class FilePicker extends React.Component {\n\n  state = {\n    user: Storage.get('user').data.email,\n    files: []\n  }\n\n  componentDidMount() {\n    this.fetchSocket();\n  }\n\n  fetchSocket() {\n    socket.on(\"broadcast\", data => {\n      this.setState({ files: [...this.state.files, data] })\n    });\n  }\n\n  onClickSendFile = e => {\n    e.preventDefault();\n    socket.emit('send', {\n      from: this.state.user,\n      room: 35,\n      message: 'file.txt'\n    })\n  }\n\n  render() {\n\n    return (\n      <div className=\"pcoded-main-container\">\n        <div className=\"pcoded-wrapper\">\n          <div className=\"pcoded-content\">\n            <div className=\"pcoded-inner-content\">\n              <div className=\"main-body\">\n                <div className=\"page-wrapper\">\n                  <div className=\"row\">\n                    <div className=\"col-xl-12\">\n                      <div style={{ height: \"600px\" }}>\n                        <button onClick={this.onClickSendFile} className=\"btn btn-sm btn-ideku\">Send File</button>\n                        <ul>\n                        {\n                          this.state.files.map((item, i) => (\n                            <li><b>{item.from}</b><br/>{item.message}</li>\n                          ))\n                        }\n                        </ul>\n                        \n                        <FileManager>\n                          <FileNavigator\n                            id=\"filemanager-1\"\n                            api={connectorNodeV1.api}\n                            apiOptions={apiOptions}\n                            // capabilities={connectorNodeV1.capabilities}\n                            capabilities={(apiOptions, actions) => [\n                              ...connectorNodeV1.capabilities(\n                                apiOptions,\n                                actions\n                              ),\n                              {\n                                id: \"custom-button\",\n                                icon: {\n                                  svg: '<svg viewBox=\"0 0 120 120\" version=\"1.1\"><circle cx=\"60\" cy=\"60\" r=\"50\"></circle></svg>'\n                                },\n                                label: \"Custom Button\",\n                                shouldBeAvailable: () => true,\n                                availableInContexts: [\"toolbar\"],\n                                handler: (e) => {\n                                  alert('Custom Click')\n                                }\n                              }\n                            ]}\n                            listViewLayout={connectorNodeV1.listViewLayout}\n                            viewLayoutOptions={\n                              connectorNodeV1.viewLayoutOptions\n                            }\n                            onResourceItemRightClick={({\n                              event,\n                              number,\n                              rowData\n                            }) => \n                              console.log(\n                                \"onResourceItemRightClick\",\n                                event,\n                                number,\n                                rowData.name\n                              )\n                            }\n                          />\n                        </FileManager>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}