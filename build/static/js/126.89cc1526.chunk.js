(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[126],{1053:function(e,t,a){"use strict";a.r(t);var l=a(0),s=a.n(l),c=a(3),n=a(2),r=a(18);class i extends s.a.Component{constructor(){super(...arguments),this.state={projectAdmin:"admin"===n.a.get("user").data.level,projectId:0,meeting:[],training:[],ghantt:[]},this.changeStatusWebsite=e=>{let t=e.target.getAttribute("data-id"),a=e.target.value;c.l.put("".concat(c.a,"v2/notification-alert/").concat(t,"/website"),{status_website:"1"===a?0:1}).then(e=>{200===e.status&&this.fetchAccess()})},this.changeStatusMobile=e=>{let t=e.target.getAttribute("data-id"),a=e.target.value;c.l.put("".concat(c.a,"v2/notification-alert/").concat(t,"/mobile"),{status_mobile:"1"===a?0:1}).then(e=>{200===e.status&&this.fetchAccess()})}}componentDidMount(){c.l.get("".concat(c.a,"v1/project/").concat(n.a.get("user").data.level,"/").concat(n.a.get("user").data.user_id,"/").concat(localStorage.getItem("companyID")?localStorage.getItem("companyID"):n.a.get("user").data.company_id)).then(e=>{e.data.result.length?this.setState({projectId:e.data.result[0].id}):r.b.warning("Buat project terlebih dahulu.")}),this.fetchAccess()}fetchAccess(){c.l.get("".concat(c.a,"v2/notification-alert/").concat(localStorage.getItem("companyID")?localStorage.getItem("companyID"):n.a.get("user").data.company_id,"/admin")).then(e=>{if(200===e.status){const t=e.data.result.filter(e=>"meeting"===e.sub),a=e.data.result.filter(e=>"training"===e.sub),l=e.data.result.filter(e=>"gantt"===e.sub);this.setState({meeting:t,training:a,ghantt:l})}})}render(){const{meeting:e,training:t,ghantt:a}=this.state;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",{className:"f-w-bold f-18 mb-4 fc-blue p-l-20 "},"Notification"),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{class:"row "},s.a.createElement("div",{className:"col-sm-12",style:{marginTop:"10px"}},s.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",{style:{borderBottom:"1px solid #000"}},s.a.createElement("td",{className:"f-w-bold f-14",style:{width:"45%"}},"Meeting"),s.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Mobile"),s.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Website"))),0===e.length?s.a.createElement("div",{className:"col-sm-12 mb-1"},"Not available"):e.map((e,t)=>s.a.createElement("tbody",null,s.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},s.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},e.name),s.a.createElement("td",{align:"center"},s.a.createElement("label",{class:"switch"},s.a.createElement("input",{type:"checkbox",onChange:this.changeStatusMobile,"data-id":e.id_access,value:e.status,checked:e.status}),s.a.createElement("span",{class:"slider round"}))),s.a.createElement("td",{align:"center"},s.a.createElement("label",{class:"switch"},s.a.createElement("input",{type:"checkbox",onChange:this.changeStatusWebsite,"data-id":e.id_access,value:e.status_website,checked:e.status_website}),s.a.createElement("span",{class:"slider round"})))))))),s.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",{style:{borderBottom:"1px solid #000"}},s.a.createElement("td",{className:"f-w-bold f-14",style:{width:"45%"}},"Training"),s.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Mobile"),s.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Website"))),0===t.length?s.a.createElement("div",{className:"col-sm-12 mb-1"},"Not available"):t.map((e,t)=>s.a.createElement("tbody",null,s.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},s.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},e.name),s.a.createElement("td",{align:"center"},s.a.createElement("label",{class:"switch"},s.a.createElement("input",{type:"checkbox",onChange:this.changeStatusMobile,"data-id":e.id_access,value:e.status,checked:e.status}),s.a.createElement("span",{class:"slider round"}))),s.a.createElement("td",{align:"center"},s.a.createElement("label",{class:"switch"},s.a.createElement("input",{type:"checkbox",onChange:this.changeStatusWebsite,"data-id":e.id_access,value:e.status,checked:e.status}),s.a.createElement("span",{class:"slider round"})))))))),s.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",{style:{borderBottom:"1px solid #000"}},s.a.createElement("td",{className:"f-w-bold f-14",style:{width:"45%"}},"Project Gantt Chart"," "),s.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Mobile"),s.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Website"))),0===a.length?s.a.createElement("div",{className:"col-sm-12 mb-1"},"Not available"):a.map((e,t)=>s.a.createElement("tbody",null,s.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},s.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},e.name),s.a.createElement("td",{align:"center"},s.a.createElement("label",{class:"switch"},s.a.createElement("input",{type:"checkbox",onChange:this.changeStatusMobile,"data-id":e.id_access,value:e.status,checked:e.status}),s.a.createElement("span",{class:"slider round"}))),s.a.createElement("td",{align:"center"},s.a.createElement("label",{class:"switch"},s.a.createElement("input",{type:"checkbox",onChange:this.changeStatusWebsite,"data-id":e.id_access,value:e.status,checked:e.status}),s.a.createElement("span",{class:"slider round"}))))))))))))))}}t.default=i}}]);
//# sourceMappingURL=126.89cc1526.chunk.js.map