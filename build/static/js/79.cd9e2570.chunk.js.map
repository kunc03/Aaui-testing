{"version":3,"sources":["components/news/form.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/index.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js"],"names":["FormNews","Component","constructor","props","super","closeModalDelete","e","this","setState","modalDelete","deleteId","save","isSaving","preventDefault","state","title","length","content","id","form","API","put","API_SERVER","then","res","data","error","toast","image","formData","FormData","append","res2","warning","edited","success","history","push","company_id","companyId","created_by","userId","post","result","insertId","handleContent","handleChange","name","value","target","files","size","imagePreview","URL","createObjectURL","match","params","disabledForm","goBack","bind","getData","get","getUserData","USER_ME","Storage","email","status","localStorage","getItem","user_id","componentDidMount","clearSessionForm","render","session","media","className","src","alt","width","onClick","style","color","goEdit","padding","marginRight","fontSize","for","cursor","borderRadius","overflow","height","type","accept","onChange","disabled","placeholder","display","apiKey","initialValue","init","convert_urls","image_class_list","file_browser_callback_types","file_picker_callback","callback","meta","filetype","input","document","getElementById","click","onchange","dataForm","window","$","ajax","url","processData","contentType","plugins","toolbar","onEditorChange","justifyContent","__assign","Object","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onClearUndos","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid","EditorPropTypes","inline","outputFormat","tagName","cloudChannel","textareaName","tinymceScriptSrc","scriptLoading","async","defer","delay","isFunction","x","isEventProp","eventAttrToEventName","attrName","substr","configHandlers","editor","prevProps","boundHandlers","lookup","handlerLookup","on","off","adapter","prevEventKeys","keys","filter","currEventKeys","removedKeys","key","undefined","addedKeys","forEach","eventName","wrappedHandler","configHandlers2","_a","unique","uuid","prefix","time","Date","now","Math","floor","random","String","isTextareaOrInput","element","toLowerCase","normalizePluginArray","Array","isArray","split","createState","listeners","scriptId","scriptLoaded","ScriptLoader","load","doc","scriptTagInjection","scriptTag","createElement","referrerPolicy","handler","removeEventListener","addEventListener","head","appendChild","injectScriptTag","fn","setTimeout","reinitialize","CreateScriptLoader","__extends","extendStatics","d","b","setPrototypeOf","__proto__","TypeError","__","create","_super","Editor","_b","_c","_this","handleEditorChange","_evt","initialized","newContent","getContent","format","currentContent","initialise","elementRef","current","tinymce","Error","initPlugins","inputPlugins","finalInit","selector","readonly","concat","setup","bindHandlers","once","setContent","getInitialValue","no_events","visibility","componentDidUpdate","localEditor_1","undoManager","transact","setMode","_d","_e","_f","ownerDocument","getScriptSrc","componentWillUnmount","remove","renderInline","renderIframe","ref","channel","isValueControlled","wasControlled","nowControlled","propTypes","defaultProps","getGlobal","global","getTinymce"],"mappings":"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","file":"static/js/79.cd9e2570.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport API, { API_SERVER, USER_ME } from '../../repository/api';\nimport Storage from '../../repository/storage';\nimport { Editor } from '@tinymce/tinymce-react';\n\nclass FormNews extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        edited: false,\n        id: this.props.match.params.id ? this.props.match.params.id : '',\n        companyId:'',\n        image:'',\n        imagePreview:'assets/images/no-image.png',\n        isSaving: false,\n        userId: '',\n        content:'Loading...',\n        title: '',\n        modalDelete: false,\n        disabledForm: this.props.disabledForm && this.props.id,\n    };\n    this.goBack = this.goBack.bind(this);\n  }\n  \n  goBack() {\n    if (this.props.goBack){\n        this.props.goBack();\n    }\n    else{\n        this.props.history.push('/news');\n    }\n  }\n\n  closeModalDelete = e => {\n    this.setState({ modalDelete: false, deleteId: '' })\n  }\n\n  save = (e) =>{\n    this.setState({isSaving: true})\n    e.preventDefault();\n    if (!this.state.title.length || !this.state.content.length){\n        toast.warning('Some field is required, please check your data.')\n        this.setState({isSaving: false})\n    }\n    else{\n        if (this.state.id){\n            let form = {\n                title: this.state.title,\n                content: this.state.content\n            }\n            API.put(`${API_SERVER}v2/news/${this.state.id}`, form).then(res => {\n                if (res.data.error){\n                    toast.error('Error edit news')\n                    this.setState({isSaving: false})\n                }\n                else{\n                    if (this.state.image){\n                        let formData = new FormData();\n                        formData.append(\"image\", this.state.image)\n                        API.put(`${API_SERVER}v2/news/image/${this.state.id}`, formData).then(res2 => {\n                            if (res2.data.error){\n                                toast.warning('News edited but fail to upload image')\n                                this.setState({edited: false, isSaving: false})\n                            }\n                            else{\n                                toast.success('News edited')\n                                this.setState({edited: false, isSaving: false})\n                                this.props.history.push(`/news`)\n                            }\n                        })\n                    }\n                    else{\n                        toast.success('News edited')\n                        this.setState({edited: false, isSaving: false})\n                        this.props.history.push(`/news`)\n                    }\n                }\n            })\n        }\n        else{\n            let form = {\n                company_id: this.state.companyId,\n                title: this.state.title,\n                content: this.state.content,\n                created_by: this.state.userId\n            }\n            API.post(`${API_SERVER}v2/news`, form).then(res => {\n                if (res.data.error){\n                    toast.error('Error saving news')\n                    this.setState({isSaving: false})\n                }\n                else{\n                    if (this.state.image){\n                        let formData = new FormData();\n                        formData.append(\"image\", this.state.image)\n                        API.put(`${API_SERVER}v2/news/image/${res.data.result.insertId}`, formData).then(res2 => {\n                            if (res2.data.error){\n                                toast.warning('News saved but fail to upload image')\n                                this.setState({edited: false, isSaving: false})\n                            }\n                            else{\n                                toast.success('News saved')\n                                this.setState({edited: false, isSaving: false})\n                                this.props.history.push(`/news`)\n                            }\n                        })\n                    }\n                    else{\n                        toast.success('News saved')\n                        this.setState({edited: false, isSaving: false})\n                        this.props.history.push(`/news`)\n                    }\n                }\n            })\n        }\n    }\n}\n\nhandleContent = (e) => {\n    this.setState({ content: e, edited:true });\n}\n  handleChange = e => {\n    this.setState({edited: true})\n      let {name, value} = e.target;\n      if (name==='image'){\n        if (e.target.files.length){\n            if (e.target.files[0].size <= 5000000) {\n                let image = {\n                    image: e.target.files[0],\n                    imagePreview: URL.createObjectURL(e.target.files[0])\n                }\n                this.setState(image)\n            } else {\n              e.target.value = null;\n              toast.warning('Image size cannot larger than 5MB and must be an image file')\n            }\n        }\n      }\n      else{\n          this.setState({[name]: value})\n      }\n  }\n  getData(id){\n    API.get(`${API_SERVER}v2/news/read/${id}`).then(res => {\n        if (res.data.error){\n            toast.error('Error read news')\n        }\n        else{\n            this.setState({\n                id: res.data.result.id,\n                content: res.data.result.content,\n                title: res.data.result.title,\n                imagePreview: res.data.result.image ? res.data.result.image : this.state.imagePreview,\n            })\n        }\n    })\n  }\n  getUserData(){\n    API.get(`${USER_ME}${Storage.get('user').data.email}`).then(res => {\n        if (res.status === 200) {\n          this.setState({ companyId: localStorage.getItem('companyID') ? localStorage.getItem('companyID') : res.data.result.company_id, userId: res.data.result.user_id });\n        }\n    })\n  }\n  componentDidMount(){\n    this.getUserData();\n    if (this.props.disabledForm && this.props.id){\n        this.getData(this.props.id);\n    }\n    else if (this.props.match.params.id){\n        this.getData(this.props.match.params.id);\n    }\n    else{\n        this.setState({\n            content : ''\n        })\n    }\n  }\n\n  clearSessionForm(){\n    this.setState({\n        edited: false,\n        content : ''\n      })\n  }\n\n  render() {\n    let {session, media} = this.state;\n    return(\n        <div className=\"pcoded-main-container\">\n            <div className=\"pcoded-wrapper\">\n                <div className=\"pcoded-content\">\n                    <div className=\"pcoded-inner-content\">\n                        <div className=\"main-body\">\n                            <div className=\"page-wrapper\">\n                                <div className=\"floating-back\">\n                                    <img\n                                    src={`newasset/back-button.svg`}\n                                    alt=\"\"\n                                    width={90}\n                                    onClick={this.goBack}\n                                    ></img>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-xl-12\">\n                                        <div>\n                                            <div className=\"card p-20\">\n                                                <div className=\"row\">\n                                                    <div className=\"col-sm-10 m-b-20\">\n                                                        <strong className=\"f-w-bold f-18\" style={{color:'#000'}}>{this.props.id ? 'Detail' : this.props.match.params.id ? 'Edit' : 'Create'} News</strong>\n                                                    </div>\n                                                    <div className=\"col-sm-2 m-b-20\">\n                                                        {\n                                                        this.props.disabledForm &&\n                                                        <button\n                                                        onClick={this.props.goEdit}\n                                                        className=\"btn btn-icademy-primary float-right\"\n                                                        style={{ padding: \"7px 8px !important\", marginRight: 30 }}>\n                                                            <i className=\"fa fa-edit\"></i>\n                                                            Edit\n                                                        </button>\n                                                        }\n                                                    </div>\n                                                </div>\n                                                <div className=\"form-section no-border\">\n                                                    <div className=\"row\">\n                                                        <div className=\"col-sm-12 m-b-20\">\n                                                            <strong className=\"f-w-bold\" style={{color:'#000', fontSize:'15px'}}>News / Announcements</strong>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"row\">\n                                                        <div className=\"form-field-top-label\">\n                                                            <label for=\"image\">Thumbnail</label>\n                                                            <label for=\"image\" style={{cursor:'pointer', borderRadius:'10px', overflow:'hidden'}}>\n                                                                <img src={this.state.imagePreview} height=\"54.8px\" />\n                                                            </label>\n                                                            <input type=\"file\" accept=\"image/*\" name=\"image\" id=\"image\" onChange={this.handleChange} disabled={this.state.disabledForm}/>\n                                                        </div>\n                                                        <div className=\"form-field-top-label\">\n                                                            <label for=\"title\">Title<required>*</required></label>\n                                                            <input type=\"text\" name=\"title\" size=\"50\" id=\"name\" placeholder=\"XXXXX XXXXX XXXXX\" value={this.state.title} onChange={this.handleChange} disabled={this.state.disabledForm}/>\n                                                        </div>\n                                                        <div className=\"form-field-top-label\" style={{width:'80%'}}>\n                                                                    <label for=\"content\">Content<required>*</required></label>\n                                                                    <input id={`myFile`} type=\"file\" name={`myFile`} style={{display:\"none\"}} onChange=\"\" />\n                                                                    {\n                                                                        this.state.content !== 'Loading...' ?\n                                                                        <Editor\n                                                                            name=\"content\"\n                                                                            apiKey=\"j18ccoizrbdzpcunfqk7dugx72d7u9kfwls7xlpxg7m21mb5\"\n                                                                            initialValue={this.state.content}\n                                                                            value={this.state.content}\n                                                                            init={{\n                                                                            height: 400,\n                                                                            // menubar: false,\n                                                                            convert_urls: false,\n                                                                            image_class_list: [\n                                                                                {title: 'None', value: ''},\n                                                                                {title: 'Responsive', value: 'img-responsive'},\n                                                                                {title: 'Thumbnail', value: 'img-responsive img-thumbnail'}\n                                                                            ],\n                                                                            file_browser_callback_types: 'image',\n                                                                            file_picker_callback: function (callback, value, meta) {\n                                                                                if (meta.filetype == 'image') {\n                                                                                var input = document.getElementById(`myFile`);\n                                                                                input.click();\n                                                                                input.onchange = function () {\n        \n                                                                                    var dataForm = new FormData();\n                                                                                    dataForm.append('file', this.files[0]);\n        \n                                                                                    window.$.ajax({\n                                                                                    url: `${API_SERVER}v2/media/upload`,\n                                                                                    type: 'POST',\n                                                                                    data: dataForm,\n                                                                                    processData: false,\n                                                                                    contentType: false,\n                                                                                    success: (data)=>{\n                                                                                        callback(data.result.url);\n                                                                                        this.value = '';\n                                                                                    }\n                                                                                    })\n        \n                                                                                };\n                                                                                }\n                                                                            },\n                                                                            plugins: [\n                                                                                \"advlist autolink lists link image charmap print preview anchor\",\n                                                                                \"searchreplace visualblocks code fullscreen\",\n                                                                                \"insertdatetime media table paste code help wordcount\",\n                                                                                \"autoresize\"\n                                                                            ],\n                                                                            toolbar:\n                                                                                // eslint-disable-next-line no-multi-str\n                                                                                \"undo redo | bold italic backcolor | \\\n                                                                            alignleft aligncenter alignright alignjustify | image | \\\n                                                                                bullist numlist outdent indent | removeformat | help\"\n                                                                            }}\n                                                                            onEditorChange={e => this.handleContent(e)}\n                                                                        />\n                                                                        :null\n                                                                    }\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className=\"row\" style={{justifyContent:'flex-end'}}>\n                                                    {\n                                                    !this.props.disabledForm &&\n                                                    <button\n                                                    disabled={this.state.isSaving}\n                                                    onClick={this.save}\n                                                    className=\"btn btn-icademy-primary float-right\"\n                                                    style={{ padding: \"7px 8px !important\", marginRight: 30 }}>\n                                                        <i className=\"fa fa-save\"></i>\n                                                        {this.state.isSaving ? 'Saving...' : 'Save'}\n                                                    </button>\n                                                    }\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n  }\n}\n\nexport default FormNews;\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n  onActivate: PropTypes.func,\n  onAddUndo: PropTypes.func,\n  onBeforeAddUndo: PropTypes.func,\n  onBeforeExecCommand: PropTypes.func,\n  onBeforeGetContent: PropTypes.func,\n  onBeforeRenderUI: PropTypes.func,\n  onBeforeSetContent: PropTypes.func,\n  onBeforePaste: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onClearUndos: PropTypes.func,\n  onClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onCopy: PropTypes.func,\n  onCut: PropTypes.func,\n  onDblclick: PropTypes.func,\n  onDeactivate: PropTypes.func,\n  onDirty: PropTypes.func,\n  onDrag: PropTypes.func,\n  onDragDrop: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragGesture: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDrop: PropTypes.func,\n  onExecCommand: PropTypes.func,\n  onFocus: PropTypes.func,\n  onFocusIn: PropTypes.func,\n  onFocusOut: PropTypes.func,\n  onGetContent: PropTypes.func,\n  onHide: PropTypes.func,\n  onInit: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  onLoadContent: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onNodeChange: PropTypes.func,\n  onObjectResizeStart: PropTypes.func,\n  onObjectResized: PropTypes.func,\n  onObjectSelected: PropTypes.func,\n  onPaste: PropTypes.func,\n  onPostProcess: PropTypes.func,\n  onPostRender: PropTypes.func,\n  onPreProcess: PropTypes.func,\n  onProgressState: PropTypes.func,\n  onRedo: PropTypes.func,\n  onRemove: PropTypes.func,\n  onReset: PropTypes.func,\n  onSaveContent: PropTypes.func,\n  onSelectionChange: PropTypes.func,\n  onSetAttrib: PropTypes.func,\n  onSetContent: PropTypes.func,\n  onShow: PropTypes.func,\n  onSubmit: PropTypes.func,\n  onUndo: PropTypes.func,\n  onVisualAid: PropTypes.func\n};\nexport var EditorPropTypes = __assign({\n  apiKey: PropTypes.string,\n  id: PropTypes.string,\n  inline: PropTypes.bool,\n  init: PropTypes.object,\n  initialValue: PropTypes.string,\n  onEditorChange: PropTypes.func,\n  outputFormat: PropTypes.oneOf(['html', 'text']),\n  value: PropTypes.string,\n  tagName: PropTypes.string,\n  cloudChannel: PropTypes.string,\n  plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  disabled: PropTypes.bool,\n  textareaName: PropTypes.string,\n  tinymceScriptSrc: PropTypes.string,\n  scriptLoading: PropTypes.shape({\n    async: PropTypes.bool,\n    defer: PropTypes.bool,\n    delay: PropTypes.number\n  })\n}, eventPropTypes);","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function (x) {\n  return typeof x === 'function';\n};\n\nvar isEventProp = function (name) {\n  return name in eventPropTypes;\n};\n\nvar eventAttrToEventName = function (attrName) {\n  return attrName.substr(2);\n};\n\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n  var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n  var currEventKeys = Object.keys(props).filter(isEventProp);\n  var removedKeys = prevEventKeys.filter(function (key) {\n    return props[key] === undefined;\n  });\n  var addedKeys = currEventKeys.filter(function (key) {\n    return prevProps[key] === undefined;\n  });\n  removedKeys.forEach(function (key) {\n    // remove event handler\n    var eventName = eventAttrToEventName(key);\n    var wrappedHandler = boundHandlers[eventName];\n    off(eventName, wrappedHandler);\n    delete boundHandlers[eventName];\n  });\n  addedKeys.forEach(function (key) {\n    var wrappedHandler = adapter(handlerLookup, key);\n    var eventName = eventAttrToEventName(key);\n    boundHandlers[eventName] = wrappedHandler;\n    on(eventName, wrappedHandler);\n  });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n  return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), function (handlerLookup, key) {\n    return function (e) {\n      var _a;\n\n      return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor);\n    };\n  }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n  var time = Date.now();\n  var random = Math.floor(Math.random() * 1000000000);\n  unique++;\n  return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n  return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\n\nvar normalizePluginArray = function (plugins) {\n  if (typeof plugins === 'undefined' || plugins === '') {\n    return [];\n  }\n\n  return Array.isArray(plugins) ? plugins : plugins.split(' ');\n}; // eslint-disable-next-line max-len\n\n\nexport var mergePlugins = function (initPlugins, inputPlugins) {\n  return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\n};","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\n\nvar createState = function () {\n  return {\n    listeners: [],\n    scriptId: uuid('tiny-script'),\n    scriptLoading: false,\n    scriptLoaded: false\n  };\n};\n\nvar CreateScriptLoader = function () {\n  var state = createState();\n\n  var injectScriptTag = function (scriptId, doc, url, async, defer, callback) {\n    var scriptTag = doc.createElement('script');\n    scriptTag.referrerPolicy = 'origin';\n    scriptTag.type = 'application/javascript';\n    scriptTag.id = scriptId;\n    scriptTag.src = url;\n    scriptTag.async = async;\n    scriptTag.defer = defer;\n\n    var handler = function () {\n      scriptTag.removeEventListener('load', handler);\n      callback();\n    };\n\n    scriptTag.addEventListener('load', handler);\n\n    if (doc.head) {\n      doc.head.appendChild(scriptTag);\n    }\n  };\n\n  var load = function (doc, url, async, defer, delay, callback) {\n    var scriptTagInjection = function () {\n      return injectScriptTag(state.scriptId, doc, url, async, defer, function () {\n        state.listeners.forEach(function (fn) {\n          return fn();\n        });\n        state.scriptLoaded = true;\n      });\n    };\n\n    if (state.scriptLoaded) {\n      callback();\n    } else {\n      state.listeners.push(callback);\n\n      if (!state.scriptLoading) {\n        state.scriptLoading = true;\n\n        if (delay > 0) {\n          setTimeout(scriptTagInjection, delay);\n        } else {\n          scriptTagInjection();\n        }\n      }\n    }\n  }; // Only to be used by tests.\n\n\n  var reinitialize = function () {\n    state = createState();\n  };\n\n  return {\n    load: load,\n    reinitialize: reinitialize\n  };\n};\n\nvar ScriptLoader = CreateScriptLoader();\nexport { ScriptLoader };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\n\nvar Editor =\n/** @class */\nfunction (_super) {\n  __extends(Editor, _super);\n\n  function Editor(props) {\n    var _a, _b, _c;\n\n    var _this = _super.call(this, props) || this;\n\n    _this.handleEditorChange = function (_evt) {\n      var _a;\n\n      var editor = _this.editor;\n\n      if (editor && editor.initialized) {\n        var newContent = editor.getContent({\n          format: _this.props.outputFormat\n        });\n\n        if (newContent !== _this.currentContent) {\n          _this.currentContent = newContent;\n\n          if (isFunction(_this.props.onEditorChange)) {\n            _this.props.onEditorChange((_a = _this.currentContent) !== null && _a !== void 0 ? _a : '', editor);\n          }\n        }\n      }\n    };\n\n    _this.initialise = function () {\n      var target = _this.elementRef.current;\n\n      if (!target) {\n        return; // Editor has been unmounted\n      }\n\n      var tinymce = getTinymce();\n\n      if (!tinymce) {\n        throw new Error('tinymce should have been loaded into global scope');\n      }\n\n      var finalInit = __assign(__assign({}, _this.props.init), {\n        selector: undefined,\n        target: target,\n        readonly: _this.props.disabled,\n        inline: _this.inline,\n        plugins: mergePlugins(_this.props.init && _this.props.init.plugins, _this.props.plugins),\n        toolbar: _this.props.toolbar || _this.props.init && _this.props.init.toolbar,\n        setup: function (editor) {\n          _this.editor = editor;\n\n          _this.bindHandlers({}); // When running in inline mode the editor gets the initial value\n          // from the innerHTML of the element it is initialized on.\n          // However we don't want to take on the responsibility of sanitizing\n          // to remove XSS in the react integration so we have a chicken and egg\n          // problem... We avoid it by sneaking in a set content before the first\n          // \"official\" setContent and using TinyMCE to do the sanitization.\n\n\n          if (_this.inline && !isTextareaOrInput(target)) {\n            editor.once('PostRender', function (_evt) {\n              editor.setContent(_this.getInitialValue(), {\n                no_events: true\n              });\n            });\n          }\n\n          if (_this.props.init && isFunction(_this.props.init.setup)) {\n            _this.props.init.setup(editor);\n          }\n        }\n      });\n\n      if (!_this.inline) {\n        target.style.visibility = '';\n      }\n\n      if (isTextareaOrInput(target)) {\n        target.value = _this.getInitialValue();\n      }\n\n      tinymce.init(finalInit);\n    };\n\n    _this.id = _this.props.id || uuid('tiny-react');\n    _this.elementRef = React.createRef();\n    _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n    _this.boundHandlers = {};\n    return _this;\n  }\n\n  Editor.prototype.componentDidUpdate = function (prevProps) {\n    var _this = this;\n\n    var _a;\n\n    if (this.editor && this.editor.initialized) {\n      this.bindHandlers(prevProps);\n      this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent({\n        format: this.props.outputFormat\n      });\n\n      if (typeof this.props.value === 'string' && this.props.value !== prevProps.value && this.props.value !== this.currentContent) {\n        var localEditor_1 = this.editor;\n        localEditor_1.undoManager.transact(function () {\n          return localEditor_1.setContent(_this.props.value);\n        });\n      }\n\n      if (typeof this.props.disabled === 'boolean' && this.props.disabled !== prevProps.disabled) {\n        this.editor.setMode(this.props.disabled ? 'readonly' : 'design');\n      }\n    }\n  };\n\n  Editor.prototype.componentDidMount = function () {\n    var _a, _b, _c, _d, _e, _f;\n\n    if (getTinymce() !== null) {\n      this.initialise();\n    } else if (this.elementRef.current && this.elementRef.current.ownerDocument) {\n      ScriptLoader.load(this.elementRef.current.ownerDocument, this.getScriptSrc(), (_b = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async) !== null && _b !== void 0 ? _b : false, (_d = (_c = this.props.scriptLoading) === null || _c === void 0 ? void 0 : _c.defer) !== null && _d !== void 0 ? _d : false, (_f = (_e = this.props.scriptLoading) === null || _e === void 0 ? void 0 : _e.delay) !== null && _f !== void 0 ? _f : 0, this.initialise);\n    }\n  };\n\n  Editor.prototype.componentWillUnmount = function () {\n    var _this = this;\n\n    var editor = this.editor;\n\n    if (editor) {\n      editor.off('change keyup setcontent', this.handleEditorChange);\n      Object.keys(this.boundHandlers).forEach(function (eventName) {\n        editor.off(eventName, _this.boundHandlers[eventName]);\n      });\n      this.boundHandlers = {};\n      editor.remove();\n      this.editor = undefined;\n    }\n  };\n\n  Editor.prototype.render = function () {\n    return this.inline ? this.renderInline() : this.renderIframe();\n  };\n\n  Editor.prototype.renderInline = function () {\n    var _a = this.props.tagName,\n        tagName = _a === void 0 ? 'div' : _a;\n    return React.createElement(tagName, {\n      ref: this.elementRef,\n      id: this.id\n    });\n  };\n\n  Editor.prototype.renderIframe = function () {\n    return React.createElement('textarea', {\n      ref: this.elementRef,\n      style: {\n        visibility: 'hidden'\n      },\n      name: this.props.textareaName,\n      id: this.id\n    });\n  };\n\n  Editor.prototype.getScriptSrc = function () {\n    if (typeof this.props.tinymceScriptSrc === 'string') {\n      return this.props.tinymceScriptSrc;\n    } else {\n      var channel = this.props.cloudChannel;\n      var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n      return \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\";\n    }\n  };\n\n  Editor.prototype.getInitialValue = function () {\n    if (typeof this.props.value === 'string') {\n      return this.props.value;\n    } else if (typeof this.props.initialValue === 'string') {\n      return this.props.initialValue;\n    } else {\n      return '';\n    }\n  };\n\n  Editor.prototype.bindHandlers = function (prevProps) {\n    var _this = this;\n\n    if (this.editor !== undefined) {\n      // typescript chokes trying to understand the type of the lookup function\n      configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) {\n        return _this.props[key];\n      }); // check if we should monitor editor changes\n\n      var isValueControlled = function (p) {\n        return p.onEditorChange !== undefined || p.value !== undefined;\n      };\n\n      var wasControlled = isValueControlled(prevProps);\n      var nowControlled = isValueControlled(this.props);\n\n      if (!wasControlled && nowControlled) {\n        this.editor.on('change keyup setcontent', this.handleEditorChange);\n      } else if (wasControlled && !nowControlled) {\n        this.editor.off('change keyup setcontent', this.handleEditorChange);\n      }\n    }\n  };\n\n  Editor.propTypes = EditorPropTypes;\n  Editor.defaultProps = {\n    cloudChannel: '5'\n  };\n  return Editor;\n}(React.Component);\n\nexport { Editor };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { Editor } from './components/Editor';\nexport { Editor };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function () {\n  return typeof window !== 'undefined' ? window : global;\n};\n\nvar getTinymce = function () {\n  var global = getGlobal();\n  return global && global.tinymce ? global.tinymce : null;\n};\n\nexport { getTinymce };"],"sourceRoot":""}