(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[124],{1344:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(2),s=t(3),i=t(18);t(558),t(304);l.Component;l.Component;t(229),t(118);var c=t(1613);class o extends l.Component{constructor(){super(...arguments),this.state={listSemester:[],semesterId:"",semesterInfo:{},jadwalKu:[],listKelas:[],kelasId:"",kelasInfo:{},listPelajaran:[],pelajaranId:"",pelajaranInfo:{},isLoading:!1,nilaiMurid:[],isKeteranganNilai:!1,rangeNilai:[],isDetailTugas:!1,detailTask:[],tahunAjaran:"",listTahunAjaran:[]},this.selectSemester=e=>{e.preventDefault();let a=e.target.value,t=[...this.state.jadwalKu],l=[...new Map(t.map(e=>[e.kelas_id,e])).values()].filter(e=>e.semester_id===parseInt(a));this.setState({semesterId:a,listKelas:l})},this.selectKelas=e=>{e.preventDefault();let a=e.target.value,t=[...this.state.jadwalKu].filter(e=>e.kelas_id===parseInt(a));this.setState({kelasId:a,listPelajaran:t})},this.selectPelajaran=e=>{e.preventDefault();let a=e.target.value;this.setState({isLoading:!0,pelajaranId:a,nilaiMurid:[]}),this.fetchNilaiMurid(this.state.kelasId,a,this.state.tahunAjaran)},this.openKeteranganNilai=e=>{this.setState({isKeteranganNilai:!0})},this.selectTahunAjaran=e=>{const{value:a}=e.target;this.setState({tahunAjaran:a}),this.fetchJadwal(a)},this.resetFilter=e=>{e.preventDefault(),this.setState({semesterId:"",semesterInfo:{},listKelas:[],kelasId:"",kelasInfo:{},listPelajaran:[],pelajaranId:"",pelajaranInfo:{},isLoading:!1,nilaiMurid:[]})}}fetchRangeNilai(){s.l.get("".concat(s.a,"v2/range-nilai/company/").concat(r.a.get("user").data.company_id)).then(e=>{this.setState({rangeNilai:e.data.result})})}fetchJadwal(e){s.l.get("".concat(s.a,"v2/jadwal-mengajar/guru/").concat(r.a.get("user").data.user_id,"?tahunAjaran=").concat(e)).then(e=>{e.data.error&&console.log("Error: fetch pelajaran"),this.setState({jadwalKu:e.data.result})})}fetchSemester(){s.l.get("".concat(s.a,"v1/semester/company/").concat(r.a.get("user").data.company_id)).then(e=>{e.data.error&&i.b.warning("Error fetch data semester"),this.setState({listSemester:e.data.result})})}fetchNilaiMurid(e,a,t){console.log("Query: ".concat(e," ").concat(a)),s.l.get("".concat(s.a,"v2/guru/nilai-kelas/").concat(e,"/").concat(a,"?tahunAjaran=").concat(t)).then(e=>{this.setState({nilaiMurid:e.data.result,isLoading:!1})})}componentDidMount(){let e=new Date,a=e.getMonth()<6?e.getFullYear()-1+"/"+e.getFullYear():e.getFullYear()+"/"+(e.getFullYear()+1),t=[];for(var l=0;l<6;l++)t.push("".concat(e.getFullYear()-l,"/").concat(e.getFullYear()-l+1));this.setState({tahunAjaran:a,listTahunAjaran:t}),this.fetchJadwal(a),this.fetchSemester(),this.fetchRangeNilai()}convertNilaiToAbjad(e){let a="-";return this.state.rangeNilai.map(t=>{this.checkRangeNilai(e,t.min,t.max)&&(a=t.huruf)}),a}checkRangeNilai(e,a,t){return e>=a&&e<=t}openDetail(e){this.setState({detailTask:e,isDetailTugas:!0})}render(){r.a.get("user").data.level;return n.a.createElement("div",{className:"row mt-3"},n.a.createElement("div",{className:"col-xl-12"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-2"},n.a.createElement("label",null,"Tahun Ajaran"),n.a.createElement("select",{onChange:this.selectTahunAjaran,value:this.state.tahunAjaran,className:"form-control",required:!0},n.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listTahunAjaran.map(e=>n.a.createElement("option",{value:e},e)))),n.a.createElement("div",{className:"col-sm-2"},n.a.createElement("label",null,"Semester"),n.a.createElement("select",{onChange:this.selectSemester,value:this.state.semesterId,className:"form-control",required:!0},n.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listSemester.map((e,a)=>n.a.createElement("option",{key:a,value:e.semester_id},e.semester_name)))),n.a.createElement("div",{className:"col-sm-2"},n.a.createElement("label",null,"Kelas"),n.a.createElement("select",{onChange:this.selectKelas,value:this.state.kelasId,className:"form-control",required:!0},n.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listKelas.map((e,a)=>n.a.createElement("option",{key:a,value:e.kelas_id},e.kelas_nama)))),n.a.createElement("div",{className:"col-sm-3"},n.a.createElement("label",null,"Mata Pelajaran"),n.a.createElement("select",{onChange:this.selectPelajaran,value:this.state.pelajaranId,className:"form-control",required:!0},n.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listPelajaran.map((e,a)=>n.a.createElement("option",{key:a,value:e.pelajaran_id},e.nama_pelajaran)))),n.a.createElement("div",{className:"col-sm-2"},n.a.createElement("label",null,"Action"),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-v2 btn-info",type:"reset",onClick:this.resetFilter},"Reset"))))))),n.a.createElement("div",{className:"col-xl-12"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("table",{className:"table table-striped table-bordered"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"text-center"},n.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," NO "),n.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," NIK "),n.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," NAMA "),n.a.createElement("td",{colSpan:"3"},"NILAI HASIL BELAJAR"),n.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"NILAI"),n.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"STATUS")),n.a.createElement("tr",{className:"text-center"},n.a.createElement("td",null,"TASK"),n.a.createElement("td",null,"QUIZ"),n.a.createElement("td",null,"EXAM"))),n.a.createElement("tbody",null,this.state.isLoading&&n.a.createElement("tr",null,n.a.createElement("td",{className:"text-center",colSpan:"8"},n.a.createElement("span",null,"Loading..."))),this.state.nilaiMurid.map((e,a)=>n.a.createElement("tr",{className:"text-center"},n.a.createElement("td",null,a+1),n.a.createElement("td",null,e.no_induk),n.a.createElement("td",null,e.nama),n.a.createElement("td",null,e.task?e.task.toFixed(2):"-",n.a.createElement("p",{title:"More detail",style:{cursor:"pointer"},onClick:()=>this.openDetail(e.dTask)},e.dTask.length)),n.a.createElement("td",null,e.quiz?e.quiz.toFixed(2):"-",n.a.createElement("p",{title:"More detail",style:{cursor:"pointer"},onClick:()=>this.openDetail(e.dQuiz)},e.dQuiz.length)),n.a.createElement("td",null,e.exam?e.exam.toFixed(2):"-",n.a.createElement("p",{title:"More detail",style:{cursor:"pointer"},onClick:()=>this.openDetail(e.dExam)},e.dExam.length)),n.a.createElement("td",null,(e.exam+e.quiz+e.task).toFixed(2),n.a.createElement("p",{title:"More detail",style:{cursor:"pointer"},onClick:this.openKeteranganNilai},this.convertNilaiToAbjad(e.task+e.quiz+e.exam))),n.a.createElement("td",null,e.task+e.quiz+e.exam>=50?n.a.createElement("span",{class:"label label-success"},"Lulus"):n.a.createElement("span",{class:"label label-danger"},"Mengulang")))))),n.a.createElement(c.a,{show:this.state.isKeteranganNilai,onHide:()=>this.setState({isKeteranganNilai:!1}),dialogClassName:"modal-lg"},n.a.createElement(c.a.Header,{closeButton:!0},n.a.createElement(c.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Keterangan Nilai")),n.a.createElement(c.a.Body,null,n.a.createElement("table",{class:"table table-bordered table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{width:"40px"},n.a.createElement("b",null,"Nilai")),n.a.createElement("td",null,n.a.createElement("b",null,"Range")))),n.a.createElement("tbody",null,this.state.rangeNilai.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,e.huruf)),n.a.createElement("td",null,e.min," - ",e.max))))))),n.a.createElement(c.a,{show:this.state.isDetailTugas,onHide:()=>this.setState({isDetailTugas:!1}),dialogClassName:"modal-lg"},n.a.createElement(c.a.Header,{closeButton:!0},n.a.createElement(c.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Detail")),n.a.createElement(c.a.Body,null,n.a.createElement("table",{class:"table table-striped table-bordered"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"INFORMASI")),n.a.createElement("td",null,n.a.createElement("b",null,"STATUS")),n.a.createElement("td",null,n.a.createElement("b",null,"SCORE")))),n.a.createElement("tbody",null,this.state.detailTask.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,e.exam_title),n.a.createElement("td",null,e.user_id?n.a.createElement("span",{class:"label label-success"},"Sudah mengerjakan"):n.a.createElement("span",{class:"label label-danger"},"Belum mengerjakan")),n.a.createElement("td",null,e.score)))))))))))}}a.default=o},304:function(e,a,t){"use strict";t.d(a,"e",(function(){return n})),t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return s})),t.d(a,"d",(function(){return i})),t.d(a,"c",(function(){return c}));const l=new Date,n=(new Date(2015,3,0),new Date(2015,3,1),new Date(2015,3,7),new Date(2015,3,10),new Date(2016,2,13,0,0,0),new Date(2016,2,20,0,0,0),new Date(2016,10,6,0,0,0),new Date(2016,10,13,0,0,0),new Date(2015,3,9,0,0,0),new Date(2015,3,10,0,0,0),new Date(2015,3,11),new Date(2015,3,13),new Date(2015,3,12,10,30,0,0),new Date(2015,3,12,12,30,0,0),new Date(2015,3,12,12,0,0,0),new Date(2015,3,12,13,0,0,0),new Date(2015,3,12,14,0,0,0),new Date(2015,3,12,15,0,0,0),new Date(2015,3,12,17,0,0,0),new Date(2015,3,12,17,30,0,0),new Date(2015,3,12,20,0,0,0),new Date(2015,3,12,21,0,0,0),new Date(2015,3,13,7,0,0),new Date(2015,3,13,10,30,0),new Date(2015,3,17,19,30,0),new Date(2015,3,18,2,0,0),new Date(2015,3,17,19,30,0),new Date(2015,3,17,23,30,0),new Date(2015,3,20,19,30,0),new Date(2015,3,22,2,0,0),new Date((new Date).setHours((new Date).getHours()-3)),new Date((new Date).setHours((new Date).getHours()+3)),new Date(2015,3,14,15,30,0),new Date(2015,3,14,19,0,0),new Date(2015,3,14,16,30,0),new Date(2015,3,14,20,0,0),new Date(2015,3,14,16,30,0),new Date(2015,3,14,17,30,0),new Date(2015,3,14,17,30,0),new Date(2015,3,14,20,30,0),new Date(2015,3,14,17,0,0),new Date(2015,3,14,18,30,0),new Date(2015,3,14,17,0,0),new Date(2015,3,14,18,30,0),new Date(2015,3,14,17,30,0),new Date(2015,3,14,19,0,0),new Date(2015,3,14,18,30,0),new Date(2015,3,14,20,0,0),[{title:"Moderator",width:null,status:!0},{title:"Status",width:null,status:!0},{title:"Time",width:null,status:!0},{title:"Date",width:null,status:!0},{title:"Participants",width:null,status:!0}]),r=[{title:"Andi",pembicara:"Vitoria Hart",status:"Close",waktu:"10:00 - 12:00",tanggal:"2020-09-04",peserta:27,lampiran:null},{title:"Josep Sinatupulu",pembicara:"Vitoria Hart",status:"Open",waktu:null,tanggal:null,peserta:null,lampiran:null},{title:"Anggun Srikandi Ayu",pembicara:"Vitoria Hart",status:"Open",waktu:null,tanggal:null,peserta:null,lampiran:null},{title:"Jejep",pembicara:"Vitoria Hart",status:"Open",waktu:null,tanggal:null,peserta:null,lampiran:null}],s={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(75, 192, 192)","rgba(75, 192, 192)","rgba(153, 102, 255)","rgba(255, 159, 64)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},i={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(75, 192, 192)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},c={labels:["Blue","Yellow","Green"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(75, 192, 192)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}}]);
//# sourceMappingURL=124.680cf57f.chunk.js.map