{"version":3,"sources":["components/Users/UserCompany/modaladd.js","components/Users/UserCompany/index.js"],"names":["ModalAdd","props","handleChangeValidity","date","setState","validity","onChangeInput","event","target","value","name","onClickSimpan","e","preventDefault","triggerUpdate","state","nama","logo","tipe","unlimited","formData","FormData","append","status","toISOString","split","limituser","limitmeeting","limitwebinar","access_training","linkURL","API_SERVER","API","post","then","res","data","result","aturan","i","length","company_id","grup_name","activity","course","manage_course","forum","group_meeting","manage_group_meeting","filename","window","$","modal","console","log","validate","catch","err","onChangeNama","onChangeTipe","onChangeStatus","onChangeLogo","files","size","notif","bind","Date","checked","this","id","className","tabIndex","role","aria-labelledby","aria-hidden","style","padding","borderBottom","Form","htmlFor","onChange","textTransform","type","placeholder","accept","Text","width","toggleSwitch","selected","showTimeSelect","dateFormat","Control","toggleSwitchTraining","borderTop","onClick","data-dismiss","Component","UserCompany","toggleModal","isOpen","closeModalAdd","grup","isToggleDelete","delete","getAttribute","handleClose","onClickDelete","filter","item","link","get","response","error","linkCompany","Storage","level","Item","src","alt","to","company_name","user","meeting","toString","substring","company_type","href","title","data-toggle","data-target","data-id","overflowX","lists","map","list","key","show","onClose","Modal","onHide","Header","closeButton","Title","Body"],"mappings":"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","file":"static/js/84.bb50cae6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Form } from 'react-bootstrap';\nimport API, { API_SERVER } from '../../../repository/api';\n\nimport ToggleSwitch from \"react-switch\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass ModalAdd extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.onChangeNama = this.onChangeNama.bind(this);\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeLogo = this.onChangeLogo.bind(this);\n    this.onClickSimpan = this.onClickSimpan.bind(this);\n\n    this.state = {\n      filename: null,\n      nama: \"\",\n      tipe: \"\",\n      status: \"active\",\n      logo: \"\",\n      notif: \"Make sure the file is in png, jpeg, jpg or gif format and does not exceed 500KB\",\n      unlimited: false,\n      access_training: false,\n      validity: new Date(),\n      limituser: null,\n      limitmeeting: null,\n      limitwebinar: null\n    };\n  }\n\n  handleChangeValidity = date => {\n    this.setState({\n      validity: date\n    });\n  };\n\n  onChangeInput = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n  toggleSwitch(checked) {\n    this.setState({ unlimited: !this.state.unlimited });\n  }\n  toggleSwitchTraining(checked) {\n    this.setState({ access_training: !this.state.access_training });\n  }\n\n  onClickSimpan = e => {\n    e.preventDefault();\n    const { triggerUpdate } = this.props;\n\n    if (this.state.nama && this.state.logo && this.state.tipe) {\n      let unlimited = this.state.unlimited == false ? '1' : '0'\n      let formData = new FormData();\n      formData.append('company_name', this.state.nama);\n      formData.append('company_type', this.state.tipe);\n      formData.append('status', this.state.status);\n      formData.append('unlimited', unlimited);\n      formData.append('logo', this.state.logo);\n      formData.append('validity', this.state.validity.toISOString().split('T')[0]);\n      formData.append('limituser', this.state.limituser);\n      formData.append('limitmeeting', this.state.limitmeeting);\n      formData.append('limitwebinar', this.state.limitwebinar);\n      formData.append('access_training', this.state.access_training);\n\n      let linkURL = `${API_SERVER}v1/company`;\n      API.post(linkURL, formData).then(res => {\n        triggerUpdate(res.data.result);\n\n        // if pendidikan auto generate role\n        if (this.state.tipe === \"pendidikan\") {\n          let aturan = [\"Admin\", \"Guru\", \"Murid\", \"Parents\", \"Principal\", \"Management\"];\n          for (var i = 0; i < aturan.length; i++) {\n            let formData = {\n              company_id: res.data.result.company_id,\n              grup_name: aturan[i],\n              activity: 0,\n              course: 0,\n              manage_course: 0,\n              forum: 0,\n              group_meeting: 0,\n              manage_group_meeting: 0,\n            }\n            API.post(`${API_SERVER}v1/grup`, formData)\n          }\n        }\n        // end if\n\n        this.setState({ nama: '', status: '', logo: '' });\n        this.setState({ filename: null });\n        window.$('#modalAdd').modal('hide');\n        console.log('resss', res.data.result)\n        console.log('reqqq', this.state.validate)\n      }).catch((err) => {\n        console.log(err);\n      })\n    }\n  }\n\n  onChangeNama = e => {\n    this.setState({ nama: e.target.value });\n  }\n\n  onChangeTipe = e => {\n    this.setState({ tipe: e.target.value });\n  }\n\n  onChangeStatus = e => {\n    this.setState({ status: e.target.value });\n  }\n\n  onChangeLogo = e => {\n    const target = e.target;\n    if (target.files[0].size <= 500000) {\n      this.setState({ logo: target.files[0], filename: target.files[0].name });\n    } else {\n      target.value = null;\n      this.setState({ notif: \"The file does not match the format, please check again.\" });\n    }\n  }\n\n  render() {\n    // const statusCompany = ['active','nonactive'];\n    return (\n      <div\n        id=\"modalAdd\"\n        className=\"modal fade\"\n        tabIndex={-1}\n        role=\"dialog\"\n        aria-labelledby=\"editModal\"\n        aria-hidden=\"true\"\n      >\n        <div\n          className=\"modal-dialog modal-dialog-centered modal-lg\"\n          role=\"document\"\n        >\n          <div\n            className=\"modal-content b-r-15\"\n            style={{ padding: \"30px 50px\" }}\n          >\n            <div\n              className=\"modal-header p-b-0\"\n              style={{ borderBottom: \"0 !important\" }}\n            >\n              <h5\n                className=\"modal-title p-t-0 f-21 f-w-bold text-c-black\"\n                id=\"exampleModalCenterTitle\"\n              >\n                Add Company\n              </h5>\n            </div>\n            <div className=\"modal-body\">\n              <Form>\n                <div className=\"form-group\">\n                  <label className=\"label-input\" htmlFor>\n                    Type\n                  </label>\n                  <select onChange={this.onChangeTipe} className=\"form-control\" style={{ textTransform: \"capitalize\" }}>\n                    <option value=\"\">Select Company Type</option>\n                    <option value=\"perusahaan\">Perusahaan</option>\n                    <option value=\"pendidikan\">Pendidikan</option>\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label className=\"label-input\" htmlFor>\n                    Company Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Company Name\"\n                    onChange={this.onChangeNama}\n                    value={this.state.nama}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label className=\"label-input\" htmlFor>\n                    Company Logo\n                  </label>\n                  <input\n                    type=\"file\"\n                    onChange={this.onChangeLogo}\n                    className=\"form-control\"\n                    accept=\"image/*\"\n                  />\n                  {this.state.filename ? <Form.Text className=\"text-info\">{this.state.filename} <br /></Form.Text> : null}\n                  {this.state.notif && <Form.Text className=\"text-danger\">{this.state.notif}</Form.Text>}\n                </div>\n                <div className=\"form-group\">\n                  <label className=\"label-input\" htmlFor>\n                    Time Limit\n                  </label>\n                  <div style={{ width: '100%' }}>\n                    <ToggleSwitch checked={false} onChange={this.toggleSwitch.bind(this)} checked={this.state.unlimited} />\n                  </div>\n\n                </div>\n                {\n                  this.state.unlimited &&\n                  <div className=\"form-group\">\n                    <label className=\"label-input\" htmlFor>\n                      Valid Until\n                    </label>\n                    <div style={{ width: '100%' }}>\n                      <DatePicker\n                        selected={this.state.validity}\n                        onChange={this.handleChangeValidity}\n                        showTimeSelect\n                        dateFormat=\"yyyy-MM-dd\"\n                      />\n                    </div>\n\n                  </div>\n                }\n\n                <div className=\"form-group\">\n                  <label className=\"label-input\" htmlFor>\n                    Product Limitation\n                  </label>\n                  <table>\n                    <tr>\n                      <th>User</th>\n                      <th>Meeting</th>\n                      <th>Webinar</th>\n                    </tr>\n                    <tr>\n                      <td>\n                        <Form.Control\n                          type=\"number\"\n                          name=\"limituser\"\n                          onChange={this.onChangeInput}\n                          placeholder=\"Unlimited\"\n                          value={this.state.limituser}\n                        />\n                      </td>\n                      <td>\n                        <Form.Control\n                          type=\"number\"\n                          name=\"limitmeeting\"\n                          onChange={this.onChangeInput}\n                          placeholder=\"Unlimited\"\n                          value={this.state.limitmeeting}\n                        />\n                      </td>\n                      <td>\n                        <Form.Control\n                          type=\"number\"\n                          name=\"limitwebinar\"\n                          onChange={this.onChangeInput}\n                          placeholder=\"Unlimited\"\n                          value={this.state.limitwebinar}\n                        />\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n                <div className=\"form-group\">\n                  <label className=\"label-input\" htmlFor>\n                    Access Training\n                  </label>\n                  <div style={{ width: '100%' }}>\n                    <ToggleSwitch checked={false} onChange={this.toggleSwitchTraining.bind(this)} checked={this.state.access_training} />\n                  </div>\n\n                </div>\n                {/* <div className=\"form-group\">\n                  <label className=\"label-input\" htmlFor>\n                    Status Company\n                  </label>\n                  <br />\n                  <div\n                    onChange={this.onChangeStatus}\n                    style={{ textTransform: \"capitalize\" }}\n                  >\n                    {statusCompany.map(item => {\n                      return (\n                        <Form.Check\n                          name=\"status\"\n                          inline\n                          label={item}\n                          type=\"radio\"\n                          value={item}\n                        />\n                      );\n                    })}\n                  </div>\n                </div> */}\n              </Form>\n            </div>\n            <div\n              className=\"modal-footer p-b-0\"\n              style={{ borderTop: \"0 !important\" }}\n            >\n              <button\n                type=\"button\"\n                onClick={this.onClickSimpan}\n                className=\"btn btn-primary btn-block f-18 f-w-bold openalertedit\"\n              >\n                Save\n              </button>\n\n              <button\n                type=\"button\"\n                className=\"btn btn-block bg-c-white text-c-grey3 f-18 f-w-bold\"\n                data-dismiss=\"modal\"\n              >\n                Back\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ModalAdd;\n","import React, { Component } from \"react\";\nimport Modal from 'react-bootstrap/Modal';\nimport ModalAdd from \"./modaladd\";\nimport { Link } from \"react-router-dom\";\nimport Storage from '../../../repository/storage';\n\nimport API, { API_SERVER } from '../../../repository/api';\n\nclass UserCompany extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      grup: [],\n      isOpen: false,\n      delete: {\n        modal: false,\n        id: ''\n      }\n    };\n  }\n\n  toggleModal = () => {\n    this.setState({ isOpen: !this.state.isOpen });\n  };\n\n  closeModalAdd = e => { console.log(e); this.setState({ isOpen: e }) };\n\n  triggerUpdate = e => this.setState({\n    grup: [...this.state.grup, e]\n  })\n\n  /* action for delete */\n\n  isToggleDelete = e => {\n    this.setState({ delete: { modal: !this.state.delete.modal, id: e.target.getAttribute('data-id') } });\n  }\n\n  handleClose = e => {\n    this.setState({ delete: { modal: false, id: '' } });\n  }\n\n  onClickDelete = e => {\n    e.preventDefault();\n    let linkURL = `${API_SERVER}v1/company/${this.state.delete.id}`;\n    API.delete(linkURL).then(res => {\n      console.log(res.data);\n      this.setState({\n        grup: this.state.grup.filter(item => { return item.company_id != this.state.delete.id }),\n        delete: { modal: false, id: '' }\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    let link = `${API_SERVER}v1/company`;\n    API.get(link).then(response => {\n      this.setState({ grup: response.data.result });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    let { grup } = this.state;\n    // let statusCompany = ['active', 'nonactive'];\n\n    let linkCompany = '';\n    if (Storage.get('user').data.level === 'superadmin') {\n      linkCompany = '/company-detail-super';\n    } else {\n      linkCompany = '/company-detail';\n    }\n\n    const Item = ({ item }) => (\n      <li>\n        <div className=\"card\">\n          <div\n            className=\"card-block\"\n            style={{ padding: \"25px 30px !important\" }}\n          >\n            <div className=\"row d-flex align-items-center\">\n              <div className=\"col-xl-1 col-md-12\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col\">\n                    <img\n                      width=\"80px\"\n                      src={item.logo}\n                      alt=\"Logo\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-4 col-md-12\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col\">\n                    <small className=\"f-w-600 f-16 text-c-grey-t \">\n                      Company\n                    </small>\n                    <Link to={`${linkCompany}/${item.company_id}`}>\n                      <h5 className=\"f-w-bold f-20 text-c-purple3\">\n                        {item.company_name}\n                      </h5>\n                    </Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-1 col-md-12\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col\">\n                    <small className=\"f-w-600 f-14 text-c-grey-t \">\n                      User\n                    </small>\n                    <h5 style={{ textTransform: 'capitalize' }} className=\"f-w-bold f-16 text-c-purple3\">\n                      {item.user}\n                    </h5>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-1 col-md-12\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col\">\n                    <small className=\"f-w-600 f-14 text-c-grey-t \">\n                      Meeting\n                    </small>\n                    <h5 style={{ textTransform: 'capitalize' }} className=\"f-w-bold f-16 text-c-purple3\">\n                      {item.meeting}\n                    </h5>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-1 col-md-12\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col\">\n                    <small className=\"f-w-600 f-14 text-c-grey-t \">\n                      Limited Time\n                    </small>\n                    <h5 className=\"f-w-bold f-16 text-c-purple3\">\n                      {item.unlimited ? 'Tidak' : item.validity.toString().substring(0, 10)}\n                    </h5>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-1 col-md-12\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col\">\n                    <small className=\"f-w-600 f-14 text-c-grey-t \">\n                      Status\n                    </small>\n                    <h5 style={{ textTransform: 'capitalize' }} className=\"f-w-bold f-16 text-c-purple3\">\n                      {item.status}\n                    </h5>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-2 col-md-12\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col\">\n                    <small className=\"f-w-600 f-14 text-c-grey-t \">\n                      Type\n                    </small>\n                    <h5 style={{ textTransform: 'capitalize' }} className=\"f-w-bold f-16 text-c-purple3\">\n                      {item.company_type ? item.company_type === 'perusahaan' ? 'Company' : 'Education' : 'Not Set'}\n                    </h5>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-1 col-md-12 text-right\">\n                <p className=\"m-b-0\">\n                  <Link to={`${linkCompany}/${item.company_id}`}>\n                    <img\n                      src=\"assets/images/component/Edit-1.png\"\n                      className=\"img-icon-edit m-r-10\"\n                      alt=\"Edit\"\n                    />\n                  </Link>\n                  <a\n                    href=\"#\"\n                    title=\"Delete\"\n                    data-toggle=\"modal\"\n                    data-target=\"#modalDelete\"\n                  >\n                    <img\n                      src='assets/images/component/Delete-1.png'\n                      className=\"img-icon-delete\"\n                      data-id={item.company_id}\n                      onClick={this.isToggleDelete}\n                      alt=\"Delete\"\n                    />\n                  </a>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    );\n\n    const Lists = ({ lists }) => (\n      <ul className=\"list-cabang\">\n        {lists.map(list => (\n          <Item key={list.company_id} item={list} />\n        ))}\n      </ul>\n    );\n\n    return (\n      <div className=\"pcoded-main-container\">\n        <div className=\"pcoded-wrapper\">\n          <div className=\"pcoded-content\">\n            <div className=\"pcoded-inner-content\">\n              <div className=\"main-body\">\n                <div className=\"page-wrapper\">\n                  <div className=\"row\">\n                    <div className=\"col-xl-12\">\n                      <h3 className=\"f-24 f-w-800 mb-3\">\n                        Company Management\n                      </h3>\n                      <a\n                        href=\"#\"\n                        className=\"btn btn-ideku f-14 float-right mb-3\"\n                        style={{ padding: \"7px 25px !important\" }}\n                        data-toggle=\"modal\"\n                        data-target=\"#modalAdd\"\n                      >\n                        <img\n                          src=\"assets/images/component/person_add.png\"\n                          className=\"button-img\"\n                          alt=\"\"\n                        />\n                        Add New\n                      </a>\n                    </div>\n\n                    <div className=\"col-xl-12\">\n                      <div style={{ overflowX: \"auto\" }}>\n                        <Lists lists={grup} />\n                      </div>\n                    </div>\n\n                    <ModalAdd\n                      show={this.state.isOpen}\n                      onClose={this.toggleModal}\n                      closeModalAdd={this.closeModalAdd}\n                      triggerUpdate={this.triggerUpdate}></ModalAdd>\n\n                    <Modal show={this.state.delete.modal} onHide={this.handleClose}>\n                      <Modal.Header closeButton>\n                        <Modal.Title className=\"text-c-purple3 f-w-bold\">Hapus Company</Modal.Title>\n                      </Modal.Header>\n                      <Modal.Body>\n                        <p className=\"f-w-bold\">Apakah anda yakin untuk menghapus company ini ?</p>\n                        <button type=\"button\"\n                          onClick={this.onClickDelete}\n                          className=\"btn btn-block btn-ideku f-w-bold\">\n                          Hapus\n                        </button>\n                        <button type=\"button\"\n                          className=\"btn btn-block f-w-bold\"\n                          onClick={this.handleClose}>\n                          Tidak\n                        </button>\n                      </Modal.Body>\n                    </Modal>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserCompany;\n"],"sourceRoot":""}