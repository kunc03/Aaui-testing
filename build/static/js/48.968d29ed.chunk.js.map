{"version":3,"sources":["components/training/user/form.js"],"names":["FormUser","Component","constructor","props","super","changePassword","e","this","setState","isSaving","state","newPassword","form","training_user_id","id","password","API","put","API_SERVER","then","res","data","error","toast","success","closeModalPassword","warning","validateEmail","email","String","toLowerCase","match","save","preventDefault","params","expired","license_number","name","born_date","gender","address","city","phone","training_company_id","image","born_place","identity","tin","created_by","Storage","get","user_id","tag","level","result","formData","FormData","append","res2","imageIdentity","history","push","post","insertId","goBack","handleChange","value","target","files","length","size","imagePreview","URL","createObjectURL","imageIdentityPreview","modalPassword","fetchProvince","async","map","item","prov_id","label","prov_name","province","console","log","fetchCities","province_id","city_id","city_name","cities","handleChangeProvince","selectedProvince","selectedCity","handleChangeCity","optionCompany","companyId","disabledForm","bind","getUser","identity_image","getHistory","getUserData","USER_ME","status","localStorage","getItem","company_id","getCompany","componentDidUpdate","prevProps","prevState","componentDidMount","company","render","className","src","alt","width","onClick","style","color","goEdit","padding","marginRight","fontSize","for","onChange","disabled","selected","cursor","borderRadius","overflow","href","objectFit","height","display","type","accept","placeholder","maxlength","rows","cols","flexDirection","isClearable","options","isDisabled","moment","created_at","local","format","source","destination","creator","justifyContent","show","onHide","Header","closeButton","Title","Body","Footer"],"mappings":"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","file":"static/js/48.968d29ed.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport ReactSelect from 'react-select';\nimport moment from 'moment-timezone';\nimport { Modal } from 'react-bootstrap';\nimport Storage from '../../../repository/storage';\nimport API, { API_SERVER, USER_ME } from '../../../repository/api';\n\nclass FormUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      province: null,\n      selectedProvince: null,\n      cities: null,\n      selectedCity: null,\n      image: '',\n      imagePreview: 'assets/images/no-profile-picture.jpg',\n      imageIdentity: '',\n      imageIdentityPreview: 'assets/images/no-image.png',\n      training_company_id: '',\n      name: '',\n      born_place: '',\n      born_date: '',\n      gender: '',\n      identity: '',\n      tin: '',\n      address: '',\n      city: '',\n      phone: '',\n      email: '',\n      level: '',\n      license_number: '',\n      expired: '',\n      optionCompany: [],\n      companyId: '',\n      modalPassword: false,\n      newPassword: '',\n      history: [],\n      disabledForm: this.props.disabledForm && this.props.id,\n      isSaving: false,\n    };\n    this.goBack = this.goBack.bind(this);\n  }\n\n  goBack() {\n    if (this.props.goBack) {\n      this.props.goBack();\n    } else {\n      this.props.history.goBack();\n    }\n  }\n\n  changePassword = (e) => {\n    this.setState({ isSaving: true });\n    if (!this.state.newPassword) {\n      toast.warning('Insert the new password');\n    } else {\n      let form = {\n        training_user_id: this.props.id,\n        password: this.state.newPassword,\n      };\n      API.put(`${API_SERVER}v2/training/user-password`, form).then((res) => {\n        if (res.data.error) {\n          toast.error(`Error change password`);\n          this.setState({ isSaving: false });\n        } else {\n          toast.success(`Success change user's password`);\n          this.setState({ isSaving: false });\n          this.closeModalPassword();\n        }\n      });\n    }\n  };\n  validateEmail = (email) => {\n    return String(email)\n      .toLowerCase()\n      .match(\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n      );\n  };\n  save = (e) => {\n    this.setState({ isSaving: true });\n    e.preventDefault();\n    if (\n      !this.validateEmail(this.state.email) ||\n      (!this.props.match.params.id && !this.state.expired && this.state.license_number) ||\n      !this.state.name ||\n      !this.state.born_date ||\n      !this.state.gender ||\n      !this.state.address ||\n      !this.state.city ||\n      !this.state.phone ||\n      !this.state.email ||\n      !this.state.training_company_id\n    ) {\n      toast.warning('Some field is required or not in their format, please check your data.');\n      this.setState({ isSaving: false });\n    } else {\n      if (this.props.match.params.id) {\n        let form = {\n          image: this.state.image,\n          training_company_id: this.state.training_company_id,\n          name: this.state.name,\n          born_place: this.state.born_place,\n          born_date: this.state.born_date,\n          gender: this.state.gender,\n          identity: this.state.identity,\n          tin: this.state.tin,\n          license_number: this.state.license_number,\n          address: this.state.address,\n          city: this.state.city,\n          phone: this.state.phone,\n          email: this.state.email,\n          created_by: Storage.get('user').data.user_id,\n          tag: this.state.tag,\n        };\n        API.put(`${API_SERVER}v2/training/user/${this.props.match.params.id}`, form).then((res) => {\n          if (res.data.error) {\n            toast.error(`Error edit ${this.state.level} : ${res.data.result}`);\n          } else {\n            if (this.state.image) {\n              this.setState({ isSaving: true });\n              let formData = new FormData();\n              formData.append('image', this.state.image);\n              API.put(`${API_SERVER}v2/training/user/image/${this.props.match.params.id}`, formData).then((res2) => {\n                if (res2.data.error) {\n                  toast.warning(`${this.state.level} edited but fail to upload image`);\n                } else {\n                  if (this.state.imageIdentity) {\n                    this.setState({ isSaving: true });\n                    let formData = new FormData();\n                    formData.append('image', this.state.imageIdentity);\n                    API.put(\n                      `${API_SERVER}v2/training/user/image-identity/${this.props.match.params.id}`,\n                      formData,\n                    ).then((res2) => {\n                      if (res2.data.error) {\n                        toast.warning(`${this.state.level} edited but fail to upload identity image`);\n                      } else {\n                        toast.success(`${this.state.level} edited`);\n                        this.setState({ isSaving: false });\n                        this.props.history.push(`/training/user/detail/${this.props.match.params.id}`);\n                      }\n                    });\n                  } else {\n                    toast.success(`${this.state.level} edited`);\n                    this.setState({ isSaving: false });\n                    this.props.history.push(`/training/user/detail/${this.props.match.params.id}`);\n                  }\n                }\n              });\n            } else {\n              if (this.state.imageIdentity) {\n                this.setState({ isSaving: true });\n                let formData = new FormData();\n                formData.append('image', this.state.imageIdentity);\n                API.put(`${API_SERVER}v2/training/user/image-identity/${this.props.match.params.id}`, formData).then(\n                  (res2) => {\n                    if (res2.data.error) {\n                      toast.warning(`${this.state.level} edited but fail to upload identity image`);\n                    } else {\n                      toast.success(`${this.state.level} edited`);\n                      this.setState({ isSaving: false });\n                      this.props.history.push(`/training/user/detail/${this.props.match.params.id}`);\n                    }\n                  },\n                );\n              } else {\n                toast.success(`${this.state.level} edited`);\n                this.setState({ isSaving: false });\n                this.props.history.push(`/training/user/detail/${this.props.match.params.id}`);\n              }\n            }\n          }\n        });\n      } else {\n        let form = {\n          training_company_id: this.state.training_company_id,\n          image: this.state.image,\n          name: this.state.name,\n          born_place: this.state.born_place,\n          born_date: this.state.born_date,\n          gender: this.state.gender,\n          identity: this.state.identity,\n          tin: this.state.tin,\n          license_number: this.state.license_number,\n          expired: this.state.expired,\n          address: this.state.address,\n          city: this.state.city,\n          phone: this.state.phone,\n          email: this.state.email,\n          level: this.props.match.params.level,\n          created_by: Storage.get('user').data.user_id,\n        };\n        API.post(`${API_SERVER}v2/training/user`, form).then((res) => {\n          if (res.data.error) {\n            toast.error(`Error create ${this.state.level} : ${res.data.result}`);\n            this.setState({ isSaving: false });\n          } else {\n            if (this.state.image) {\n              this.setState({ isSaving: true });\n              let formData = new FormData();\n              formData.append('image', this.state.image);\n              API.put(`${API_SERVER}v2/training/user/image/${res.data.result.insertId}`, formData).then((res2) => {\n                if (res2.data.error) {\n                  toast.warning(`${this.state.level} created but fail to upload image`);\n                  this.goBack();\n                  this.setState({ isSaving: false });\n                } else {\n                  if (this.state.imageIdentity) {\n                    this.setState({ isSaving: true });\n                    let formData = new FormData();\n                    formData.append('image', this.state.imageIdentity);\n                    API.put(`${API_SERVER}v2/training/user/image-identity/${res.data.result.insertId}`, formData).then(\n                      (res2) => {\n                        if (res2.data.error) {\n                          toast.warning(`${this.state.level} created but fail to upload identity image`);\n                        } else {\n                          toast.success(`${this.state.level} created`);\n                          this.setState({ isSaving: false });\n                          this.props.history.push(`/training/user/detail/${res.data.result.insertId}`);\n                        }\n                      },\n                    );\n                  } else {\n                    toast.success(`${this.state.level} created`);\n                    this.setState({ isSaving: false });\n                    this.props.history.push(`/training/user/detail/${res.data.result.insertId}`);\n                  }\n                }\n              });\n            } else {\n              if (this.state.imageIdentity) {\n                this.setState({ isSaving: true });\n                let formData = new FormData();\n                formData.append('image', this.state.imageIdentity);\n                API.put(`${API_SERVER}v2/training/user/image-identity/${res.data.result.insertId}`, formData).then(\n                  (res2) => {\n                    if (res2.data.error) {\n                      toast.warning(`${this.state.level} edited but fail to upload identity image`);\n                    } else {\n                      toast.success(`${this.state.level} created`);\n                      this.setState({ isSaving: false });\n                      this.props.history.push(`/training/user/detail/${res.data.result.insertId}`);\n                    }\n                  },\n                );\n              } else {\n                toast.success(`${this.state.level} created`);\n                this.setState({ isSaving: false });\n                this.props.history.push(`/training/user/detail/${res.data.result.insertId}`);\n              }\n            }\n          }\n        });\n      }\n    }\n  };\n\n  handleChange = (e) => {\n    let { name, value } = e.target;\n    if (name === 'image') {\n      if (e.target.files.length) {\n        if (e.target.files[0].size <= 5000000) {\n          this.setState({\n            image: e.target.files[0],\n            imagePreview: URL.createObjectURL(e.target.files[0]),\n          });\n        } else {\n          e.target.value = null;\n          toast.warning('Image size cannot larger than 5MB');\n        }\n      }\n    } else if (name === 'imageIdentity') {\n      if (e.target.files.length) {\n        if (e.target.files[0].size <= 5000000) {\n          this.setState({\n            imageIdentity: e.target.files[0],\n            imageIdentityPreview: URL.createObjectURL(e.target.files[0]),\n          });\n        } else {\n          e.target.value = null;\n          toast.warning('Identity Image size cannot larger than 5MB');\n        }\n      }\n    } else {\n      this.setState({ [name]: value });\n    }\n  };\n\n  getUser(id) {\n    API.get(`${API_SERVER}v2/training/user/read/${id}`).then((res) => {\n      if (res.data.error) {\n        toast.error('Error read user');\n      } else {\n        this.setState({\n          selectedProvince: { value: res.data.result.prov_id, label: res.data.result.prov_name },\n          selectedCity: { value: res.data.result.city_id, label: res.data.result.city_name },\n          training_company_id: res.data.result.training_company_id,\n          name: res.data.result.name,\n          born_place: res.data.result.born_place,\n          born_date: res.data.result.born_date,\n          gender: res.data.result.gender,\n          identity: res.data.result.identity,\n          tin: res.data.result.tin,\n          license_number: res.data.result.license_number,\n          address: res.data.result.address,\n          city: res.data.result.city,\n          phone: res.data.result.phone,\n          email: res.data.result.email,\n          imagePreview: res.data.result.image ? res.data.result.image : this.state.imagePreview,\n          imageIdentityPreview: res.data.result.identity_image\n            ? res.data.result.identity_image\n            : this.state.imageIdentityPreview,\n        });\n      }\n    });\n    this.getHistory(id);\n  }\n  getHistory(id) {\n    API.get(`${API_SERVER}v2/training/user-history/${id}`).then((res) => {\n      if (res.data.error) {\n        toast.error('Error read history');\n      } else {\n        this.setState({\n          history: res.data.result,\n        });\n      }\n    });\n  }\n\n  getUserData() {\n    API.get(`${USER_ME}${Storage.get('user').data.email}`).then((res) => {\n      if (res.status === 200) {\n        this.setState({\n          companyId: localStorage.getItem('companyID') ? localStorage.getItem('companyID') : res.data.result.company_id,\n        });\n        this.getCompany(this.state.companyId);\n      }\n    });\n  }\n\n  getCompany(id) {\n    API.get(`${API_SERVER}v2/training/company/${id}`).then((res) => {\n      if (res.data.error) {\n        toast.error('Error read company');\n      } else {\n        this.setState({ optionCompany: res.data.result });\n      }\n    });\n  }\n\n  closeModalPassword = (e) => {\n    this.setState({ modalPassword: false, newPassword: '' });\n  };\n\n  fetchProvince = async () => {\n    try {\n      const response = await API.get(`${API_SERVER}v2/training/provinces`);\n      const data = response.data.result.map((item) => ({ value: item.prov_id, label: item.prov_name }));\n      this.setState({ province: data });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  fetchCities = async (province_id) => {\n    try {\n      const response = await API.get(`${API_SERVER}v2/training/cities/${province_id}`);\n      const data = response.data.result.map((item) => ({ value: item.city_id, label: item.city_name }));\n      this.setState({ cities: data });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleChangeProvince = (data) => {\n    this.setState({ selectedProvince: data, selectedCity: null, cities: null });\n  };\n\n  handleChangeCity = (data) => {\n    this.setState({ selectedCity: data, city: data ? data.label : null });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.selectedProvince !== this.state.selectedProvince) {\n      if (this.state.selectedProvince) {\n        this.fetchCities(this.state.selectedProvince.value);\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.fetchProvince();\n    this.getUserData();\n    if (this.props.disabledForm && this.props.id) {\n      this.getUser(this.props.id);\n    } else if (this.props.match.params.id) {\n      this.getUser(this.props.match.params.id);\n    }\n    this.setState({\n      level: this.props.match.params.level ? this.props.match.params.level : 'user',\n      training_company_id: this.props.match.params.company !== '0' ? this.props.match.params.company : '',\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"pcoded-main-container\">\n        <div className=\"pcoded-wrapper\">\n          <div className=\"pcoded-content\">\n            <div className=\"pcoded-inner-content\">\n              <div className=\"main-body\">\n                <div className=\"page-wrapper\">\n                  <div className=\"floating-back\">\n                    <img src={`newasset/back-button.svg`} alt=\"\" width={90} onClick={this.goBack}></img>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-xl-12\">\n                      <div>\n                        <div className=\"card p-20\">\n                          <div className=\"row\">\n                            <div className=\"col-sm-10 m-b-20\">\n                              <strong className=\"f-w-bold f-18\" style={{ color: '#000' }}>\n                                {this.props.id ? 'Detail' : this.props.match.params.id ? 'Edit' : 'Create New'}{' '}\n                                {this.state.level === 'admin' ? 'Admin' : 'User'}\n                              </strong>\n                            </div>\n                            <div className=\"col-sm-2 m-b-20\">\n                              {this.props.disabledForm && (\n                                <button\n                                  onClick={this.props.goEdit}\n                                  className=\"btn btn-icademy-primary float-right\"\n                                  style={{ padding: '7px 8px !important', marginRight: 30 }}\n                                >\n                                  <i className=\"fa fa-edit\"></i>\n                                  Edit\n                                </button>\n                              )}\n                              {this.props.disabledForm && (\n                                <button\n                                  onClick={() => this.setState({ modalPassword: true })}\n                                  className=\"btn btn-icademy-primary float-right\"\n                                  style={{ padding: '7px 8px !important', marginRight: 30 }}\n                                >\n                                  <i className=\"fa fa-key\"></i>\n                                  Change Password\n                                </button>\n                              )}\n                            </div>\n                          </div>\n                          {Storage.get('user').data.level === 'client' ? null : (\n                            <div className=\"form-section\">\n                              <div className=\"row\">\n                                <div className=\"col-sm-12 m-b-20\">\n                                  <strong className=\"f-w-bold\" style={{ color: '#000', fontSize: '15px' }}>\n                                    Company\n                                  </strong>\n                                </div>\n                              </div>\n                              <div className=\"row\">\n                                <div className=\"form-field-top-label\">\n                                  <label for=\"training_company_id\">\n                                    Company Name<required>*</required>\n                                  </label>\n                                  <select\n                                    name=\"training_company_id\"\n                                    value={this.state.training_company_id}\n                                    id=\"training_company_id\"\n                                    onChange={this.handleChange}\n                                    disabled={this.state.disabledForm}\n                                  >\n                                    <option value=\"\">Select Company</option>\n                                    {this.state.optionCompany.map((item) => (\n                                      <option value={item.id} selected={this.state.training_company_id === item.id}>\n                                        {item.name}\n                                      </option>\n                                    ))}\n                                  </select>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n                          <div className=\"form-section\">\n                            <div className=\"row\">\n                              <div className=\"col-sm-12 m-b-20\">\n                                <strong className=\"f-w-bold\" style={{ color: '#000', fontSize: '15px' }}>\n                                  Personal Information\n                                </strong>\n                              </div>\n                            </div>\n                            <div className=\"row\">\n                              <div className=\"form-field-top-label\">\n                                <label for=\"image\">Profile Picture</label>\n                                <center>\n                                  <label style={{ cursor: 'pointer', borderRadius: '4px', overflow: 'hidden' }}>\n                                    <a href={this.state.imagePreview} target=\"_blank\">\n                                      <img\n                                        src={this.state.imagePreview}\n                                        style={{ objectFit: 'cover', width: '54.8px', height: '54.8px' }}\n                                      />\n                                    </a>\n                                  </label>\n                                  <label\n                                    for=\"image\"\n                                    style={{\n                                      cursor: 'pointer',\n                                      overflow: 'hidden',\n                                      display: this.state.disabledForm ? 'none' : 'block',\n                                    }}\n                                  >\n                                    <div className=\"button-bordered-grey\">\n                                      {this.state.image ? this.state.image.name : 'Choose file'}\n                                    </div>\n                                  </label>\n                                </center>\n                                <input\n                                  type=\"file\"\n                                  accept=\"image/*\"\n                                  name=\"image\"\n                                  id=\"image\"\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"name\">\n                                  Name<required>*</required>\n                                </label>\n                                <input\n                                  type=\"text\"\n                                  name=\"name\"\n                                  id=\"name\"\n                                  placeholder={!this.state.disabledForm && 'Input Name'}\n                                  value={this.state.name}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"born_place\">Born Place</label>\n                                <input\n                                  type=\"text\"\n                                  name=\"born_place\"\n                                  id=\"born_place\"\n                                  placeholder={!this.state.disabledForm && 'Input Born Place'}\n                                  value={this.state.born_place}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"born_date\">\n                                  Born Date<required>*</required>\n                                </label>\n                                <input\n                                  type=\"date\"\n                                  name=\"born_date\"\n                                  id=\"born_date\"\n                                  value={this.state.born_date}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"gender\">\n                                  Gender<required>*</required>\n                                </label>\n                                <select\n                                  name=\"gender\"\n                                  id=\"gender\"\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                >\n                                  <option value=\"\">Select Gender</option>\n                                  <option value=\"Male\" selected={this.state.gender === 'Male'}>\n                                    Male\n                                  </option>\n                                  <option value=\"Female\" selected={this.state.gender === 'Female'}>\n                                    Female\n                                  </option>\n                                </select>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"form-section\">\n                            <div className=\"row\">\n                              <div className=\"col-sm-12 m-b-20\">\n                                <strong className=\"f-w-bold\" style={{ color: '#000', fontSize: '15px' }}>\n                                  Identification\n                                </strong>\n                              </div>\n                            </div>\n                            <div className=\"row\">\n                              <div className=\"form-field-top-label\">\n                                <label for=\"imageIdentity\">\n                                  Identity Card Photo<required>*</required>\n                                </label>\n                                <center>\n                                  <label style={{ cursor: 'pointer', borderRadius: '4px', overflow: 'hidden' }}>\n                                    <a href={this.state.imageIdentityPreview} target=\"_blank\">\n                                      <img\n                                        src={this.state.imageIdentityPreview}\n                                        style={{ objectFit: 'cover', width: '54.8px', height: '54.8px' }}\n                                      />\n                                    </a>\n                                  </label>\n                                  <label\n                                    for=\"imageIdentity\"\n                                    style={{\n                                      cursor: 'pointer',\n                                      overflow: 'hidden',\n                                      display: this.state.disabledForm ? 'none' : 'block',\n                                    }}\n                                  >\n                                    <div className=\"button-bordered-grey\">\n                                      {this.state.imageIdentity ? this.state.imageIdentity.name : 'Choose file'}\n                                    </div>\n                                  </label>\n                                </center>\n                                <input\n                                  type=\"file\"\n                                  accept=\"image/*\"\n                                  name=\"imageIdentity\"\n                                  id=\"imageIdentity\"\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"identity\">\n                                  Identity Card Number<required>*</required>\n                                </label>\n                                <input\n                                  type=\"text\"\n                                  name=\"identity\"\n                                  id=\"identity\"\n                                  placeholder={!this.state.disabledForm && 'Input Identity Card Number'}\n                                  maxlength=\"16\"\n                                  value={this.state.identity}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"tin\">Tax Identification Number</label>\n                                <input\n                                  type=\"text\"\n                                  name=\"tin\"\n                                  id=\"tin\"\n                                  placeholder={!this.state.disabledForm && 'Input Tax Identification Number'}\n                                  value={this.state.tin}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"license_number\">License Number</label>\n                                <input\n                                  type=\"text\"\n                                  size=\"30\"\n                                  name=\"license_number\"\n                                  id=\"license_number\"\n                                  placeholder={\n                                    this.state.disabledForm || this.props.match.params.id ? '' : 'Input License Number'\n                                  }\n                                  value={this.state.license_number}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              {this.state.license_number ? (\n                                this.state.license_number.length &&\n                                !this.props.match.params.id &&\n                                !this.state.disabledForm ? (\n                                  <div className=\"form-field-top-label\">\n                                    <label for=\"expired\">\n                                      License Expired\n                                      <required style={{ fontSize: '11px' }}>\n                                        *Required if License Number filled\n                                      </required>\n                                    </label>\n                                    <input\n                                      type=\"date\"\n                                      name=\"expired\"\n                                      id=\"expired\"\n                                      value={this.state.expired}\n                                      onChange={this.handleChange}\n                                      disabled={this.state.disabledForm}\n                                    />\n                                  </div>\n                                ) : null\n                              ) : null}\n                            </div>\n                          </div>\n                          <div className=\"form-section\">\n                            <div className=\"row\">\n                              <div className=\"col-sm-12 m-b-20\">\n                                <strong className=\"f-w-bold\" style={{ color: '#000', fontSize: '15px' }}>\n                                  Address\n                                </strong>\n                              </div>\n                            </div>\n                            <div className=\"row\">\n                              <div className=\"form-field-top-label\">\n                                <label for=\"address\">\n                                  Address<required>*</required>\n                                </label>\n                                <textarea\n                                  name=\"address\"\n                                  rows=\"3\"\n                                  cols=\"60\"\n                                  id=\"address\"\n                                  placeholder={!this.state.disabledForm && 'Input Address'}\n                                  value={this.state.address}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                ></textarea>\n                              </div>\n                              <div\n                                className=\"form-field-top-label\"\n                                style={{ display: 'flex', flexDirection: 'column', width: '250px' }}\n                              >\n                                <label for=\"province\">\n                                  Province<required>*</required>\n                                </label>\n                                <ReactSelect\n                                  placeholder=\"Select Province\"\n                                  isClearable={true}\n                                  value={this.state.selectedProvince}\n                                  onChange={this.handleChangeProvince}\n                                  options={this.state.province}\n                                  isDisabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div\n                                className=\"form-field-top-label\"\n                                style={{ display: 'flex', flexDirection: 'column', width: '250px' }}\n                              >\n                                <label for=\"city\">\n                                  City<required>*</required>\n                                </label>\n                                <ReactSelect\n                                  placeholder=\"Select City\"\n                                  isClearable={true}\n                                  value={this.state.selectedCity}\n                                  onChange={this.handleChangeCity}\n                                  options={this.state.cities !== null ? this.state.cities : []}\n                                  isDisabled={this.state.disabledForm}\n                                />\n                              </div>\n                              {/* <div className=\"form-field-top-label\">\n                                                            <label for=\"street\">Street<required>*</required></label>\n                                                            <input type=\"text\" name=\"street\" id=\"street\" placeholder=\"Jl. Pahlawan Seribu\"/>\n                                                        </div>\n                                                        <div className=\"form-field-top-label\">\n                                                            <label for=\"province\">Province<required>*</required></label>\n                                                            <input type=\"text\" name=\"province\" id=\"province\" placeholder=\"Banten\"/>\n                                                        </div>\n                                                        <div className=\"form-field-top-label\">\n                                                            <label for=\"city\">City<required>*</required></label>\n                                                            <input type=\"text\" name=\"city\" id=\"city\" placeholder=\"Tangerang\"/>\n                                                        </div>\n                                                        <div className=\"form-field-top-label\">\n                                                            <label for=\"district\">District</label>\n                                                            <input type=\"text\" name=\"district\" id=\"district\" placeholder=\"Serpong\"/>\n                                                        </div>\n                                                        <div className=\"form-field-top-label\">\n                                                            <label for=\"subdistrict\">Sub-district</label>\n                                                            <input type=\"text\" name=\"subdistrict\" id=\"subdistrict\" placeholder=\"Lengkong Gudang\"/>\n                                                        </div>\n                                                        <div className=\"form-field-top-label\">\n                                                            <label for=\"postal\">Postal Code</label>\n                                                            <input type=\"text\" name=\"postal\" id=\"postal\" placeholder=\"15327\"/>\n                                                        </div> */}\n                            </div>\n                          </div>\n                          <div\n                            className={`form-section ${\n                              !this.props.disabledForm && this.state.history.length ? 'no-border' : ''\n                            }`}\n                          >\n                            <div className=\"row\">\n                              <div className=\"col-sm-12 m-b-20\">\n                                <strong className=\"f-w-bold\" style={{ color: '#000', fontSize: '15px' }}>\n                                  Contact\n                                </strong>\n                              </div>\n                            </div>\n                            <div className=\"row\">\n                              <div className=\"form-field-top-label\">\n                                <label for=\"phone\">\n                                  Phone Number<required>*</required>\n                                </label>\n                                <input\n                                  type=\"number\"\n                                  name=\"phone\"\n                                  id=\"phone\"\n                                  placeholder={!this.state.disabledForm && 'Input Phone Number'}\n                                  value={this.state.phone}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                              </div>\n                              <div className=\"form-field-top-label\">\n                                <label for=\"email\">\n                                  Email<required>*</required>\n                                </label>\n                                <input\n                                  type=\"text\"\n                                  size=\"50\"\n                                  name=\"email\"\n                                  id=\"email\"\n                                  placeholder={!this.state.disabledForm && 'Input Email'}\n                                  value={this.state.email}\n                                  onChange={this.handleChange}\n                                  disabled={this.state.disabledForm}\n                                />\n                                {/* <label for=\"phone\" style={{marginTop:10}}>By default the password is the same as email<required>*</required></label> */}\n                              </div>\n                            </div>\n                          </div>\n                          {this.state.history.length && this.props.disabledForm ? (\n                            <div className=\"form-section no-border\">\n                              <div className=\"row\">\n                                <div className=\"col-sm-12 m-b-20\">\n                                  <strong className=\"f-w-bold\" style={{ color: '#000', fontSize: '15px' }}>\n                                    Company History\n                                  </strong>\n                                </div>\n                              </div>\n                              <div className=\"row\">\n                                <table className=\"table-log\">\n                                  <tr>\n                                    <th>Time</th>\n                                    <th>Source Company</th>\n                                    <th>Destination Company</th>\n                                    <th>By</th>\n                                  </tr>\n                                  {this.state.history.map((item) => {\n                                    return (\n                                      <tr>\n                                        <td>{moment(item.created_at).local().format('DD-MM-YYYY HH:mm')}</td>\n                                        <td>{item.source}</td>\n                                        <td>{item.destination}</td>\n                                        <td>{item.creator}</td>\n                                      </tr>\n                                    );\n                                  })}\n                                </table>\n                              </div>\n                            </div>\n                          ) : null}\n                          <div className=\"row\" style={{ justifyContent: 'flex-end' }}>\n                            {!this.props.disabledForm && (\n                              <button\n                                onClick={this.save}\n                                disabled={this.state.isSaving}\n                                className=\"btn btn-icademy-primary float-right\"\n                                style={{ padding: '7px 8px !important', marginRight: 30 }}\n                              >\n                                <i className=\"fa fa-save\"></i>\n                                {this.state.isSaving ? 'Saving...' : 'Save'}\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal show={this.state.modalPassword} onHide={this.closeModalPassword}>\n          <Modal.Header closeButton>\n            <Modal.Title className=\"text-c-purple3 f-w-bold\" style={{ color: '#00478C' }}>\n              Change Password\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div className=\"form-field-top-label\">\n              <label for=\"name\">\n                New Password<required>*</required>\n              </label>\n              <input\n                type=\"password\"\n                name=\"newPassword\"\n                id=\"newPassword\"\n                value={this.state.newPassword}\n                onChange={this.handleChange}\n              />\n            </div>\n          </Modal.Body>\n          <Modal.Footer>\n            <button className=\"btn btm-icademy-primary btn-icademy-grey\" onClick={this.closeModalPassword}>\n              Cancel\n            </button>\n            <button\n              className=\"btn btn-icademy-primary\"\n              onClick={this.changePassword.bind(this)}\n              disabled={this.state.isSaving}\n            >\n              <i className=\"fa fa-save\"></i> {this.state.isSaving ? 'Saving...' : 'Save'}\n            </button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default FormUser;\n"],"sourceRoot":""}