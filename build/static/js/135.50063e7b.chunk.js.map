{"version":3,"sources":["components/principalEvaluasi/evaluasi.js","components/principalEvaluasi/index.js"],"names":["Evaluasi","state","guru","guruId","guruName","semester","semesterId","semesterName","kelas","kelasId","kelasName","pelajaran","pelajaranId","pelajaranName","isModal","gId","jId","sId","kId","pId","fileName","tempFile","Math","random","toString","isPreview","detailKinerja","formatKpi","menguasai","tidak","nilaiMurid","changeGuru","e","filter","kinerja","item","pengajar","target","value","findUnique","d","semester_id","getGuru","setState","nama","changeSemester","kelas_id","getSemester","changeKelas","pelajaran_id","getKelas","changePelajaran","getPelajaran","fetchNilaiMurid","openModal","getAttribute","submitKPI","preventDefault","form","FormData","append","API","post","API_SERVER","then","res","console","log","data","error","toast","warning","success","clearFilter","openPreview","detail","this","fetchKinerja","fetchNewestFormat","get","Storage","company_id","result","lulus","quiz","exam","task","length","belum","file","info","arr","predicate","found","forEach","Object","keys","map","key","dataEvaluasi","labels","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","className","style","paddingBottom","onChange","disabled","selected","onClick","options","scales","yAxes","ticks","beginAtZero","min","overflowX","background","border","textTransform","width","verticalAlign","rowSpan","colSpan","isLoading","i","no_induk","class","Component","EvaluasiPrincipal","props","goBack","bind","history","level","to","src","alt"],"mappings":"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","file":"static/js/135.50063e7b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Doughnut, Bar } from 'react-chartjs-2';\n\nimport Storage from '../../repository/storage';\nimport API, { API_SERVER } from '../../repository/api';\nimport { toast } from 'react-toastify'\nimport { Modal } from 'react-bootstrap';\n\nclass Evaluasi extends Component {\n\n  state = {\n    guru: [],\n    guruId: '',\n    guruName: '',\n\n    semester: [],\n    semesterId: '',\n    semesterName: '',\n\n    kelas: [],\n    kelasId: '',\n    kelasName: '',\n\n    pelajaran: [],\n    pelajaranId: '',\n    pelajaranName: '',\n\n    isModal: false,\n    gId: '',\n    jId: '',\n    sId: '',\n    kId: '',\n    pId: '',\n\n    fileName: '',\n    tempFile: Math.random().toString(36),\n\n    isPreview: false,\n    detailKinerja: {},\n\n    formatKpi: '',\n\n    menguasai: 0,\n    tidak: 0,\n\n    nilaiMurid: [],\n  }\n\n  changeGuru = e => {\n    let cc = [...this.state.kinerja];\n    let filter = cc.filter(item => item.pengajar == e.target.value)\n    let semester = this.findUnique(filter, d => d.semester_id)\n    let getGuru = [...this.state.guru].filter(item => item.pengajar == e.target.value)\n    this.setState({ guruId: e.target.value, kinerja: filter, guruName: getGuru[0].nama, semester })\n  }\n\n  changeSemester = e => {\n    let cc = [...this.state.kinerja];\n    let filter = cc.filter(item => item.semester_id == e.target.value)\n    let kelas = this.findUnique(filter, d => d.kelas_id)\n    let getSemester = [...this.state.semester].filter(item => item.semester_id == e.target.value)\n    this.setState({ semesterId: e.target.value, kinerja: filter, semesterName: getSemester[0].semester, kelas })\n  }\n\n  changeKelas = e => {\n    let cc = [...this.state.kinerja];\n    let filter = cc.filter(item => item.kelas_id == e.target.value)\n    let pelajaran = this.findUnique(filter, d => d.pelajaran_id)\n    let getKelas = [...this.state.kelas].filter(item => item.kelas_id == e.target.value)\n    this.setState({ kelasId: e.target.value, kinerja: filter, kelasName: getKelas[0].kelas, pelajaran })\n  }\n\n  changePelajaran = e => {\n    let cc = [...this.state.kinerja];\n    let filter = cc.filter(item => item.pelajaran_id == e.target.value)\n    let getPelajaran = [...this.state.pelajaran].filter(item => item.pelajaran_id == e.target.value)\n    this.setState({ pelajaranId: e.target.value, kinerja: filter, pelajaranName: getPelajaran[0].pelajaran })\n\n    this.fetchNilaiMurid(this.state.kelasId, e.target.value);\n  }\n\n  openModal = e => {\n    this.setState({\n      isModal: true,\n      jId: e.target.getAttribute('data-jadwal'),\n      gId: e.target.getAttribute('data-guru'),\n      sId: e.target.getAttribute('data-semester'),\n      kId: e.target.getAttribute('data-kelas'),\n      pId: e.target.getAttribute('data-pelajaran'),\n    })\n  }\n\n  submitKPI = e => {\n    e.preventDefault();\n    let form = new FormData();\n    form.append('file', this.state.fileName);\n    form.append('jadwalId', this.state.jId);\n    form.append('guruId', this.state.gId);\n    form.append('semesterId', this.state.sId);\n    form.append('kelasId', this.state.kId);\n    form.append('pelajaranId', this.state.pId);\n\n    //console.log('state: ', this.state)\n    API.post(`${API_SERVER}v2/principal/upload`, form).then(res => {\n      console.log('res: ', res.data);\n      if (res.data.error) toast.warning(`Error: upload KPI`)\n\n      toast.success(`Berhasil upload KPI Guru`);\n      this.clearFilter();\n    })\n  }\n\n  openPreview = e => {\n    let cc = [...this.state.kinerja];\n    let detail = cc[e.target.getAttribute('data-index')];\n    this.setState({ isPreview: true, detailKinerja: detail })\n  }\n\n  componentDidMount() {\n    this.fetchKinerja()\n    this.fetchNewestFormat()\n  }\n\n  clearPreview() {\n    this.setState({\n      isPreview: false,\n      detailKinerja: {}\n    })\n  }\n\n  clearFilter() {\n    API.get(`${API_SERVER}v2/principal/kpi-guru/${Storage.get('user').data.company_id}`).then(res => {\n      this.setState({\n        tempFile: Math.random().toString(36),\n        jId: '', sId: '', gId: '', kId: '', pId: '', fileName: '', isModal: false,\n        semesterId: '', guruId: '', kelasId: '', pelajaranId: '', kinerja: res.data.result,\n        guruName: '', semesterName: '', kelasName: '', pelajaranName: '', menguasai: '', tidak: '', nilaiMurid: []\n      })\n    })\n  }\n\n  fetchKinerja() {\n    API.get(`${API_SERVER}v2/principal/kpi-guru/${Storage.get('user').data.company_id}`).then(res => {\n\n      let guru = this.findUnique(res.data.result, d => d.pengajar)\n      // let semester = this.findUnique(res.data.result, d => d.semester_id)\n      // let kelas = this.findUnique(res.data.result, d => d.kelas_id)\n      // let pelajaran = this.findUnique(res.data.result, d => d.pelajaran_id)\n\n      this.setState({ kinerja: res.data.result, guru })\n    })\n  }\n\n  fetchNilaiMurid(kelasId, pelajaranId) {\n    console.log(`Query: ${kelasId} ${pelajaranId}`);\n\n    API.get(`${API_SERVER}v2/guru/nilai-kelas/${kelasId}/${pelajaranId}`).then(res => {\n\n      let lulus = res.data.result.filter(item => (item.quiz + item.exam + item.task) >= 50).length;\n      let belum = res.data.result.filter(item => (item.quiz + item.exam + item.task) < 50).length;\n\n      this.setState({ nilaiMurid: res.data.result, menguasai: lulus, tidak: belum })\n    })\n  }\n\n  fetchNewestFormat() {\n    API.get(`${API_SERVER}v2/learning-kpi/company/${Storage.get('user').data.company_id}`).then(res => {\n      if (res.data.result.length) {\n        this.setState({ formatKpi: res.data.result[res.data.result.length - 1].file })\n      } else {\n        toast.info(`Format KPI belum di upload oleh Admin.`)\n      }\n    })\n  }\n\n  findUnique(arr, predicate) {\n    var found = {};\n    arr.forEach(d => {\n      found[predicate(d)] = d;\n    });\n    return Object.keys(found).map(key => found[key]);\n  }\n\n  render() {\n\n    //console.log('state: ', this.state)\n\n    const dataEvaluasi = {\n      labels: ['Responden'],\n      datasets: [\n        {\n          label: 'Menguasai',\n          backgroundColor: '#28a745',\n          borderColor: '#0b2e13',\n          borderWidth: 1,\n          hoverBackgroundColor: '#1a692c',\n          hoverBorderColor: '#0b2e13',\n          data: [this.state.menguasai]\n        },\n        {\n          label: 'Tidak Menguasai',\n          backgroundColor: '#fa3e3e',\n          borderColor: '#b12e2e',\n          borderWidth: 1,\n          hoverBackgroundColor: '#7c2323',\n          hoverBorderColor: '#b12e2e',\n          data: [this.state.tidak]\n        }\n      ]\n    }\n\n    const options = {\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            min: 0\n          }\n        }]\n      }\n    };\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <div className=\"card\" style={{ paddingBottom: 10 }}>\n            <div className=\"row\">\n\n              <div className=\"col-xl-12 pl-5 mb-4\">\n                <h3 className=\"f-24 fc-skyblue f-w-800 mb-3 mt-3\">\n                  Laporan Evaluasi\n                  </h3>\n                <div className=\"form-group row\">\n                  <div className=\"col-sm-3\">\n                    <label>Guru</label>\n                    <select onChange={this.changeGuru} disabled={this.state.guruId} value={this.state.guruId} className=\"form-control\">\n                      <option value=\"\" selected disabled>Select</option>\n                      {\n                        this.state.guru.map(item => (\n                          <option value={item.pengajar}>{item.nama}</option>\n                        ))\n                      }\n                    </select>\n                  </div>\n\n                  <div className=\"col-sm-2\">\n                    <label>Semester</label>\n                    <select onChange={this.changeSemester} disabled={this.state.semesterId} value={this.state.semesterId} className=\"form-control\">\n                      <option value=\"\" selected disabled>Select</option>\n                      {\n                        this.state.semester.map(item => (\n                          <option value={item.semester_id}>{item.semester}</option>\n                        ))\n                      }\n                    </select>\n                  </div>\n\n                  <div className=\"col-sm-2\">\n                    <label>Kelas</label>\n                    <select onChange={this.changeKelas} disabled={this.state.kelasId} value={this.state.kelasId} className=\"form-control\" >\n                      <option value=\"\" selected disabled>Select</option>\n                      {\n                        this.state.kelas.map(item => (\n                          <option value={item.kelas_id}>{item.kelas}</option>\n                        ))\n                      }\n                    </select>\n                  </div>\n\n                  <div className=\"col-sm-2\">\n                    <label>Pelajaran</label>\n                    <select onChange={this.changePelajaran} disabled={this.state.pelajaranId} value={this.state.pelajaranId} className=\"form-control\" >\n                      <option value=\"\" selected disabled>Select</option>\n                      {\n                        this.state.pelajaran.map(item => (\n                          <option value={item.pelajaran_id}>{item.pelajaran}</option>\n                        ))\n                      }\n                    </select>\n                  </div>\n\n                  <div className=\"col-sm-2\">\n                    <button className=\"btn btn-v2 btn-success mt-4\" onClick={() => this.clearFilter()}>\n                      Reset Filter\n                      </button>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-xl-6 p-5\">\n                <Bar data={dataEvaluasi} options={options} />\n              </div>\n\n              <div className=\"col-xl-6 p-5\">\n                <div style={{ overflowX: \"auto\" }}>\n                  <table className=\"table\">\n                    <tr>\n                      <td style={{ background: '#FAFAFA', border: '4px solid white' }}><span className=\"f-w-800 f-14 text-c-grey \" style={{ textTransform: 'uppercase' }}>\n                        Nama Guru</span></td>\n                      <td style={{ background: '#F5F5F5', border: '4px solid white' }}>\n                        <b className=\"fc-skyblue\">{this.state.guruName}</b>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td width=\"200px\" style={{ background: '#FAFAFA', border: '4px solid white' }}><span className=\"f-w-800 f-14 text-c-grey \" style={{ textTransform: 'uppercase' }}>\n                        Semester</span></td>\n                      <td style={{ background: '#F5F5F5', border: '4px solid white' }}>\n                        <b className=\"fc-skyblue\">{this.state.semesterName}</b></td>\n                    </tr>\n                    <tr>\n                      <td width=\"200px\" style={{ background: '#FAFAFA', border: '4px solid white' }}><span className=\"f-w-800 f-14 text-c-grey \" style={{ textTransform: 'uppercase' }}>\n                        Nama Kelas</span></td>\n                      <td style={{ background: '#F5F5F5', border: '4px solid white' }}>\n                        <b className=\"fc-skyblue\">{this.state.kelasName}</b></td>\n                    </tr>\n                    <tr>\n                      <td width=\"200px\" style={{ background: '#FAFAFA', border: '4px solid white' }}><span className=\"f-w-800 f-14 text-c-grey \" style={{ textTransform: 'uppercase' }}>\n                        Mata Pelajaran</span></td>\n                      <td style={{ background: '#F5F5F5', border: '4px solid white' }}>\n                        <b className=\"fc-skyblue\">{this.state.pelajaranName}</b></td>\n                    </tr>\n\n                  </table>\n                </div>\n              </div>\n\n              <div className=\"col-xl-12 p-5\">\n\n                <table className=\"table table-striped table-bordered\">\n                  <thead>\n                    <tr className=\"text-center\">\n                      <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\"> NO </td>\n                      <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\"> NIK </td>\n                      <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\"> NAMA </td>\n                      <td colSpan=\"3\">NILAI HASIL BELAJAR</td>\n                      <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\">NILAI AKHIR</td>\n                      <td style={{ verticalAlign: 'middle' }} rowSpan=\"2\">STATUS</td>\n                    </tr>\n                    <tr className=\"text-center\">\n                      <td>TASK</td>\n                      <td>QUIZ</td>\n                      <td>EXAM</td>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    {\n                      this.state.isLoading &&\n                      <tr>\n                        <td className=\"text-center\" colSpan='8'>\n                          <span>Loading...</span>\n                        </td>\n                      </tr>\n                    }\n                    {\n                      this.state.nilaiMurid.map((item, i) => (\n                        <tr className=\"text-center\">\n                          <td>{i + 1}</td>\n                          <td>{item.no_induk}</td>\n                          <td>{item.nama}</td>\n                          <td>{item.task}</td>\n                          <td>{item.quiz}</td>\n                          <td>{item.exam}</td>\n                          <td>{item.task + item.quiz + item.exam}</td>\n                          <td>{(item.task + item.quiz + item.exam) >= 50 ? <span class=\"label label-success\">Lulus</span> : <span class=\"label label-danger\">Mengulang</span>}</td>\n                        </tr>\n                      ))\n                    }\n                  </tbody>\n                </table>\n\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n    );\n  }\n}\n\nexport default Evaluasi;\n","import React, { Component } from \"react\";\nimport Storage from '../../repository/storage';\n\nimport Evaluasi from './evaluasi';\nimport { Link } from 'react-router-dom'\n\n\n\nclass EvaluasiPrincipal extends Component {\n  constructor(props) {\n    super(props);\n    this.goBack = this.goBack.bind(this);\n  }\n  goBack() {\n    this.props.history.goBack();\n  }\n\n  render() {\n    let levelUser = Storage.get('user').data.level;\n    let access_project_admin = levelUser == 'admin' || levelUser == 'superadmin' ? true : false;\n    return (\n      <div className=\"pcoded-main-container\">\n        <div className=\"pcoded-wrapper\">\n          <div className=\"pcoded-content\">\n            <div className=\"pcoded-inner-content\">\n              <div className=\"main-body\">\n                <div className=\"page-wrapper\">\n\n                  <div className=\"floating-back\">\n                    <Link to={`/`}>\n                      <img\n                        src={`newasset/back-button.svg`}\n                        alt=\"\"\n                        width={90}\n                      ></img>\n                    </Link>\n                  </div>\n\n                  <div className=\"row\">\n                    <div className=\"col-xl-12\">\n                      <Evaluasi />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default EvaluasiPrincipal;\n"],"sourceRoot":""}