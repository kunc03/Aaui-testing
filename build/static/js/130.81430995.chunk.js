(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[130,143],{1501:function(e,a,t){"use strict";t.r(a);var l=t(224),n=t(6),r=t(11),c=t(13),s=t(12),i=t(14),m=t(0),o=t.n(m),u=t(2),d=t(3),E=t(24),p=t(15),v=(t(245),t(127),function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),m=0;m<r;m++)i[m]=arguments[m];return(t=Object(c.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(i)))).state={listSemester:[],semesterId:"",semesterInfo:{},jadwalKu:[],listKelas:[],kelasId:"",kelasInfo:{},listPelajaran:[],pelajaranId:"",pelajaranInfo:{},isLoading:!1,nilaiMurid:[],tahunAjaran:"",listTahunAjaran:[]},t.selectSemester=function(e){e.preventDefault();var a=e.target.value;d.l.get("".concat(d.a,"v2/kelas/company/").concat(u.a.get("user").data.company_id)).then((function(e){e.data.error&&E.b.warning("Error fetch data semester"),t.setState({semesterId:a,listKelas:e.data.result})}))},t.selectKelas=function(e){e.preventDefault();var a=e.target.value,n=Object(l.a)(t.state.jadwalKu).filter((function(e){return e.kelas_id===parseInt(a)}));t.setState({kelasId:a,listPelajaran:n})},t.selectPelajaran=function(e){e.preventDefault();var a=e.target.value;t.setState({isLoading:!0,pelajaranId:a,nilaiMurid:[]}),t.fetchNilaiMurid(t.state.kelasId,a,t.state.tahunAjaran)},t.selectTahunAjaran=function(e){var a=e.target.value;t.setState({tahunAjaran:a}),t.fetchJadwal(a)},t.resetFilter=function(e){e.preventDefault(),t.setState({semesterId:"",semesterInfo:{},listKelas:[],kelasId:"",kelasInfo:{},listPelajaran:[],pelajaranId:"",pelajaranInfo:{},isLoading:!1,nilaiMurid:[]})},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"fetchJadwal",value:function(e){var a=this;d.l.get("".concat(d.a,"v2/jadwal-mengajar/company/").concat(u.a.get("user").data.company_id,"?tahunAjaran=").concat(e)).then((function(e){e.data.error&&console.log("Error: fetch pelajaran"),a.setState({jadwalKu:e.data.result})}))}},{key:"fetchSemester",value:function(){var e=this;d.l.get("".concat(d.a,"v1/semester/company/").concat(u.a.get("user").data.company_id)).then((function(a){a.data.error&&E.b.warning("Error fetch data semester"),e.setState({listSemester:a.data.result})}))}},{key:"fetchNilaiMurid",value:function(e,a,t){var l=this;console.log("Query: ".concat(e," ").concat(a)),d.l.get("".concat(d.a,"v2/guru/nilai-kelas/").concat(e,"/").concat(a,"?tahunAjaran=").concat(t)).then((function(e){l.setState({nilaiMurid:e.data.result,isLoading:!1})}))}},{key:"componentDidMount",value:function(){for(var e=new Date,a=e.getMonth()<6?e.getFullYear()-1+"/"+e.getFullYear():e.getFullYear()+"/"+(e.getFullYear()+1),t=[],l=0;l<6;l++)t.push("".concat(e.getFullYear()-l,"/").concat(e.getFullYear()-l+1));this.setState({tahunAjaran:a,listTahunAjaran:t}),this.fetchJadwal(a),this.fetchSemester()}},{key:"render",value:function(){u.a.get("user").data.level;return o.a.createElement("div",{className:"pcoded-main-container"},o.a.createElement("div",{className:"pcoded-wrapper"},o.a.createElement("div",{className:"pcoded-content"},o.a.createElement("div",{className:"pcoded-inner-content"},o.a.createElement("div",{className:"main-body"},o.a.createElement("div",{className:"page-wrapper"},o.a.createElement("div",{className:"floating-back"},o.a.createElement(p.b,{to:"/"},o.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90}))),o.a.createElement("div",{className:"row mt-3"},o.a.createElement("div",{className:"col-xl-12"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h3",{className:"f-24 fc-skyblue f-w-800 mb-3"},"Laporan Kelas"),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("label",null,"Tahun Ajaran"),o.a.createElement("select",{onChange:this.selectTahunAjaran,value:this.state.tahunAjaran,className:"form-control",required:!0},o.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listTahunAjaran.map((function(e){return o.a.createElement("option",{value:e},e)})))),o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("label",null,"Semester"),o.a.createElement("select",{onChange:this.selectSemester,value:this.state.semesterId,className:"form-control",required:!0},o.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listSemester.map((function(e,a){return o.a.createElement("option",{key:a,value:e.semester_id},e.semester_name)})))),o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("label",null,"Kelas"),o.a.createElement("select",{onChange:this.selectKelas,value:this.state.kelasId,className:"form-control",required:!0},o.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listKelas.map((function(e,a){return o.a.createElement("option",{key:a,value:e.kelas_id},e.kelas_nama)})))),o.a.createElement("div",{className:"col-sm-3"},o.a.createElement("label",null,"Mata Pelajaran"),o.a.createElement("select",{onChange:this.selectPelajaran,value:this.state.pelajaranId,className:"form-control",required:!0},o.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listPelajaran.map((function(e,a){return o.a.createElement("option",{key:a,value:e.pelajaran_id},e.nama_pelajaran)})))),o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("label",null,"Action"),o.a.createElement("br",null),o.a.createElement("button",{className:"btn btn-v2 btn-info",type:"reset",onClick:this.resetFilter},"Reset"))))))),o.a.createElement("div",{className:"col-xl-12"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("table",{className:"table table-striped table-bordered"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"text-center"},o.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," NO "),o.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," NIK "),o.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"}," NAMA "),o.a.createElement("td",{colSpan:"3"},"NILAI HASIL BELAJAR"),o.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"NILAI AKHIR"),o.a.createElement("td",{style:{verticalAlign:"middle"},rowSpan:"2"},"STATUS")),o.a.createElement("tr",{className:"text-center"},o.a.createElement("td",null,"TASK"),o.a.createElement("td",null,"QUIZ"),o.a.createElement("td",null,"EXAM"))),o.a.createElement("tbody",null,this.state.isLoading&&o.a.createElement("tr",null,o.a.createElement("td",{className:"text-center",colSpan:"8"},o.a.createElement("span",null,"Loading..."))),this.state.nilaiMurid.map((function(e,a){return o.a.createElement("tr",{className:"text-center"},o.a.createElement("td",null,a+1),o.a.createElement("td",null,e.no_induk),o.a.createElement("td",null,e.nama),o.a.createElement("td",null,e.task),o.a.createElement("td",null,e.quiz),o.a.createElement("td",null,e.exam),o.a.createElement("td",null,e.task+e.quiz+e.exam),o.a.createElement("td",null,e.task+e.quiz+e.exam>=50?o.a.createElement("span",{class:"label label-success"},"Lulus"):o.a.createElement("span",{class:"label label-danger"},"Mengulang")))}))))))))))))))}}]),a}(m.Component));a.default=v},224:function(e,a,t){"use strict";function l(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.d(a,"a",(function(){return l}))}}]);
//# sourceMappingURL=130.81430995.chunk.js.map