(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[130],{1144:function(e,t,a){"use strict";a.r(t);var l=a(6),c=a(11),s=a(13),n=a(12),r=a(14),i=a(0),o=a.n(i),m=a(3),d=a(2),u=a(24),h=function(e){function t(){var e,a;Object(l.a)(this,t);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(n.a)(t)).call.apply(e,[this].concat(r)))).state={projectAdmin:"admin"===d.a.get("user").data.level,projectId:0,meeting:[],training:[],ghantt:[]},a.changeStatusWebsite=function(e){var t=e.target.getAttribute("data-id"),l=e.target.value;m.l.put("".concat(m.a,"v2/notification-alert/").concat(t,"/website"),{status_website:"1"===l?0:1}).then((function(e){200===e.status&&a.fetchAccess()}))},a.changeStatusMobile=function(e){var t=e.target.getAttribute("data-id"),l=e.target.value;m.l.put("".concat(m.a,"v2/notification-alert/").concat(t,"/mobile"),{status_mobile:"1"===l?0:1}).then((function(e){200===e.status&&a.fetchAccess()}))},a}return Object(r.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.l.get("".concat(m.a,"v1/project/").concat(d.a.get("user").data.level,"/").concat(d.a.get("user").data.user_id,"/").concat(localStorage.getItem("companyID")?localStorage.getItem("companyID"):d.a.get("user").data.company_id)).then((function(t){t.data.result.length?e.setState({projectId:t.data.result[0].id}):u.b.warning("Buat project terlebih dahulu.")})),this.fetchAccess()}},{key:"fetchAccess",value:function(){var e=this;m.l.get("".concat(m.a,"v2/notification-alert/").concat(localStorage.getItem("companyID")?localStorage.getItem("companyID"):d.a.get("user").data.company_id,"/admin")).then((function(t){if(200===t.status){var a=t.data.result.filter((function(e){return"meeting"===e.sub})),l=t.data.result.filter((function(e){return"training"===e.sub})),c=t.data.result.filter((function(e){return"gantt"===e.sub}));e.setState({meeting:a,training:l,ghantt:c})}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.meeting,l=t.training,c=t.ghantt;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("h3",{className:"f-w-bold f-18 mb-4 fc-blue p-l-20 "},"Notification"),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{class:"row "},o.a.createElement("div",{className:"col-sm-12",style:{marginTop:"10px"}},o.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},o.a.createElement("table",{className:"table table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{style:{borderBottom:"1px solid #000"}},o.a.createElement("td",{className:"f-w-bold f-14",style:{width:"45%"}},"Meeting"),o.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Mobile"),o.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Website"))),0===a.length?o.a.createElement("div",{className:"col-sm-12 mb-1"},"Not available"):a.map((function(t,a){return o.a.createElement("tbody",null,o.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},o.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},t.name),o.a.createElement("td",{align:"center"},o.a.createElement("label",{class:"switch"},o.a.createElement("input",{type:"checkbox",onChange:e.changeStatusMobile,"data-id":t.id_access,value:t.status,checked:t.status}),o.a.createElement("span",{class:"slider round"}))),o.a.createElement("td",{align:"center"},o.a.createElement("label",{class:"switch"},o.a.createElement("input",{type:"checkbox",onChange:e.changeStatusWebsite,"data-id":t.id_access,value:t.status_website,checked:t.status_website}),o.a.createElement("span",{class:"slider round"})))))})))),o.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},o.a.createElement("table",{className:"table table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{style:{borderBottom:"1px solid #000"}},o.a.createElement("td",{className:"f-w-bold f-14",style:{width:"45%"}},"Training"),o.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Mobile"),o.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Website"))),0===l.length?o.a.createElement("div",{className:"col-sm-12 mb-1"},"Not available"):l.map((function(t,a){return o.a.createElement("tbody",null,o.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},o.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},t.name),o.a.createElement("td",{align:"center"},o.a.createElement("label",{class:"switch"},o.a.createElement("input",{type:"checkbox",onChange:e.changeStatusMobile,"data-id":t.id_access,value:t.status,checked:t.status}),o.a.createElement("span",{class:"slider round"}))),o.a.createElement("td",{align:"center"},o.a.createElement("label",{class:"switch"},o.a.createElement("input",{type:"checkbox",onChange:e.changeStatusWebsite,"data-id":t.id_access,value:t.status,checked:t.status}),o.a.createElement("span",{class:"slider round"})))))})))),o.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},o.a.createElement("table",{className:"table table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{style:{borderBottom:"1px solid #000"}},o.a.createElement("td",{className:"f-w-bold f-14",style:{width:"45%"}},"Project Gantt Chart"," "),o.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Mobile"),o.a.createElement("td",{align:"center",className:"f-w-bold f-14"},"Website"))),0===c.length?o.a.createElement("div",{className:"col-sm-12 mb-1"},"Not available"):c.map((function(t,a){return o.a.createElement("tbody",null,o.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},o.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},t.name),o.a.createElement("td",{align:"center"},o.a.createElement("label",{class:"switch"},o.a.createElement("input",{type:"checkbox",onChange:e.changeStatusMobile,"data-id":t.id_access,value:t.status,checked:t.status}),o.a.createElement("span",{class:"slider round"}))),o.a.createElement("td",{align:"center"},o.a.createElement("label",{class:"switch"},o.a.createElement("input",{type:"checkbox",onChange:e.changeStatusWebsite,"data-id":t.id_access,value:t.status,checked:t.status}),o.a.createElement("span",{class:"slider round"})))))}))))))))))}}]),t}(o.a.Component);t.default=h}}]);
//# sourceMappingURL=130.a5931d8e.chunk.js.map