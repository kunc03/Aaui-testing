{"version":3,"sources":["components/principalPembelajaran/index.js"],"names":["PembelajaranPrincipal","React","Component","state","idPelajaran","namaPelajaran","kategori","kodePelajaran","kelas","listKelas","listPelajaran","openSilabus","pelajaranId","silabusId","pelajaranNama","sesi","topik","tujuan","deskripsi","jenis","files","tempFiles","Math","random","toString","silabus","nilaiTugas","nilaiKuis","nilaiUjian","openProsentase","e","preventDefault","this","setState","target","getAttribute","fetchProsentase","saveProsentase","form","tugas","kuis","ujian","API","put","API_SERVER","then","res","data","error","toast","warning","success","savePelajaran","console","log","fetchPelajaran","companyId","Storage","get","company_id","post","clearForm","selectPelajaran","idKelas","getKelas","result","nama_pelajaran","kode_pelajaran","deletePelajaran","delete","fetchSilabus","saveSilabus","addKuisSilabus","selectSilabus","id","parseInt","deleteSilabus","closeProsentase","closeModal","clearFormSilabus","componentDidMount","fetchKelas","info","uploadFile","FormData","i","length","append","render","level","className","to","src","alt","width","style","padding","map","item","key","onClick","data-id","pelajaran_id","data-title","show","onHide","bind","Header","closeButton","Title","color","Body","onSubmit","required","type","value","onChange","dialogClassName","href","colSpan"],"mappings":"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","file":"static/js/138.06d21aa4.chunk.js","sourcesContent":["import React from 'react';\nimport { toast } from \"react-toastify\";\n\nimport API, { API_SERVER } from '../../repository/api';\nimport Storage from '../../repository/storage';\n\nimport { Modal } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\n\nclass PembelajaranPrincipal extends React.Component {\n  state = {\n    idPelajaran: '',\n    namaPelajaran: '',\n    kategori: '',\n    kodePelajaran: '',\n    kelas: '',\n\n    listKelas: [],\n    listPelajaran: [],\n\n    openSilabus: false,\n    pelajaranId: '',\n    silabusId: '',\n    pelajaranNama: '',\n    sesi: '',\n    topik: '',\n    tujuan: '',\n    deskripsi: '',\n    jenis: 0,\n    files: null,\n    tempFiles: Math.random().toString(36),\n\n    silabus: [],\n\n    nilaiTugas: 0,\n    nilaiKuis: 0,\n    nilaiUjian: 0,\n    openProsentase: false,\n\n  }\n\n  openProsentase = e => {\n    e.preventDefault();\n    this.setState({\n      pelajaranId: e.target.getAttribute('data-id'),\n      pelajaranNama: e.target.getAttribute('data-title'),\n      openProsentase: true\n    })\n    this.fetchProsentase(e.target.getAttribute('data-id'))\n  }\n\n  saveProsentase = e => {\n    e.preventDefault()\n    let form = {\n      tugas: this.state.nilaiTugas,\n      kuis: this.state.nilaiKuis,\n      ujian: this.state.nilaiUjian\n    };\n    API.put(`${API_SERVER}v2/nilai-pelajaran/${this.state.pelajaranId}`, form).then(res => {\n      if(res.data.error) toast.warning(`Warning: update prosentase`)\n\n      toast.success('Set prosentase nilai berhasil disimpan');\n      this.fetchProsentase(this.state.pelajaranId)\n    })\n  }\n\n  fetchProsentase(pelajaranId) {\n    API.get(`${API_SERVER}v2/nilai-pelajaran/${pelajaranId}`).then(res => {\n      if(res.data.error) toast.warning(`Warning: fetch prosentase`);\n\n      this.setState({\n        nilaiTugas: res.data.result.tugas,\n        nilaiKuis: res.data.result.kuis,\n        nilaiUjian: res.data.result.ujian,\n      })\n    })\n  }\n\n  closeProsentase() {\n    this.setState({\n      nilaiTugas: 0,\n      nilaiKuis: 0,\n      nilaiUjian: 0,\n      openProsentase: false,\n    })\n  }\n\n  closeModal() {\n    this.fetchPelajaran();\n    this.setState({\n      openSilabus: false,\n      silabus: [],\n      pelajaranId: '',\n      pelajaranNama: '',\n      sesi: '',\n      topik: '',\n      tujuan: '',\n      deskripsi: '',\n      jenis: 0,\n    })\n  }\n\n  clearFormSilabus() {\n    this.setState({\n      silabusId: '',\n      sesi: '',\n      topik: '',\n      tujuan: '',\n      deskripsi: '',\n      jenis: 0,\n      files: null,\n      tempFiles: Math.random().toString(36),\n    })\n  }\n\n  savePelajaran = e => {\n    e.preventDefault();\n\n    if (this.state.idPelajaran) {\n      // action for update\n      console.log('update')\n      let form = {\n        namaPelajaran: this.state.namaPelajaran,\n        kategori: this.state.kategori,\n        kodePelajaran: this.state.kodePelajaran\n      }\n      API.put(`${API_SERVER}v2/pelajaran/update/${this.state.idPelajaran}`, form).then(res => {\n        if (res.data.error) toast.warning(\"Error create pelajaran\")\n\n        this.fetchPelajaran();\n      })\n\n    } else {\n      // action for insert\n      console.log('insert')\n      let form = {\n        companyId: Storage.get('user').data.company_id,\n        namaPelajaran: this.state.namaPelajaran,\n        kategori: this.state.kategori,\n        kodePelajaran: this.state.kodePelajaran\n      }\n      API.post(`${API_SERVER}v2/pelajaran/create`, form).then(res => {\n        if (res.data.error) toast.warning(\"Error create pelajaran\")\n\n        this.fetchPelajaran();\n      })\n    }\n\n    this.clearForm();\n\n  }\n\n  selectPelajaran = e => {\n    e.preventDefault();\n    let idKelas = e.target.getAttribute('data-id');\n    API.get(`${API_SERVER}v2/pelajaran/one/${idKelas}`).then(res => {\n      if (res.data.error) toast.warning(\"Error fetch data kelas\");\n      let getKelas = res.data.result;\n\n      this.setState({\n        idPelajaran: idKelas,\n        namaPelajaran: getKelas.nama_pelajaran,\n        kategori: getKelas.kategori,\n        kodePelajaran: getKelas.kode_pelajaran,\n      })\n    })\n  }\n\n  deletePelajaran = e => {\n    e.preventDefault();\n    API.delete(`${API_SERVER}v2/pelajaran/delete/${e.target.getAttribute('data-id')}`).then(res => {\n      if (res.data.error) toast.warning(`Error: delete pelajaran`)\n\n      this.fetchPelajaran();\n    })\n  }\n\n  clearForm() {\n    this.setState({\n      idPelajaran: '',\n      namaPelajaran: '',\n      kategori: '',\n      kodePelajaran: '',\n      kelas: ''\n    })\n  }\n\n  componentDidMount() {\n    this.fetchPelajaran();\n    this.fetchKelas();\n  }\n\n  fetchKelas() {\n    API.get(`${API_SERVER}v2/kelas/company/${Storage.get('user').data.company_id}`).then(res => {\n      if (res.data.error) toast.warning(\"Error fetch data kelas\");\n\n      this.setState({ listKelas: res.data.result })\n    })\n  }\n\n  fetchPelajaran() {\n    API.get(`${API_SERVER}v2/pelajaran/company/${Storage.get('user').data.company_id}`).then(res => {\n      if (res.data.error) toast.warning(\"Error fetch data kelas\");\n\n      this.setState({ listPelajaran: res.data.result })\n    })\n  }\n\n  openSilabus = e => {\n    e.preventDefault()\n    this.setState({\n      pelajaranId: e.target.getAttribute('data-id'),\n      pelajaranNama: e.target.getAttribute('data-title'),\n      openSilabus: true\n    })\n    this.fetchSilabus(e.target.getAttribute('data-id'));\n  }\n\n  fetchSilabus(pelajaranId) {\n    API.get(`${API_SERVER}v2/silabus/pelajaran/${pelajaranId}`).then(res => {\n      if (res.data.error) toast.info(`Error: fetch silabus`)\n\n      this.setState({ silabus: res.data.result })\n    })\n  }\n\n  addKuisSilabus(jenis) {\n    let form = {\n      pelajaranId: this.state.pelajaranId,\n      sesi: this.state.sesi,\n      topik: this.state.topik,\n      tujuan: this.state.tujuan,\n      deskripsi: this.state.deskripsi,\n      jenis: jenis,\n    }\n\n    if (this.state.silabusId) {\n      API.put(`${API_SERVER}v2/silabus/update/${this.state.silabusId}`, form).then(res => {\n        if (res.data.error) toast.warning(`Error: edit silabus`)\n\n        if (this.state.files) {\n          this.uploadFile(this.state.silabusId)\n        }\n\n        this.fetchSilabus(this.state.pelajaranId);\n        this.clearFormSilabus()\n      })\n    } else {\n      API.post(`${API_SERVER}v2/silabus/create`, form).then(res => {\n        if (res.data.error) toast.warning(`Error: create silabus`)\n\n        if (this.state.files) {\n          this.uploadFile(res.data.result.id)\n        }\n\n        this.fetchSilabus(this.state.pelajaranId);\n        this.clearFormSilabus()\n      })\n    }\n\n  }\n\n  saveSilabus = e => {\n    e.preventDefault();\n    this.addKuisSilabus(this.state.jenis);\n  }\n\n  uploadFile(silabusId) {\n    let form = new FormData();\n    for (var i = 0; i < this.state.files.length; i++) {\n      form.append('files', this.state.files[i]);\n    }\n\n    API.put(`${API_SERVER}v2/silabus/files/${silabusId}`, form).then(res => {\n      if (res.data.error) toast.warning(`Error: upload file`)\n\n      this.fetchSilabus(this.state.pelajaranId);\n    })\n  }\n\n  selectSilabus = e => {\n    API.get(`${API_SERVER}v2/silabus/id/${e.target.getAttribute('data-id')}`).then(res => {\n      if (res.data.error) toast.warning(`Error: get one silabus`)\n\n      this.setState({\n        silabusId: res.data.result.id,\n        sesi: res.data.result.sesi,\n        topik: res.data.result.topik,\n        tujuan: res.data.result.tujuan,\n        deskripsi: res.data.result.deskripsi,\n        jenis: parseInt(res.data.result.jenis),\n      })\n    })\n  }\n\n  deleteSilabus = e => {\n    e.preventDefault();\n    API.delete(`${API_SERVER}v2/silabus/delete/${e.target.getAttribute('data-id')}`).then(res => {\n      if (res.data.error) toast.warning(`Error: delete silabus`)\n\n      this.fetchSilabus(this.state.pelajaranId);\n    })\n  }\n\n  render() {\n    let levelUser = Storage.get('user').data.level;\n    let access_project_admin = levelUser == 'admin' || levelUser == 'superadmin' ? true : false;\n    return (\n      <div className=\"pcoded-main-container\">\n        <div className=\"pcoded-wrapper\">\n          <div className=\"pcoded-content\">\n            <div className=\"pcoded-inner-content\">\n              <div className=\"main-body\">\n                <div className=\"page-wrapper\">\n\n                <div className=\"floating-back\">\n                  <Link to={`/`}>\n                    <img\n                      src={`newasset/back-button.svg`}\n                      alt=\"\"\n                      width={90}\n                    />\n                  </Link>\n                </div>\n\n                  <div className=\"row mt-3\">\n                    <div className=\"col-sm-12\">\n                      <div className=\"card\">\n                        <div className=\"card-header\">\n                          <h4 className=\"f-w-900 f-18 fc-blue\">Pelajaran</h4>\n                        </div>\n                        <div className=\"card-body\" style={{ padding: '5px' }}>\n                          <table className=\"table table-striped\">\n                            <thead>\n                              <tr>\n                                <th>No</th>\n                                <th>Kode</th>\n                                <th>Pelajaran</th>\n                                <th>Category</th>\n                                <th>Silabus</th>\n                                <th>Bobot %</th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {\n                                this.state.listPelajaran.map((item, i) => (\n                                  <tr key={i}>\n                                    <td>{i + 1}</td>\n                                    <td>{item.kode_pelajaran}</td>\n                                    <td>{item.nama_pelajaran}</td>\n                                    <td>{item.kategori}</td>\n                                    <td style={{ padding: '12px' }}>\n                                      {\n                                      item.silabus > 0 ?\n                                      <span onClick={this.openSilabus} data-id={item.pelajaran_id} data-title={item.nama_pelajaran} className=\"silabus\"><i className={`fa fa-${item.silabus > 0 ? 'share' : 'plus'}`}></i> Open</span>\n                                      :\n                                      null\n                                      }\n                                    </td>\n                                    <td style={{ padding: '12px' }}>\n                                      <span onClick={this.openProsentase} data-id={item.pelajaran_id} data-title={item.nama_pelajaran} className=\"silabus\"><i className={`fa fa-cog`}></i> Open</span>\n                                    </td>\n\n                                  </tr>\n                                ))\n                              }\n                            </tbody>\n                          </table>\n\n                          <Modal\n                            show={this.state.openProsentase}\n                            onHide={this.closeProsentase.bind(this)}\n                          >\n                            <Modal.Header closeButton>\n                              <Modal.Title className=\"text-c-purple3 f-w-bold\" style={{ color: '#00478C' }}>\n                                {this.state.pelajaranNama}\n                              </Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                              <form onSubmit={this.saveProsentase}>\n                                <div className=\"form-group row\">\n                                  <div className=\"col-sm-4\">\n                                    <label>Tugas</label>\n                                    <input className=\"form-control\" required type=\"number\" value={this.state.nilaiTugas} onChange={e => this.setState({ nilaiTugas: e.target.value })} />\n                                  </div>\n                                  <div className=\"col-sm-4\">\n                                    <label>Kuis</label>\n                                    <input  className=\"form-control\" required type=\"number\" value={this.state.nilaiKuis} onChange={e => this.setState({ nilaiKuis: e.target.value })} />\n                                  </div>\n                                  <div className=\"col-sm-4\">\n                                    <label>Ujian</label>\n                                    <input  className=\"form-control\" required type=\"number\" value={this.state.nilaiUjian} onChange={e => this.setState({ nilaiUjian: e.target.value })} />\n                                  </div>\n                                </div>\n                              </form>\n                            </Modal.Body>\n                          </Modal>\n\n                          <Modal\n                            show={this.state.openSilabus}\n                            onHide={this.closeModal.bind(this)}\n                            dialogClassName=\"modal-lg modal-1000-large\"\n                          >\n                            <Modal.Header closeButton>\n                              <Modal.Title className=\"text-c-purple3 f-w-bold\" style={{ color: '#00478C' }}>\n                                Silabus {this.state.pelajaranNama}\n                              </Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n\n                              <table className=\"table table-striped\">\n                                <thead>\n                                  <tr>\n                                    <th>Sesi</th>\n                                    <th>Topik</th>\n                                    <th>Tujuan</th>\n                                    <th>Deskripsi</th>\n                                    <th>Files</th>\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                  {\n                                    this.state.silabus.map((item, i) => {\n                                      if (item.jenis === 0) {\n                                        return (\n                                          <tr key={i}>\n                                            <td>{item.sesi}</td>\n                                            <td>{item.topik}</td>\n                                            <td>{item.tujuan}</td>\n                                            <td>{item.deskripsi}</td>\n                                            <td style={{ padding: '12px' }}>\n                                              {\n                                                item.files ? <a href={item.files} target=\"_blank\" className=\"silabus\">Open</a> : 'No files'\n                                              }\n                                            </td>\n\n                                          </tr>\n                                        )\n                                      } else {\n                                        return (\n                                          <tr key={i}>\n                                            <td>{item.sesi}</td>\n                                            <td colSpan=\"4\" className=\"text-center\">{item.jenis == 1 ? 'Kuis' : 'Ujian'}</td>\n\n                                          </tr>\n                                        )\n                                      }\n                                    })\n                                  }\n                                </tbody>\n                              </table>\n                            </Modal.Body>\n                          </Modal>\n                        </div>\n                      </div>\n                    </div>\n\n                  </div>\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PembelajaranPrincipal;\n"],"sourceRoot":""}