{"version":3,"sources":["components/principalPembelajaran/index.js"],"names":["PembelajaranPrincipal","state","idPelajaran","namaPelajaran","kategori","kodePelajaran","kelas","listKelas","listPelajaran","openSilabus","pelajaranId","silabusId","pelajaranNama","sesi","topik","tujuan","deskripsi","jenis","files","tempFiles","Math","random","toString","silabus","nilaiTugas","nilaiKuis","nilaiUjian","openProsentase","e","preventDefault","setState","target","getAttribute","fetchProsentase","saveProsentase","form","tugas","kuis","ujian","API","put","API_SERVER","then","res","data","error","toast","warning","success","savePelajaran","console","log","fetchPelajaran","companyId","Storage","get","company_id","post","clearForm","selectPelajaran","idKelas","getKelas","result","nama_pelajaran","kode_pelajaran","deletePelajaran","delete","fetchSilabus","saveSilabus","addKuisSilabus","selectSilabus","id","parseInt","deleteSilabus","this","fetchKelas","info","uploadFile","clearFormSilabus","FormData","i","length","append","level","className","to","src","alt","width","style","padding","map","item","key","onClick","data-id","pelajaran_id","data-title","show","onHide","closeProsentase","bind","Header","closeButton","Title","color","Body","onSubmit","required","type","value","onChange","closeModal","dialogClassName","href","colSpan","React","Component"],"mappings":"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","file":"static/js/137.2d4c0c76.chunk.js","sourcesContent":["import React from 'react';\nimport { toast } from \"react-toastify\";\n\nimport API, { API_SERVER } from '../../repository/api';\nimport Storage from '../../repository/storage';\n\nimport { Modal } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\n\nclass PembelajaranPrincipal extends React.Component {\n  state = {\n    idPelajaran: '',\n    namaPelajaran: '',\n    kategori: '',\n    kodePelajaran: '',\n    kelas: '',\n\n    listKelas: [],\n    listPelajaran: [],\n\n    openSilabus: false,\n    pelajaranId: '',\n    silabusId: '',\n    pelajaranNama: '',\n    sesi: '',\n    topik: '',\n    tujuan: '',\n    deskripsi: '',\n    jenis: 0,\n    files: null,\n    tempFiles: Math.random().toString(36),\n\n    silabus: [],\n\n    nilaiTugas: 0,\n    nilaiKuis: 0,\n    nilaiUjian: 0,\n    openProsentase: false,\n\n  }\n\n  openProsentase = e => {\n    e.preventDefault();\n    this.setState({\n      pelajaranId: e.target.getAttribute('data-id'),\n      pelajaranNama: e.target.getAttribute('data-title'),\n      openProsentase: true\n    })\n    this.fetchProsentase(e.target.getAttribute('data-id'))\n  }\n\n  saveProsentase = e => {\n    e.preventDefault()\n    let form = {\n      tugas: this.state.nilaiTugas,\n      kuis: this.state.nilaiKuis,\n      ujian: this.state.nilaiUjian\n    };\n    API.put(`${API_SERVER}v2/nilai-pelajaran/${this.state.pelajaranId}`, form).then(res => {\n      if(res.data.error) toast.warning(`Warning: update prosentase`)\n\n      toast.success('Set prosentase nilai berhasil disimpan');\n      this.fetchProsentase(this.state.pelajaranId)\n    })\n  }\n\n  fetchProsentase(pelajaranId) {\n    API.get(`${API_SERVER}v2/nilai-pelajaran/${pelajaranId}`).then(res => {\n      if(res.data.error) toast.warning(`Warning: fetch prosentase`);\n\n      this.setState({\n        nilaiTugas: res.data.result.tugas,\n        nilaiKuis: res.data.result.kuis,\n        nilaiUjian: res.data.result.ujian,\n      })\n    })\n  }\n\n  closeProsentase() {\n    this.setState({\n      nilaiTugas: 0,\n      nilaiKuis: 0,\n      nilaiUjian: 0,\n      openProsentase: false,\n    })\n  }\n\n  closeModal() {\n    this.fetchPelajaran();\n    this.setState({\n      openSilabus: false,\n      silabus: [],\n      pelajaranId: '',\n      pelajaranNama: '',\n      sesi: '',\n      topik: '',\n      tujuan: '',\n      deskripsi: '',\n      jenis: 0,\n    })\n  }\n\n  clearFormSilabus() {\n    this.setState({\n      silabusId: '',\n      sesi: '',\n      topik: '',\n      tujuan: '',\n      deskripsi: '',\n      jenis: 0,\n      files: null,\n      tempFiles: Math.random().toString(36),\n    })\n  }\n\n  savePelajaran = e => {\n    e.preventDefault();\n\n    if (this.state.idPelajaran) {\n      // action for update\n      console.log('update')\n      let form = {\n        namaPelajaran: this.state.namaPelajaran,\n        kategori: this.state.kategori,\n        kodePelajaran: this.state.kodePelajaran\n      }\n      API.put(`${API_SERVER}v2/pelajaran/update/${this.state.idPelajaran}`, form).then(res => {\n        if (res.data.error) toast.warning(\"Error create pelajaran\")\n\n        this.fetchPelajaran();\n      })\n\n    } else {\n      // action for insert\n      console.log('insert')\n      let form = {\n        companyId: Storage.get('user').data.company_id,\n        namaPelajaran: this.state.namaPelajaran,\n        kategori: this.state.kategori,\n        kodePelajaran: this.state.kodePelajaran\n      }\n      API.post(`${API_SERVER}v2/pelajaran/create`, form).then(res => {\n        if (res.data.error) toast.warning(\"Error create pelajaran\")\n\n        this.fetchPelajaran();\n      })\n    }\n\n    this.clearForm();\n\n  }\n\n  selectPelajaran = e => {\n    e.preventDefault();\n    let idKelas = e.target.getAttribute('data-id');\n    API.get(`${API_SERVER}v2/pelajaran/one/${idKelas}`).then(res => {\n      if (res.data.error) toast.warning(\"Error fetch data kelas\");\n      let getKelas = res.data.result;\n\n      this.setState({\n        idPelajaran: idKelas,\n        namaPelajaran: getKelas.nama_pelajaran,\n        kategori: getKelas.kategori,\n        kodePelajaran: getKelas.kode_pelajaran,\n      })\n    })\n  }\n\n  deletePelajaran = e => {\n    e.preventDefault();\n    API.delete(`${API_SERVER}v2/pelajaran/delete/${e.target.getAttribute('data-id')}`).then(res => {\n      if (res.data.error) toast.warning(`Error: delete pelajaran`)\n\n      this.fetchPelajaran();\n    })\n  }\n\n  clearForm() {\n    this.setState({\n      idPelajaran: '',\n      namaPelajaran: '',\n      kategori: '',\n      kodePelajaran: '',\n      kelas: ''\n    })\n  }\n\n  componentDidMount() {\n    this.fetchPelajaran();\n    this.fetchKelas();\n  }\n\n  fetchKelas() {\n    API.get(`${API_SERVER}v2/kelas/company/${Storage.get('user').data.company_id}`).then(res => {\n      if (res.data.error) toast.warning(\"Error fetch data kelas\");\n\n      this.setState({ listKelas: res.data.result })\n    })\n  }\n\n  fetchPelajaran() {\n    API.get(`${API_SERVER}v2/pelajaran/company/${Storage.get('user').data.company_id}`).then(res => {\n      if (res.data.error) toast.warning(\"Error fetch data kelas\");\n\n      this.setState({ listPelajaran: res.data.result })\n    })\n  }\n\n  openSilabus = e => {\n    e.preventDefault()\n    this.setState({\n      pelajaranId: e.target.getAttribute('data-id'),\n      pelajaranNama: e.target.getAttribute('data-title'),\n      openSilabus: true\n    })\n    this.fetchSilabus(e.target.getAttribute('data-id'));\n  }\n\n  fetchSilabus(pelajaranId) {\n    API.get(`${API_SERVER}v2/silabus/pelajaran/${pelajaranId}`).then(res => {\n      if (res.data.error) toast.info(`Error: fetch silabus`)\n\n      this.setState({ silabus: res.data.result })\n    })\n  }\n\n  addKuisSilabus(jenis) {\n    let form = {\n      pelajaranId: this.state.pelajaranId,\n      sesi: this.state.sesi,\n      topik: this.state.topik,\n      tujuan: this.state.tujuan,\n      deskripsi: this.state.deskripsi,\n      jenis: jenis,\n    }\n\n    if (this.state.silabusId) {\n      API.put(`${API_SERVER}v2/silabus/update/${this.state.silabusId}`, form).then(res => {\n        if (res.data.error) toast.warning(`Error: edit silabus`)\n\n        if (this.state.files) {\n          this.uploadFile(this.state.silabusId)\n        }\n\n        this.fetchSilabus(this.state.pelajaranId);\n        this.clearFormSilabus()\n      })\n    } else {\n      API.post(`${API_SERVER}v2/silabus/create`, form).then(res => {\n        if (res.data.error) toast.warning(`Error: create silabus`)\n\n        if (this.state.files) {\n          this.uploadFile(res.data.result.id)\n        }\n\n        this.fetchSilabus(this.state.pelajaranId);\n        this.clearFormSilabus()\n      })\n    }\n\n  }\n\n  saveSilabus = e => {\n    e.preventDefault();\n    this.addKuisSilabus(this.state.jenis);\n  }\n\n  uploadFile(silabusId) {\n    let form = new FormData();\n    for (var i = 0; i < this.state.files.length; i++) {\n      form.append('files', this.state.files[i]);\n    }\n\n    API.put(`${API_SERVER}v2/silabus/files/${silabusId}`, form).then(res => {\n      if (res.data.error) toast.warning(`Error: upload file`)\n\n      this.fetchSilabus(this.state.pelajaranId);\n    })\n  }\n\n  selectSilabus = e => {\n    API.get(`${API_SERVER}v2/silabus/id/${e.target.getAttribute('data-id')}`).then(res => {\n      if (res.data.error) toast.warning(`Error: get one silabus`)\n\n      this.setState({\n        silabusId: res.data.result.id,\n        sesi: res.data.result.sesi,\n        topik: res.data.result.topik,\n        tujuan: res.data.result.tujuan,\n        deskripsi: res.data.result.deskripsi,\n        jenis: parseInt(res.data.result.jenis),\n      })\n    })\n  }\n\n  deleteSilabus = e => {\n    e.preventDefault();\n    API.delete(`${API_SERVER}v2/silabus/delete/${e.target.getAttribute('data-id')}`).then(res => {\n      if (res.data.error) toast.warning(`Error: delete silabus`)\n\n      this.fetchSilabus(this.state.pelajaranId);\n    })\n  }\n\n  render() {\n    let levelUser = Storage.get('user').data.level;\n    let access_project_admin = levelUser == 'admin' || levelUser == 'superadmin' ? true : false;\n    return (\n      <div className=\"pcoded-main-container\">\n        <div className=\"pcoded-wrapper\">\n          <div className=\"pcoded-content\">\n            <div className=\"pcoded-inner-content\">\n              <div className=\"main-body\">\n                <div className=\"page-wrapper\">\n\n                <div className=\"floating-back\">\n                  <Link to={`/`}>\n                    <img\n                      src={`newasset/back-button.svg`}\n                      alt=\"\"\n                      width={90}\n                    />\n                  </Link>\n                </div>\n\n                  <div className=\"row mt-3\">\n                    <div className=\"col-sm-12\">\n                      <div className=\"card\">\n                        <div className=\"card-header\">\n                          <h4 className=\"f-w-900 f-18 fc-blue\">Pelajaran</h4>\n                        </div>\n                        <div className=\"card-body\" style={{ padding: '5px' }}>\n                          <table className=\"table table-striped\">\n                            <thead>\n                              <tr>\n                                <th>No</th>\n                                <th>Kode</th>\n                                <th>Pelajaran</th>\n                                <th>Category</th>\n                                <th>Silabus</th>\n                                <th>Bobot %</th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {\n                                this.state.listPelajaran.map((item, i) => (\n                                  <tr key={i}>\n                                    <td>{i + 1}</td>\n                                    <td>{item.kode_pelajaran}</td>\n                                    <td>{item.nama_pelajaran}</td>\n                                    <td>{item.kategori}</td>\n                                    <td style={{ padding: '12px' }}>\n                                      {\n                                      item.silabus > 0 ?\n                                      <span onClick={this.openSilabus} data-id={item.pelajaran_id} data-title={item.nama_pelajaran} className=\"silabus\"><i className={`fa fa-${item.silabus > 0 ? 'share' : 'plus'}`}></i> Open</span>\n                                      :\n                                      null\n                                      }\n                                    </td>\n                                    <td style={{ padding: '12px' }}>\n                                      <span onClick={this.openProsentase} data-id={item.pelajaran_id} data-title={item.nama_pelajaran} className=\"silabus\"><i className={`fa fa-cog`}></i> Open</span>\n                                    </td>\n\n                                  </tr>\n                                ))\n                              }\n                            </tbody>\n                          </table>\n\n                          <Modal\n                            show={this.state.openProsentase}\n                            onHide={this.closeProsentase.bind(this)}\n                          >\n                            <Modal.Header closeButton>\n                              <Modal.Title className=\"text-c-purple3 f-w-bold\" style={{ color: '#00478C' }}>\n                                {this.state.pelajaranNama}\n                              </Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                              <form onSubmit={this.saveProsentase}>\n                                <div className=\"form-group row\">\n                                  <div className=\"col-sm-4\">\n                                    <label>Tugas</label>\n                                    <input className=\"form-control\" required type=\"number\" value={this.state.nilaiTugas} onChange={e => this.setState({ nilaiTugas: e.target.value })} />\n                                  </div>\n                                  <div className=\"col-sm-4\">\n                                    <label>Kuis</label>\n                                    <input  className=\"form-control\" required type=\"number\" value={this.state.nilaiKuis} onChange={e => this.setState({ nilaiKuis: e.target.value })} />\n                                  </div>\n                                  <div className=\"col-sm-4\">\n                                    <label>Ujian</label>\n                                    <input  className=\"form-control\" required type=\"number\" value={this.state.nilaiUjian} onChange={e => this.setState({ nilaiUjian: e.target.value })} />\n                                  </div>\n                                </div>\n                              </form>\n                            </Modal.Body>\n                          </Modal>\n\n                          <Modal\n                            show={this.state.openSilabus}\n                            onHide={this.closeModal.bind(this)}\n                            dialogClassName=\"modal-lg modal-1000-large\"\n                          >\n                            <Modal.Header closeButton>\n                              <Modal.Title className=\"text-c-purple3 f-w-bold\" style={{ color: '#00478C' }}>\n                                Silabus {this.state.pelajaranNama}\n                              </Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n\n                              <table className=\"table table-striped\">\n                                <thead>\n                                  <tr>\n                                    <th>Sesi</th>\n                                    <th>Topik</th>\n                                    <th>Tujuan</th>\n                                    <th>Deskripsi</th>\n                                    <th>Files</th>\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                  {\n                                    this.state.silabus.map((item, i) => {\n                                      if (item.jenis === 0) {\n                                        return (\n                                          <tr key={i}>\n                                            <td>{item.sesi}</td>\n                                            <td>{item.topik}</td>\n                                            <td>{item.tujuan}</td>\n                                            <td>{item.deskripsi}</td>\n                                            <td style={{ padding: '12px' }}>\n                                              {\n                                                item.files ? <a href={item.files} target=\"_blank\" className=\"silabus\">Open</a> : 'No files'\n                                              }\n                                            </td>\n\n                                          </tr>\n                                        )\n                                      } else {\n                                        return (\n                                          <tr key={i}>\n                                            <td>{item.sesi}</td>\n                                            <td colSpan=\"4\" className=\"text-center\">{item.jenis == 1 ? 'Kuis' : 'Ujian'}</td>\n\n                                          </tr>\n                                        )\n                                      }\n                                    })\n                                  }\n                                </tbody>\n                              </table>\n                            </Modal.Body>\n                          </Modal>\n                        </div>\n                      </div>\n                    </div>\n\n                  </div>\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PembelajaranPrincipal;\n"],"sourceRoot":""}