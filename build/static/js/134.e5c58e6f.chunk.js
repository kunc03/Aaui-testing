(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[134],{1496:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),s=t(2),r=(t(1361),t(10)),i=t(463),c=t(1613),u=t(3),m=t(18),d=t(19),o=t.n(d);class h extends l.Component{constructor(){super(...arguments),this.state={muridId:"",infoMurid:{},kurikulum:[],openSilabus:!1,pelajaranId:"",pelajaranNama:"",silabus:[],nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,tahunAjaran:"",listTahunAjaran:[],semester:[],semesterId:""},this.openProsentase=e=>{e.preventDefault(),this.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openProsentase:!0}),this.fetchProsentase(e.target.getAttribute("data-id"))},this.openSilabus=e=>{e.preventDefault(),this.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openSilabus:!0}),this.fetchSilabus(e.target.getAttribute("data-id"))},this.selectTahunAjaran=e=>{const{value:a}=e.target;this.setState({tahunAjaran:a,pelajaran:[]}),this.fetchAnakSaya(s.a.get("user").data.user_id,a)},this.selectSemester=e=>{const{value:a}=e.target;u.l.get("".concat(u.a,"v2/parents/my-murid/").concat(s.a.get("user").data.user_id,"?tahunAjaran=").concat(this.state.tahunAjaran)).then(e=>{let{result:t}=e.data;this.setState({infoMurid:t,semester:e.data.semester,semesterId:a}),this.fetchKurikulum(t.kurikulum)})}}closeProsentase(){this.setState({nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,openProsentase:!1})}fetchProsentase(e){u.l.get("".concat(u.a,"v2/nilai-pelajaran/").concat(e)).then(e=>{e.data.error&&m.b.warning("Warning: fetch prosentase"),this.setState({nilaiTugas:e.data.result.tugas,nilaiKuis:e.data.result.kuis,nilaiUjian:e.data.result.ujian})})}fetchSilabus(e){u.l.get("".concat(u.a,"v2/silabus/pelajaran/").concat(e)).then(e=>{e.data.error&&m.b.info("Error: fetch silabus"),this.setState({silabus:e.data.result})})}closeModal(){this.setState({openSilabus:!1,silabus:[],pelajaranId:"",pelajaranNama:""})}fetchKurikulum(e){u.l.get("".concat(u.a,"v2/kurikulum/id/").concat(e)).then(e=>{this.setState({kurikulum:e.data.result})})}fetchAnakSaya(e,a){u.l.get("".concat(u.a,"v2/parents/my-murid/").concat(e,"?tahunAjaran=").concat(a)).then(e=>{let{result:a}=e.data;this.setState({infoMurid:a,semester:e.data.semester,semesterId:e.data.semester.length?e.data.semester[0].semester_id:""}),this.fetchKurikulum(a.kurikulum)})}componentDidMount(){let e=new Date,a=e.getMonth()<6?e.getFullYear()-1+"/"+e.getFullYear():e.getFullYear()+"/"+(e.getFullYear()+1),t=[];for(var l=0;l<6;l++)t.push("".concat(e.getFullYear()-l,"/").concat(e.getFullYear()-l+1));this.setState({tahunAjaran:a,listTahunAjaran:t}),this.fetchAnakSaya(s.a.get("user").data.user_id,a)}render(){return n.a.createElement("div",{className:"pcoded-main-container"},n.a.createElement("div",{className:"pcoded-wrapper"},n.a.createElement("div",{className:"pcoded-content"},n.a.createElement("div",{className:"pcoded-inner-content"},n.a.createElement("div",{className:"main-body"},n.a.createElement("div",{className:"page-wrapper"},n.a.createElement("div",{className:"floating-back"},n.a.createElement(r.b,{to:"/"},n.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement(i.a,null,n.a.createElement(i.a.Body,null,n.a.createElement("h4",{className:"f-w-900 f-18 fc-blue"},"Informasi Murid"),n.a.createElement("table",null,n.a.createElement("tr",null,n.a.createElement("td",{width:"120px"},"Nama Murid"),n.a.createElement("td",null,n.a.createElement("b",null,this.state.infoMurid.nama_murid))),n.a.createElement("tr",null,n.a.createElement("td",null,"NIK Murid"),n.a.createElement("td",null,n.a.createElement("b",null,this.state.infoMurid.nik_murid))),n.a.createElement("tr",null,n.a.createElement("td",null,"Tahun Ajaran"),n.a.createElement("td",null,n.a.createElement("select",{style:{padding:"2px"},className:"mr-2",onChange:this.selectTahunAjaran,value:this.state.tahunAjaran},n.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listTahunAjaran.map(e=>n.a.createElement("option",{value:e},e))))),n.a.createElement("tr",null,n.a.createElement("td",null,"Semester"),n.a.createElement("td",null,n.a.createElement("select",{style:{padding:"2px"},className:"mr-2",onChange:this.selectSemester,value:this.state.semesterId},n.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.semester.map(e=>n.a.createElement("option",{value:e.semester_id},e.semester_name))))),n.a.createElement("tr",null,n.a.createElement("td",null,"Kelas"),n.a.createElement("td",null,n.a.createElement("b",null,this.state.infoMurid.kelas_nama))),n.a.createElement("tr",null,n.a.createElement("td",null,"Kurikulum"),n.a.createElement("td",null,n.a.createElement("b",null,this.state.infoMurid.kurikulum_name)))))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{class:"col-sm-12"},n.a.createElement(i.a,null,n.a.createElement(i.a.Body,null,n.a.createElement("h4",{className:"f-w-900 f-18 fc-blue"},this.state.infoMurid.kurikulum_name),n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{color:"black"}},"No"),n.a.createElement("th",{style:{color:"black"}},"Kode"),n.a.createElement("th",{style:{color:"black"}},"Mata Pelajaran"),n.a.createElement("th",{style:{color:"black"}},"Silabus"),n.a.createElement("th",{style:{color:"black"}},"Bobot"),n.a.createElement("th",{style:{color:"black"}},"Created At"))),n.a.createElement("tbody",null,this.state.kurikulum.map((e,a)=>n.a.createElement("tr",{key:e.title+"-"+e.start},n.a.createElement("td",{style:{textTransform:"capitalize"}},a+1),n.a.createElement("td",null,e.kode_pelajaran),n.a.createElement("td",null,e.nama_pelajaran),n.a.createElement("td",{style:{padding:"12px"}},n.a.createElement("span",{onClick:this.openSilabus,"data-id":e.mapel_id,"data-title":e.nama_pelajaran,className:"silabus"},"Lihat")),n.a.createElement("td",{style:{padding:"12px"}},n.a.createElement("span",{onClick:this.openProsentase,"data-id":e.mapel_id,"data-title":e.nama_pelajaran,className:"silabus"},"Lihat")),n.a.createElement("td",null,o()(e.created_at).format("DD/MM/YYYY HH:mm")))))))),n.a.createElement(c.a,{show:this.state.openSilabus,onHide:this.closeModal.bind(this),dialogClassName:"modal-xlg"},n.a.createElement(c.a.Header,{closeButton:!0},n.a.createElement(c.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Silabus ",this.state.pelajaranNama)),n.a.createElement(c.a.Body,null,n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sesi"),n.a.createElement("th",null,"Topik"),n.a.createElement("th",null,"Tujuan"),n.a.createElement("th",null,"Files"),n.a.createElement("th",null,"Periode"),n.a.createElement("th",null,"Durasi"),n.a.createElement("th",null,"Deskripsi"))),n.a.createElement("tbody",null,this.state.silabus.map((e,a)=>0===e.jenis?n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.sesi),n.a.createElement("td",null,e.topik),n.a.createElement("td",null,e.tujuan),n.a.createElement("td",{style:{padding:"12px"}},e.files?n.a.createElement("a",{href:e.files,target:"_blank",className:"silabus"},"Open"):"No files"),n.a.createElement("td",null,e.periode),n.a.createElement("td",null,e.durasi," menit"),n.a.createElement("td",null,e.deskripsi)):n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.sesi),n.a.createElement("td",{colSpan:"3",className:"text-center"},1==e.jenis?"Kuis":"Ujian"),n.a.createElement("td",null,e.periode),n.a.createElement("td",null,e.durasi," menit"),n.a.createElement("td",null,e.deskripsi))))))),n.a.createElement(c.a,{show:this.state.openProsentase,onHide:this.closeProsentase.bind(this)},n.a.createElement(c.a.Header,{closeButton:!0},n.a.createElement(c.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},this.state.pelajaranNama)),n.a.createElement(c.a.Body,null,n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("label",null,"Tugas (%)"),n.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiTugas,onChange:e=>this.setState({nilaiTugas:e.target.value})})),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("label",null,"Kuis (%)"),n.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiKuis,onChange:e=>this.setState({nilaiKuis:e.target.value})})),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("label",null,"Ujian (%)"),n.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiUjian,onChange:e=>this.setState({nilaiUjian:e.target.value})}))))))))))))))}}a.default=h}}]);
//# sourceMappingURL=134.e5c58e6f.chunk.js.map