(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[35],{1046:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(516),s=a(252),i=a.n(s),l=(a(301),a(292)),c=a.n(l),d=a(18),u=a(10),p=a(3),f=a(2),m=a(1613),g=a(19),h=a.n(g);class b extends r.Component{constructor(e){super(e),this.handleChangeFile=e=>{this.setState({file:e.target.files[0]})},this.uploadData=e=>{if(e.preventDefault(),this.state.file){this.setState({isUploading:!0});let e=new FormData;e.append("company_id",this.state.companyId),e.append("file",this.state.file),p.l.post("".concat(p.a,"v2/training/questions/import"),e).then(e=>{200===e.status&&(e.data.error?(d.b.error("Data import failed"),this.setState({isUploading:!1,file:""})):(this.getUserData(),this.setState({isUploading:!1,file:"",modalResultImport:!0,resultImport:e.data.result})))})}else d.b.warning("Choose the file first")},this.closeModalDelete=e=>{this.setState({modalDelete:!1,deleteId:""})},this.closeModalResult=e=>{this.setState({modalResultImport:!1})},this.filter=e=>{e.preventDefault(),this.setState({filter:e.target.value})},this.state={companyId:"",data:[],filter:"",file:"",modalDelete:!1,deleteId:"",isUploading:!1,modalResultImport:!1,resultImport:{field:[],data:[]}},this.goBack=this.goBack.bind(this)}goBack(){this.props.history.goBack()}onClickHapus(e){this.setState({modalDelete:!0,deleteId:e})}delete(e){p.l.delete("".concat(p.a,"v2/news/").concat(e)).then(e=>{e.data.error?d.b.error("Error delete news"):(this.getUserData(),this.closeModalDelete(),d.b.success("News deleted"))})}getList(e){p.l.get("".concat(p.a,"v2/news/").concat(e)).then(e=>{e.data.error?d.b.error("Error read news list"):this.setState({data:e.data.result})})}getUserData(){p.l.get("".concat(p.j).concat(f.a.get("user").data.email)).then(e=>{200===e.status&&(this.setState({companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):e.data.result.company_id,userId:e.data.result.user_id}),this.getList(this.state.companyId))})}componentDidMount(){this.getUserData()}render(){const{t:e}=this.props,t=[{name:"Thumbnail",selector:"image",sortable:!0,cell:e=>n.a.createElement(u.b,{to:"/news/"+e.id},n.a.createElement("img",{height:"26px",alt:e.name,src:e.image?e.image:"assets/images/no-image.png"}))},{name:"Title",selector:"title",sortable:!0,grow:2,cell:e=>n.a.createElement(u.b,{to:"/news/"+e.id},e.title)},{cell:e=>h()(e.created_at).local().format("DD-MM-YYYY HH:mm"),name:"Created at",selector:"created_at",sortable:!0,style:{color:"rgba(0,0,0,.54)"}},{cell:e=>n.a.createElement(c.a,{pullRight:!0,onSelect:t=>{switch(t){case 1:this.props.goTo("/news/edit/"+e.id);break;case 2:this.onClickHapus(e.id);break;default:this.props.goTo("/news")}}},n.a.createElement(c.a.Toggle,{btnStyle:"flat",noCaret:!0,iconOnly:!0},n.a.createElement("i",{className:"fa fa-ellipsis-h"})),n.a.createElement(c.a.Menu,null,n.a.createElement(l.MenuItem,{eventKey:1,"data-id":e.id},n.a.createElement("i",{className:"fa fa-edit"})," Edit"),n.a.createElement(l.MenuItem,{eventKey:2,"data-id":e.id},n.a.createElement("i",{className:"fa fa-trash"})," Delete"))),allowOverflow:!0,button:!0,width:"56px",omit:!("client"!==f.a.get("user").data.level&&!this.props.widgetMode)}];let{data:a,filter:r}=this.state;return""!=r&&(a=a.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(r,"gmi")))),n.a.createElement("div",{className:"card p-20 main-tab-container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 m-b-20"},this.props.widgetMode?n.a.createElement("strong",{className:"f-w-900 f-18 fc-blue"},e("news")):n.a.createElement("strong",{className:"f-w-bold f-18",style:{color:"#000"}},e("news")),"client"===f.a.get("user").data.level||this.props.widgetMode?null:n.a.createElement(u.b,{to:"/news/create"},n.a.createElement("button",{className:"btn btn-icademy-primary float-right",style:{padding:"7px 8px !important",marginLeft:14}},n.a.createElement("i",{className:"fa fa-plus"}),"Create New")),this.props.widgetMode?null:n.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.filter,className:"form-control float-right col-sm-3"}),n.a.createElement(i.a,{columns:t,data:a,highlightOnHover:!0,noDataComponent:"There are no news to display",pagination:!0,fixedHeader:!0}))),n.a.createElement(m.a,{show:this.state.modalDelete,onHide:this.closeModalDelete,centered:!0},n.a.createElement(m.a.Header,{closeButton:!0},n.a.createElement(m.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),n.a.createElement(m.a.Body,null,n.a.createElement("div",null,"Are you sure want to delete this news ?")),n.a.createElement(m.a.Footer,null,n.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalDelete.bind(this)},"Cancel"),n.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-red",onClick:this.delete.bind(this,this.state.deleteId)},n.a.createElement("i",{className:"fa fa-trash"})," Delete"))))}}const y=Object(o.a)("common")(b);t.a=y},1060:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=(a(252),a(301),a(292),a(18)),s=(a(10),a(3)),i=a(2),l=(a(19),a(1046));class c extends r.Component{constructor(e){super(e),this.handleChangeFile=e=>{this.setState({file:e.target.files[0]})},this.uploadData=e=>{if(e.preventDefault(),this.state.file){this.setState({isUploading:!0});let e=new FormData;e.append("company_id",this.state.companyId),e.append("file",this.state.file),s.l.post("".concat(s.a,"v2/training/questions/import"),e).then(e=>{200===e.status&&(e.data.error?(o.b.error("Data import failed"),this.setState({isUploading:!1,file:""})):(this.getUserData(),this.setState({isUploading:!1,file:"",modalResultImport:!0,resultImport:e.data.result})))})}else o.b.warning("Choose the file first")},this.closeModalDelete=e=>{this.setState({modalDelete:!1,deleteId:""})},this.closeModalResult=e=>{this.setState({modalResultImport:!1})},this.filter=e=>{e.preventDefault(),this.setState({filter:e.target.value})},this.state={companyId:"",data:[],filter:"",file:"",modalDelete:!1,deleteId:"",isUploading:!1,modalResultImport:!1,resultImport:{field:[],data:[]}},this.goBack=this.goBack.bind(this)}goTo(e){"back"===e?this.props.history.goBack():this.props.history.push(e)}goBack(){this.props.history.goBack()}onClickHapus(e){this.setState({modalDelete:!0,deleteId:e})}delete(e){s.l.delete("".concat(s.a,"v2/news/").concat(e)).then(e=>{e.data.error?o.b.error("Error delete news"):(this.getUserData(),this.closeModalDelete(),o.b.success("News deleted"))})}getList(e){s.l.get("".concat(s.a,"v2/news/").concat(e)).then(e=>{e.data.error?o.b.error("Error read news list"):this.setState({data:e.data.result})})}getUserData(){s.l.get("".concat(s.j).concat(i.a.get("user").data.email)).then(e=>{200===e.status&&(this.setState({companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):e.data.result.company_id,userId:e.data.result.user_id}),this.getList(this.state.companyId))})}componentDidMount(){this.getUserData()}render(){i.a.get("user").data.level;let{data:e,filter:t}=this.state;return""!=t&&(e=e.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(t,"gmi")))),n.a.createElement("div",{className:"pcoded-main-container"},n.a.createElement("div",{className:"pcoded-wrapper"},n.a.createElement("div",{className:"pcoded-content"},n.a.createElement("div",{className:"pcoded-inner-content"},n.a.createElement("div",{className:"main-body"},n.a.createElement("div",{className:"page-wrapper"},n.a.createElement("div",{className:"floating-back"},n.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90,onClick:this.goBack})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xl-12"},n.a.createElement("div",null,n.a.createElement(l.a,{goTo:this.goTo.bind(this)}))))))))))}}t.default=c},255:function(e,t,a){var r=a(322),n=a(323),o=a(324),s=a(326);e.exports=function(e,t){return r(e)||n(e,t)||o(e,t)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},322:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},323:function(e,t){e.exports=function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){i=!0,n=l}finally{try{s||null==a.return||a.return()}finally{if(i)throw n}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},324:function(e,t,a){var r=a(325);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},325:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r},e.exports.default=e.exports,e.exports.__esModule=!0},326:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},327:function(e,t,a){var r=a(328);e.exports=function(e,t){if(null==e)return{};var a,n,o=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},328:function(e,t){e.exports=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n},e.exports.default=e.exports,e.exports.__esModule=!0},516:function(e,t,a){"use strict";var r=a(62),n=a.n(r),o=a(255),s=a.n(o),i=a(327),l=a.n(i),c=a(0),d=a.n(c),u=a(182);function p(){if(console&&console.warn){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];"string"===typeof a[0]&&(a[0]="react-i18next:: ".concat(a[0])),(e=console).warn.apply(e,a)}}var f={};function m(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"string"===typeof t[0]&&f[t[0]]||("string"===typeof t[0]&&(f[t[0]]=new Date),p.apply(void 0,t))}function g(e,t,a){e.loadNamespaces(t,(function(){if(e.isInitialized)a();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),a()}))}}))}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return m("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],n=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,a){var r=t.services.backendConnector.state["".concat(e,"|").concat(a)];return-1===r||2===r};return!(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!s(r,e)||n&&!s(o,e))))}function b(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.i18n,r=Object(c.useContext)(u.a)||{},n=r.i18n,o=r.defaultNS,i=a||n||Object(u.d)();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new u.b),!i){m("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},d=[l,{},!1];return d.t=l,d.i18n={},d.ready=!1,d}i.options.react&&void 0!==i.options.react.wait&&m("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var p=w(w(w({},Object(u.c)()),i.options.react),t),f=p.useSuspense,b=e||o||i.options&&i.options.defaultNS;b="string"===typeof b?[b]:b||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(b);var y=(i.isInitialized||i.initializedStoreOnce)&&b.every((function(e){return h(e,i,p)}));function v(){return i.getFixedT(null,"fallback"===p.nsMode?b:b[0])}var O=Object(c.useState)(v),E=s()(O,2),x=E[0],D=E[1],I=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=p.bindI18n,t=p.bindI18nStore;function a(){I.current&&D(v)}return I.current=!0,y||f||g(i,b,(function(){I.current&&D(v)})),e&&i&&i.on(e,a),t&&i&&i.store.on(t,a),function(){I.current=!1,e&&i&&e.split(" ").forEach((function(e){return i.off(e,a)})),t&&i&&t.split(" ").forEach((function(e){return i.store.off(e,a)}))}}),[i,b.join()]);var S=Object(c.useRef)(!0);Object(c.useEffect)((function(){I.current&&!S.current&&D(v),S.current=!1}),[i]);var j=[x,i,y];if(j.t=x,j.i18n=i,j.ready=y,y)return j;if(!y&&!f)return j;throw new Promise((function(e){g(i,b,(function(){e()}))}))}a.d(t,"a",(function(){return D}));var O=["forwardedRef"];function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){function r(r){var n=r.forwardedRef,o=l()(r,O),i=v(e,o),c=s()(i,3),u=c[0],p=c[1],f=c[2],m=x(x({},o),{},{t:u,i18n:p,tReady:f});return t.withRef&&n?m.ref=n:!t.withRef&&n&&(m.forwardedRef=n),d.a.createElement(a,m)}r.displayName="withI18nextTranslation(".concat(b(a),")"),r.WrappedComponent=a;return t.withRef?d.a.forwardRef((function(e,t){return d.a.createElement(r,Object.assign({},e,{forwardedRef:t}))})):r}}}}]);
//# sourceMappingURL=35.26ed91ce.chunk.js.map