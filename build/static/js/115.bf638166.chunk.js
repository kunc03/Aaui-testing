(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[115],{1502:function(e,a,t){"use strict";t.r(a);var n=t(6),l=t(11),r=t(13),i=t(12),c=t(14),s=t(0),u=t.n(s),o=t(15),d=t(24),m=t(3),p=t(2),f=(t(245),t(127),t(485)),b=t(1619),E=t(1615),v=function(e){function a(){var e,t;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return(t=Object(r.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(c)))).state={kurikulum:[],id:"",name:"",formAdd:!1,formLesson:!1,optionLessons:[],lessonIds:[],listPelajaran:[],idPelajaran:"",namaPelajaran:"",kategori:"",kodePelajaran:"",kelas:"",listKelas:[],openSilabus:!1,pelajaranId:"",silabusId:"",pelajaranNama:"",sesi:"",topik:"",tujuan:"",deskripsi:"",jenis:0,files:null,tempFiles:Math.random().toString(36),silabus:[],nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,openProsentase:!1},t.openProsentase=function(e){e.preventDefault(),t.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openProsentase:!0}),t.fetchProsentase(e.target.getAttribute("data-id"))},t.openSilabus=function(e){e.preventDefault(),t.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openSilabus:!0}),t.fetchSilabus(e.target.getAttribute("data-id"))},t.saveKurikulum=function(e){e.target.value;var a={company_id:p.a.get("user").data.company_id,name:t.state.name};t.state.id?m.l.put("".concat(m.a,"v2/kurikulum/").concat(t.state.id),a).then((function(e){e.data.error&&d.b.warning("Error update kurikulum"),t.fetchKurikulum()})):m.l.post("".concat(m.a,"v2/kurikulum"),a).then((function(e){e.data.error&&d.b.warning("Error save kurikulum"),t.fetchKurikulum()})),t.setState({formAdd:!1,name:"",id:""})},t.selectKurikulum=function(e){e.preventDefault();var a=e.target.getAttribute("data-id"),n=e.target.getAttribute("data-name");t.setState({id:a,name:n,formAdd:!0})},t.deleteKurikulum=function(e){e.preventDefault();var a=e.target.getAttribute("data-id");m.l.delete("".concat(m.a,"v2/kurikulum/").concat(a)).then((function(e){e.data.error&&d.b.warning("Error delete data kurikulum"),t.fetchKurikulum()}))},t.addMapel=function(e){e.preventDefault();var a={mapel:t.state.lessonIds};m.l.post("".concat(m.a,"v2/kurikulum/").concat(t.state.id,"/mapel"),a).then((function(e){e.data.error&&d.b.warning("Error add data pelajaran"),t.fetchKurikulum(),t.setState({formLesson:!1,id:"",lessonIds:[]})}))},t.formAddMapel=function(e){e.preventDefault();var a=e.target.getAttribute("data-id"),n=t.state.kurikulum.filter((function(e){return e.id==parseInt(a)}))[0],l=[];if(n.mapel.length)for(var r=0;r<n.mapel.length;r++)l.push(n.mapel[r].pelajaran_id);t.setState({id:a,formLesson:!0,lessonIds:l})},t.deleteMapel=function(e){e.preventDefault();var a=e.target.getAttribute("data-kurikulum"),n=e.target.getAttribute("data-mapel");m.l.delete("".concat(m.a,"v2/kurikulum/").concat(a,"/mapel/").concat(n)).then((function(e){t.fetchKurikulum()}))},t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"fetchProsentase",value:function(e){var a=this;m.l.get("".concat(m.a,"v2/nilai-pelajaran/").concat(e)).then((function(e){e.data.error&&d.b.warning("Warning: fetch prosentase"),a.setState({nilaiTugas:e.data.result.tugas,nilaiKuis:e.data.result.kuis,nilaiUjian:e.data.result.ujian})}))}},{key:"closeProsentase",value:function(){this.setState({nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,openProsentase:!1})}},{key:"fetchSilabus",value:function(e){var a=this;m.l.get("".concat(m.a,"v2/silabus/pelajaran/").concat(e)).then((function(e){e.data.error&&d.b.info("Error: fetch silabus"),a.setState({silabus:e.data.result})}))}},{key:"closeModal",value:function(){this.fetchPelajaran(),this.setState({openSilabus:!1,silabus:[],pelajaranId:"",pelajaranNama:"",sesi:"",topik:"",tujuan:"",deskripsi:"",jenis:0})}},{key:"componentDidMount",value:function(){this.fetchPelajaran(),this.fetchKurikulum()}},{key:"fetchKurikulum",value:function(){var e=this;m.l.get("".concat(m.a,"v2/kurikulum/company/").concat(p.a.get("user").data.company_id)).then((function(a){a.data.error&&d.b.warning("Error fetch data kurikulum"),e.setState({kurikulum:a.data.result})}))}},{key:"fetchPelajaran",value:function(){var e=this;m.l.get("".concat(m.a,"v2/pelajaran/company/").concat(p.a.get("user").data.company_id)).then((function(a){a.data.error&&d.b.warning("Error fetch data kelas");var t=a.data.result.map((function(e){return{value:e.pelajaran_id,label:e.kode_pelajaran+" - "+e.nama_pelajaran}}));e.setState({optionLessons:t})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.kurikulum;a.listPelajaran;return u.a.createElement("div",{className:"pcoded-main-container"},u.a.createElement("div",{className:"pcoded-wrapper"},u.a.createElement("div",{className:"pcoded-content"},u.a.createElement("div",{className:"pcoded-inner-content"},u.a.createElement("div",{className:"main-body"},u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"floating-back"},u.a.createElement(o.b,{to:"/"},u.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90}))),u.a.createElement("div",{className:"row mt-3"},u.a.createElement("div",{className:"col-sm-12"},u.a.createElement(f.a,null,u.a.createElement(f.a.Header,null,u.a.createElement("h4",null,"Kurikulum")),u.a.createElement(f.a.Body,null,u.a.createElement(b.a,{defaultActiveKey:"0"},t.map((function(a,t){return u.a.createElement(f.a,null,u.a.createElement(f.a.Header,null,u.a.createElement("h5",{className:"collapsed","data-toggle":"collapse","data-target":"#colp".concat(t),style:{cursor:"pointer"}},u.a.createElement("i",{className:"fa"})," "," ",a.name),["guru","admin"].includes(p.a.get("user").data.grup_name?p.a.get("user").data.grup_name.toLowerCase():"")?u.a.createElement("button",{onClick:e.formAddMapel,"data-id":a.id,className:"btn btn-v2 btn-primary float-right"},"Lesson"):null,u.a.createElement("i",{onClick:e.selectKurikulum,"data-id":a.id,"data-name":a.name,style:{cursor:"pointer"},className:"fa fa-edit mr-2"}),u.a.createElement("i",{onClick:e.deleteKurikulum,"data-id":a.id,style:{cursor:"pointer"},className:"fa fa-trash"})),u.a.createElement(f.a.Body,{className:"collapse p-2",id:"colp".concat(t)},u.a.createElement("table",{className:"table table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"No"),u.a.createElement("th",null,"Pelajaran"),u.a.createElement("th",null,"Kode"),u.a.createElement("th",null,"Silabus"),u.a.createElement("th",null,"Bobot"))),u.a.createElement("tbody",null,a.mapel.map((function(a,t){return u.a.createElement("tr",null,u.a.createElement("td",null,t+1),u.a.createElement("td",null,a.nama_pelajaran),u.a.createElement("td",null,a.kode_pelajaran),u.a.createElement("td",{style:{padding:"12px"}},u.a.createElement("span",{onClick:e.openSilabus,"data-id":a.pelajaran_id,"data-title":a.nama_pelajaran,className:"silabus"},"Open")),u.a.createElement("td",{style:{padding:"12px"}},u.a.createElement("span",{onClick:e.openProsentase,"data-id":a.pelajaran_id,"data-title":a.nama_pelajaran,className:"silabus"},"Open")))}))))))}))))),u.a.createElement(E.a,{show:this.state.openProsentase,onHide:this.closeProsentase.bind(this)},u.a.createElement(E.a.Header,{closeButton:!0},u.a.createElement(E.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},this.state.pelajaranNama)),u.a.createElement(E.a.Body,null,u.a.createElement("form",{onSubmit:this.saveProsentase},u.a.createElement("div",{className:"form-group row"},u.a.createElement("div",{className:"col-sm-4"},u.a.createElement("label",null,"Tugas"),u.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiTugas,onChange:function(a){return e.setState({nilaiTugas:a.target.value})}})),u.a.createElement("div",{className:"col-sm-4"},u.a.createElement("label",null,"Kuis"),u.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiKuis,onChange:function(a){return e.setState({nilaiKuis:a.target.value})}})),u.a.createElement("div",{className:"col-sm-4"},u.a.createElement("label",null,"Ujian"),u.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiUjian,onChange:function(a){return e.setState({nilaiUjian:a.target.value})}})))))),u.a.createElement(E.a,{show:this.state.openSilabus,onHide:this.closeModal.bind(this),dialogClassName:"modal-lg modal-1000-large"},u.a.createElement(E.a.Header,{closeButton:!0},u.a.createElement(E.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Silabus ",this.state.pelajaranNama)),u.a.createElement(E.a.Body,null,u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Sesi"),u.a.createElement("th",null,"Topik"),u.a.createElement("th",null,"Tujuan"),u.a.createElement("th",null,"Deskripsi"),u.a.createElement("th",null,"Files"))),u.a.createElement("tbody",null,this.state.silabus.map((function(e,a){return 0===e.jenis?u.a.createElement("tr",{key:a},u.a.createElement("td",null,e.sesi),u.a.createElement("td",null,e.topik),u.a.createElement("td",null,e.tujuan),u.a.createElement("td",null,e.deskripsi),u.a.createElement("td",{style:{padding:"12px"}},e.files?u.a.createElement("a",{href:e.files,target:"_blank",className:"silabus"},"Open"):"No files")):u.a.createElement("tr",{key:a},u.a.createElement("td",null,e.sesi),u.a.createElement("td",{colSpan:"4",className:"text-center"},1==e.jenis?"Kuis":"Ujian"))}))))))))))))))}}]),a}(u.a.Component);a.default=v},1619:function(e,a,t){"use strict";var n=t(1),l=t(4),r=t(20),i=t.n(r),c=t(0),s=t.n(c),u=t(72),o=t(34),d=t(483),m=s.a.createContext(null);m.displayName="AccordionContext";var p=m;var f,b=s.a.forwardRef((function(e,a){var t=e.as,r=void 0===t?"button":t,i=e.children,u=e.eventKey,o=e.onClick,m=Object(l.a)(e,["as","children","eventKey","onClick"]),f=function(e,a){var t=Object(c.useContext)(p),n=Object(c.useContext)(d.a);return function(l){n&&n(e===t?null:e,l),a&&a(l)}}(u,o);return"button"===r&&(m.type="button"),s.a.createElement(r,Object(n.a)({ref:a,onClick:f},m),i)})),E=t(84),v=t(47),g=t(89),h=t(87),j=t(88),k={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function y(e,a){var t=a["offset"+e[0].toUpperCase()+e.slice(1)],n=k[e];return t+parseInt(Object(E.a)(a,n[0]),10)+parseInt(Object(E.a)(a,n[1]),10)}var N=((f={})[v.c]="collapse",f[v.d]="collapsing",f[v.b]="collapsing",f[v.a]="collapse show",f),O={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:y},x=s.a.forwardRef((function(e,a){var t=e.onEnter,r=e.onEntering,u=e.onEntered,o=e.onExit,d=e.onExiting,m=e.className,p=e.children,f=e.dimension,b=void 0===f?"height":f,E=e.getDimensionValue,k=void 0===E?y:E,O=Object(l.a)(e,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]),x="function"===typeof b?b():b,C=Object(c.useMemo)((function(){return Object(h.a)((function(e){e.style[x]="0"}),t)}),[x,t]),P=Object(c.useMemo)((function(){return Object(h.a)((function(e){var a="scroll"+x[0].toUpperCase()+x.slice(1);e.style[x]=e[a]+"px"}),r)}),[x,r]),S=Object(c.useMemo)((function(){return Object(h.a)((function(e){e.style[x]=null}),u)}),[x,u]),w=Object(c.useMemo)((function(){return Object(h.a)((function(e){e.style[x]=k(x,e)+"px",Object(j.a)(e)}),o)}),[o,k,x]),K=Object(c.useMemo)((function(){return Object(h.a)((function(e){e.style[x]=null}),d)}),[x,d]);return s.a.createElement(v.e,Object(n.a)({ref:a,addEndListener:g.a},O,{"aria-expanded":O.role?O.in:null,onEnter:C,onEntering:P,onEntered:S,onExit:w,onExiting:K}),(function(e,a){return s.a.cloneElement(p,Object(n.a)({},a,{className:i()(m,p.props.className,N[e],"width"===x&&"width")}))}))}));x.defaultProps=O;var C=x,P=s.a.forwardRef((function(e,a){var t=e.children,r=e.eventKey,i=Object(l.a)(e,["children","eventKey"]),u=Object(c.useContext)(p);return s.a.createElement(d.a.Provider,{value:null},s.a.createElement(C,Object(n.a)({ref:a,in:u===r},i),s.a.createElement("div",null,s.a.Children.only(t))))}));P.displayName="AccordionCollapse";var S=P,w=s.a.forwardRef((function(e,a){var t=Object(u.useUncontrolled)(e,{activeKey:"onSelect"}),r=t.as,c=void 0===r?"div":r,m=t.activeKey,f=t.bsPrefix,b=t.children,E=t.className,v=t.onSelect,g=Object(l.a)(t,["as","activeKey","bsPrefix","children","className","onSelect"]),h=i()(E,Object(o.a)(f,"accordion"));return s.a.createElement(p.Provider,{value:m||null},s.a.createElement(d.a.Provider,{value:v||null},s.a.createElement(c,Object(n.a)({ref:a},g,{className:h}),b)))}));w.displayName="Accordion",w.Toggle=b,w.Collapse=S;a.a=w},316:function(e,a,t){"use strict";var n=t(0),l=t.n(n).a.createContext(null);l.displayName="CardContext",a.a=l},483:function(e,a,t){"use strict";t.d(a,"b",(function(){return r}));var n=t(0),l=t.n(n).a.createContext(null),r=function(e,a){return void 0===a&&(a=null),null!=e?String(e):a||null};a.a=l},485:function(e,a,t){"use strict";var n=t(1),l=t(4),r=t(20),i=t.n(r),c=t(0),s=t.n(c),u=t(34),o=t(50),d=t(73),m=t(316),p=s.a.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,c=e.variant,o=e.as,d=void 0===o?"img":o,m=Object(l.a)(e,["bsPrefix","className","variant","as"]),p=Object(u.a)(t,"card-img");return s.a.createElement(d,Object(n.a)({ref:a,className:i()(c?p+"-"+c:p,r)},m))}));p.displayName="CardImg",p.defaultProps={variant:null};var f=p,b=Object(d.a)("h5"),E=Object(d.a)("h6"),v=Object(o.a)("card-body"),g=Object(o.a)("card-title",{Component:b}),h=Object(o.a)("card-subtitle",{Component:E}),j=Object(o.a)("card-link",{Component:"a"}),k=Object(o.a)("card-text",{Component:"p"}),y=Object(o.a)("card-header"),N=Object(o.a)("card-footer"),O=Object(o.a)("card-img-overlay"),x=s.a.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,o=e.bg,d=e.text,p=e.border,f=e.body,b=e.children,E=e.as,g=void 0===E?"div":E,h=Object(l.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),j=Object(u.a)(t,"card"),k=Object(c.useMemo)((function(){return{cardHeaderBsPrefix:j+"-header"}}),[j]);return s.a.createElement(m.a.Provider,{value:k},s.a.createElement(g,Object(n.a)({ref:a},h,{className:i()(r,j,o&&"bg-"+o,d&&"text-"+d,p&&"border-"+p)}),f?s.a.createElement(v,null,b):b))}));x.displayName="Card",x.defaultProps={body:!1},x.Img=f,x.Title=g,x.Subtitle=h,x.Body=v,x.Link=j,x.Text=k,x.Header=y,x.Footer=N,x.ImgOverlay=O;a.a=x}}]);
//# sourceMappingURL=115.bf638166.chunk.js.map