(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[35],{1064:function(e,t,a){"use strict";var n=a(6),r=a(11),o=a(13),i=a(12),s=a(31),l=a(14),c=a(0),u=a.n(c),d=a(538),f=a(268),p=a.n(f),m=(a(317),a(308)),g=a.n(m),b=a(24),h=a(15),y=a(3),v=a(2),w=a(1616),O=a(25),x=a.n(O),E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleChangeFile=function(e){a.setState({file:e.target.files[0]})},a.uploadData=function(e){if(e.preventDefault(),a.state.file){a.setState({isUploading:!0});var t=new FormData;t.append("company_id",a.state.companyId),t.append("file",a.state.file),y.l.post("".concat(y.a,"v2/training/questions/import"),t).then((function(e){200===e.status&&(e.data.error?(b.b.error("Data import failed"),a.setState({isUploading:!1,file:""})):(a.getUserData(),a.setState({isUploading:!1,file:"",modalResultImport:!0,resultImport:e.data.result})))}))}else b.b.warning("Choose the file first")},a.closeModalDelete=function(e){a.setState({modalDelete:!1,deleteId:""})},a.closeModalResult=function(e){a.setState({modalResultImport:!1})},a.filter=function(e){e.preventDefault(),a.setState({filter:e.target.value})},a.state={companyId:"",data:[],filter:"",file:"",modalDelete:!1,deleteId:"",isUploading:!1,modalResultImport:!1,resultImport:{field:[],data:[]}},a.goBack=a.goBack.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"goBack",value:function(){this.props.history.goBack()}},{key:"onClickHapus",value:function(e){this.setState({modalDelete:!0,deleteId:e})}},{key:"delete",value:function(e){var t=this;y.l.delete("".concat(y.a,"v2/news/").concat(e)).then((function(e){e.data.error?b.b.error("Error delete news"):(t.getUserData(),t.closeModalDelete(),b.b.success("News deleted"))}))}},{key:"getList",value:function(e){var t=this;y.l.get("".concat(y.a,"v2/news/").concat(e)).then((function(e){e.data.error?b.b.error("Error read news list"):t.setState({data:e.data.result})}))}},{key:"getUserData",value:function(){var e=this;y.l.get("".concat(y.j).concat(v.a.get("user").data.email)).then((function(t){200===t.status&&(e.setState({companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):t.data.result.company_id,userId:t.data.result.user_id}),e.getList(e.state.companyId))}))}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){var e=this,t=this.props.t,a=[{name:"Thumbnail",selector:"image",sortable:!0,cell:function(e){return u.a.createElement(h.b,{to:"/news/"+e.id},u.a.createElement("img",{height:"26px",alt:e.name,src:e.image?e.image:"assets/images/no-image.png"}))}},{name:"Title",selector:"title",sortable:!0,grow:2,cell:function(e){return u.a.createElement(h.b,{to:"/news/"+e.id},e.title)}},{cell:function(e){return x()(e.created_at).local().format("DD-MM-YYYY HH:mm")},name:"Created at",selector:"created_at",sortable:!0,style:{color:"rgba(0,0,0,.54)"}},{cell:function(t){return u.a.createElement(g.a,{pullRight:!0,onSelect:function(a){switch(a){case 1:e.props.goTo("/news/edit/"+t.id);break;case 2:e.onClickHapus(t.id);break;default:e.props.goTo("/news")}}},u.a.createElement(g.a.Toggle,{btnStyle:"flat",noCaret:!0,iconOnly:!0},u.a.createElement("i",{className:"fa fa-ellipsis-h"})),u.a.createElement(g.a.Menu,null,u.a.createElement(m.MenuItem,{eventKey:1,"data-id":t.id},u.a.createElement("i",{className:"fa fa-edit"})," Edit"),u.a.createElement(m.MenuItem,{eventKey:2,"data-id":t.id},u.a.createElement("i",{className:"fa fa-trash"})," Delete")))},allowOverflow:!0,button:!0,width:"56px",omit:!("client"!==v.a.get("user").data.level&&!this.props.widgetMode)}],n=this.state,r=n.data,o=n.filter;return""!=o&&(r=r.filter((function(e){return JSON.stringify(Object.values(e)).match(new RegExp(o,"gmi"))}))),u.a.createElement("div",{className:"card p-20 main-tab-container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-12 m-b-20"},this.props.widgetMode?u.a.createElement("strong",{className:"f-w-900 f-18 fc-blue"},t("news")):u.a.createElement("strong",{className:"f-w-bold f-18",style:{color:"#000"}},t("news")),"client"===v.a.get("user").data.level||this.props.widgetMode?null:u.a.createElement(h.b,{to:"/news/create"},u.a.createElement("button",{className:"btn btn-icademy-primary float-right",style:{padding:"7px 8px !important",marginLeft:14}},u.a.createElement("i",{className:"fa fa-plus"}),"Create New")),this.props.widgetMode?null:u.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.filter,className:"form-control float-right col-sm-3"}),u.a.createElement(p.a,{columns:a,data:r,highlightOnHover:!0,noDataComponent:"There are no news to display",pagination:!0,fixedHeader:!0}))),u.a.createElement(w.a,{show:this.state.modalDelete,onHide:this.closeModalDelete,centered:!0},u.a.createElement(w.a.Header,{closeButton:!0},u.a.createElement(w.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),u.a.createElement(w.a.Body,null,u.a.createElement("div",null,"Are you sure want to delete this news ?")),u.a.createElement(w.a.Footer,null,u.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalDelete.bind(this)},"Cancel"),u.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-red",onClick:this.delete.bind(this,this.state.deleteId)},u.a.createElement("i",{className:"fa fa-trash"})," Delete"))))}}]),t}(c.Component),j=Object(d.a)("common")(E);t.a=j},1078:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(11),o=a(13),i=a(12),s=a(31),l=a(14),c=a(0),u=a.n(c),d=(a(268),a(317),a(308),a(24)),f=(a(15),a(3)),p=a(2),m=(a(25),a(1064)),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleChangeFile=function(e){a.setState({file:e.target.files[0]})},a.uploadData=function(e){if(e.preventDefault(),a.state.file){a.setState({isUploading:!0});var t=new FormData;t.append("company_id",a.state.companyId),t.append("file",a.state.file),f.l.post("".concat(f.a,"v2/training/questions/import"),t).then((function(e){200===e.status&&(e.data.error?(d.b.error("Data import failed"),a.setState({isUploading:!1,file:""})):(a.getUserData(),a.setState({isUploading:!1,file:"",modalResultImport:!0,resultImport:e.data.result})))}))}else d.b.warning("Choose the file first")},a.closeModalDelete=function(e){a.setState({modalDelete:!1,deleteId:""})},a.closeModalResult=function(e){a.setState({modalResultImport:!1})},a.filter=function(e){e.preventDefault(),a.setState({filter:e.target.value})},a.state={companyId:"",data:[],filter:"",file:"",modalDelete:!1,deleteId:"",isUploading:!1,modalResultImport:!1,resultImport:{field:[],data:[]}},a.goBack=a.goBack.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"goTo",value:function(e){"back"===e?this.props.history.goBack():this.props.history.push(e)}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"onClickHapus",value:function(e){this.setState({modalDelete:!0,deleteId:e})}},{key:"delete",value:function(e){var t=this;f.l.delete("".concat(f.a,"v2/news/").concat(e)).then((function(e){e.data.error?d.b.error("Error delete news"):(t.getUserData(),t.closeModalDelete(),d.b.success("News deleted"))}))}},{key:"getList",value:function(e){var t=this;f.l.get("".concat(f.a,"v2/news/").concat(e)).then((function(e){e.data.error?d.b.error("Error read news list"):t.setState({data:e.data.result})}))}},{key:"getUserData",value:function(){var e=this;f.l.get("".concat(f.j).concat(p.a.get("user").data.email)).then((function(t){200===t.status&&(e.setState({companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):t.data.result.company_id,userId:t.data.result.user_id}),e.getList(e.state.companyId))}))}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){var e=this,t=(p.a.get("user").data.level,this.state),a=t.data,n=t.filter;return""!=n&&(a=a.filter((function(e){return JSON.stringify(Object.values(e)).match(new RegExp(n,"gmi"))}))),u.a.createElement("div",{className:"pcoded-main-container"},u.a.createElement("div",{className:"pcoded-wrapper"},u.a.createElement("div",{className:"pcoded-content"},u.a.createElement("div",{className:"pcoded-inner-content"},u.a.createElement("div",{className:"main-body"},u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"floating-back"},u.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90,onClick:this.goBack})),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xl-12"},u.a.createElement("div",null,u.a.createElement(m.a,{goTo:this.goTo.bind(this)}))))))))))}}]),t}(c.Component);t.default=g},262:function(e,t,a){"use strict";t.a=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}},271:function(e,t,a){var n=a(341),r=a(342),o=a(343),i=a(345);e.exports=function(e,t){return n(e)||r(e,t)||o(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},312:function(e,t,a){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},341:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},342:function(e,t){e.exports=function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},343:function(e,t,a){var n=a(344);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},344:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n},e.exports.default=e.exports,e.exports.__esModule=!0},345:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},346:function(e,t,a){var n=a(347);e.exports=function(e,t){if(null==e)return{};var a,r,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},347:function(e,t){e.exports=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r},e.exports.default=e.exports,e.exports.__esModule=!0},538:function(e,t,a){"use strict";var n=a(71),r=a.n(n),o=a(271),i=a.n(o),s=a(346),l=a.n(s),c=a(0),u=a.n(c),d=a(192);function f(){if(console&&console.warn){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];"string"===typeof a[0]&&(a[0]="react-i18next:: ".concat(a[0])),(e=console).warn.apply(e,a)}}var p={};function m(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"string"===typeof t[0]&&p[t[0]]||("string"===typeof t[0]&&(p[t[0]]=new Date),f.apply(void 0,t))}function g(e,t,a){e.loadNamespaces(t,(function(){if(e.isInitialized)a();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),a()}))}}))}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.i18n,n=Object(c.useContext)(d.a)||{},r=n.i18n,o=n.defaultNS,s=a||r||Object(d.d)();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new d.b),!s){m("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},u=[l,{},!1];return u.t=l,u.i18n={},u.ready=!1,u}s.options.react&&void 0!==s.options.react.wait&&m("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=h(h(h({},Object(d.c)()),s.options.react),t),p=f.useSuspense,b=e||o||s.options&&s.options.defaultNS;b="string"===typeof b?[b]:b||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(b);var y=(s.isInitialized||s.initializedStoreOnce)&&b.every((function(e){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return m("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var i=function(e,a){var n=t.services.backendConnector.state["".concat(e,"|").concat(a)];return-1===n||2===n};return!(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(n,e)||(!t.services.backendConnector.backend||!(!i(n,e)||r&&!i(o,e))))}(e,s,f)}));function v(){return s.getFixedT(null,"fallback"===f.nsMode?b:b[0])}var w=Object(c.useState)(v),O=i()(w,2),x=O[0],E=O[1],j=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=f.bindI18n,t=f.bindI18nStore;function a(){j.current&&E(v)}return j.current=!0,y||p||g(s,b,(function(){j.current&&E(v)})),e&&s&&s.on(e,a),t&&s&&s.store.on(t,a),function(){j.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,a)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,a)}))}}),[s,b.join()]);var k=Object(c.useRef)(!0);Object(c.useEffect)((function(){j.current&&!k.current&&E(v),k.current=!1}),[s]);var S=[x,s,y];if(S.t=x,S.i18n=s,S.ready=y,y)return S;if(!y&&!p)return S;throw new Promise((function(e){g(s,b,(function(){e()}))}))}a.d(t,"a",(function(){return x}));var v=["forwardedRef"];function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){function n(n){var r=n.forwardedRef,o=l()(n,v),s=y(e,o),c=i()(s,3),d=c[0],f=c[1],p=c[2],m=O(O({},o),{},{t:d,i18n:f,tReady:p});return t.withRef&&r?m.ref=r:!t.withRef&&r&&(m.forwardedRef=r),u.a.createElement(a,m)}var r;n.displayName="withI18nextTranslation(".concat((r=a).displayName||r.name||("string"===typeof r&&r.length>0?r:"Unknown"),")"),n.WrappedComponent=a;return t.withRef?u.a.forwardRef((function(e,t){return u.a.createElement(n,Object.assign({},e,{forwardedRef:t}))})):n}}}}]);
//# sourceMappingURL=35.df9dc0d6.chunk.js.map