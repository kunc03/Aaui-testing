(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[135],{1499:function(e,a,t){"use strict";t.r(a);var l=t(6),n=t(11),r=t(13),s=t(12),i=t(14),c=t(0),u=t.n(c),m=t(2),o=(t(1362),t(15)),d=t(545),E=t(1616),h=t(3),p=t(24),b=t(25),f=t.n(b),g=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(i)))).state={muridId:"",infoMurid:{},kurikulum:[],openSilabus:!1,pelajaranId:"",pelajaranNama:"",silabus:[],nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,tahunAjaran:"",listTahunAjaran:[],semester:[],semesterId:""},t.openProsentase=function(e){e.preventDefault(),t.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openProsentase:!0}),t.fetchProsentase(e.target.getAttribute("data-id"))},t.openSilabus=function(e){e.preventDefault(),t.setState({pelajaranId:e.target.getAttribute("data-id"),pelajaranNama:e.target.getAttribute("data-title"),openSilabus:!0}),t.fetchSilabus(e.target.getAttribute("data-id"))},t.selectTahunAjaran=function(e){var a=e.target.value;t.setState({tahunAjaran:a,pelajaran:[]}),t.fetchAnakSaya(m.a.get("user").data.user_id,a)},t.selectSemester=function(e){var a=e.target.value;h.l.get("".concat(h.a,"v2/parents/my-murid/").concat(m.a.get("user").data.user_id,"?tahunAjaran=").concat(t.state.tahunAjaran)).then((function(e){var l=e.data.result;t.setState({infoMurid:l,semester:e.data.semester,semesterId:a}),t.fetchKurikulum(l.kurikulum)}))},t}return Object(i.a)(a,e),Object(n.a)(a,[{key:"closeProsentase",value:function(){this.setState({nilaiTugas:0,nilaiKuis:0,nilaiUjian:0,openProsentase:!1})}},{key:"fetchProsentase",value:function(e){var a=this;h.l.get("".concat(h.a,"v2/nilai-pelajaran/").concat(e)).then((function(e){e.data.error&&p.b.warning("Warning: fetch prosentase"),a.setState({nilaiTugas:e.data.result.tugas,nilaiKuis:e.data.result.kuis,nilaiUjian:e.data.result.ujian})}))}},{key:"fetchSilabus",value:function(e){var a=this;h.l.get("".concat(h.a,"v2/silabus/pelajaran/").concat(e)).then((function(e){e.data.error&&p.b.info("Error: fetch silabus"),a.setState({silabus:e.data.result})}))}},{key:"closeModal",value:function(){this.setState({openSilabus:!1,silabus:[],pelajaranId:"",pelajaranNama:""})}},{key:"fetchKurikulum",value:function(e){var a=this;h.l.get("".concat(h.a,"v2/kurikulum/id/").concat(e)).then((function(e){a.setState({kurikulum:e.data.result})}))}},{key:"fetchAnakSaya",value:function(e,a){var t=this;h.l.get("".concat(h.a,"v2/parents/my-murid/").concat(e,"?tahunAjaran=").concat(a)).then((function(e){var a=e.data.result;t.setState({infoMurid:a,semester:e.data.semester,semesterId:e.data.semester.length?e.data.semester[0].semester_id:""}),t.fetchKurikulum(a.kurikulum)}))}},{key:"componentDidMount",value:function(){for(var e=new Date,a=e.getMonth()<6?e.getFullYear()-1+"/"+e.getFullYear():e.getFullYear()+"/"+(e.getFullYear()+1),t=[],l=0;l<6;l++)t.push("".concat(e.getFullYear()-l,"/").concat(e.getFullYear()-l+1));this.setState({tahunAjaran:a,listTahunAjaran:t}),this.fetchAnakSaya(m.a.get("user").data.user_id,a)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"pcoded-main-container"},u.a.createElement("div",{className:"pcoded-wrapper"},u.a.createElement("div",{className:"pcoded-content"},u.a.createElement("div",{className:"pcoded-inner-content"},u.a.createElement("div",{className:"main-body"},u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"floating-back"},u.a.createElement(o.b,{to:"/"},u.a.createElement("img",{src:"newasset/back-button.svg",alt:"",width:90}))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-12"},u.a.createElement(d.a,null,u.a.createElement(d.a.Body,null,u.a.createElement("h4",{className:"f-w-900 f-18 fc-blue"},"Informasi Murid"),u.a.createElement("table",null,u.a.createElement("tr",null,u.a.createElement("td",{width:"120px"},"Nama Murid"),u.a.createElement("td",null,u.a.createElement("b",null,this.state.infoMurid.nama_murid))),u.a.createElement("tr",null,u.a.createElement("td",null,"NIK Murid"),u.a.createElement("td",null,u.a.createElement("b",null,this.state.infoMurid.nik_murid))),u.a.createElement("tr",null,u.a.createElement("td",null,"Tahun Ajaran"),u.a.createElement("td",null,u.a.createElement("select",{style:{padding:"2px"},className:"mr-2",onChange:this.selectTahunAjaran,value:this.state.tahunAjaran},u.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.listTahunAjaran.map((function(e){return u.a.createElement("option",{value:e},e)}))))),u.a.createElement("tr",null,u.a.createElement("td",null,"Semester"),u.a.createElement("td",null,u.a.createElement("select",{style:{padding:"2px"},className:"mr-2",onChange:this.selectSemester,value:this.state.semesterId},u.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select"),this.state.semester.map((function(e){return u.a.createElement("option",{value:e.semester_id},e.semester_name)}))))),u.a.createElement("tr",null,u.a.createElement("td",null,"Kelas"),u.a.createElement("td",null,u.a.createElement("b",null,this.state.infoMurid.kelas_nama))),u.a.createElement("tr",null,u.a.createElement("td",null,"Kurikulum"),u.a.createElement("td",null,u.a.createElement("b",null,this.state.infoMurid.kurikulum_name)))))))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{class:"col-sm-12"},u.a.createElement(d.a,null,u.a.createElement(d.a.Body,null,u.a.createElement("h4",{className:"f-w-900 f-18 fc-blue"},this.state.infoMurid.kurikulum_name),u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{style:{color:"black"}},"No"),u.a.createElement("th",{style:{color:"black"}},"Kode"),u.a.createElement("th",{style:{color:"black"}},"Mata Pelajaran"),u.a.createElement("th",{style:{color:"black"}},"Silabus"),u.a.createElement("th",{style:{color:"black"}},"Bobot"),u.a.createElement("th",{style:{color:"black"}},"Created At"))),u.a.createElement("tbody",null,this.state.kurikulum.map((function(a,t){return u.a.createElement("tr",{key:a.title+"-"+a.start},u.a.createElement("td",{style:{textTransform:"capitalize"}},t+1),u.a.createElement("td",null,a.kode_pelajaran),u.a.createElement("td",null,a.nama_pelajaran),u.a.createElement("td",{style:{padding:"12px"}},u.a.createElement("span",{onClick:e.openSilabus,"data-id":a.mapel_id,"data-title":a.nama_pelajaran,className:"silabus"},"Lihat")),u.a.createElement("td",{style:{padding:"12px"}},u.a.createElement("span",{onClick:e.openProsentase,"data-id":a.mapel_id,"data-title":a.nama_pelajaran,className:"silabus"},"Lihat")),u.a.createElement("td",null,f()(a.created_at).format("DD/MM/YYYY HH:mm")))})))))),u.a.createElement(E.a,{show:this.state.openSilabus,onHide:this.closeModal.bind(this),dialogClassName:"modal-xlg"},u.a.createElement(E.a.Header,{closeButton:!0},u.a.createElement(E.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Silabus ",this.state.pelajaranNama)),u.a.createElement(E.a.Body,null,u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Sesi"),u.a.createElement("th",null,"Topik"),u.a.createElement("th",null,"Tujuan"),u.a.createElement("th",null,"Files"),u.a.createElement("th",null,"Periode"),u.a.createElement("th",null,"Durasi"),u.a.createElement("th",null,"Deskripsi"))),u.a.createElement("tbody",null,this.state.silabus.map((function(e,a){return 0===e.jenis?u.a.createElement("tr",{key:a},u.a.createElement("td",null,e.sesi),u.a.createElement("td",null,e.topik),u.a.createElement("td",null,e.tujuan),u.a.createElement("td",{style:{padding:"12px"}},e.files?u.a.createElement("a",{href:e.files,target:"_blank",className:"silabus"},"Open"):"No files"),u.a.createElement("td",null,e.periode),u.a.createElement("td",null,e.durasi," menit"),u.a.createElement("td",null,e.deskripsi)):u.a.createElement("tr",{key:a},u.a.createElement("td",null,e.sesi),u.a.createElement("td",{colSpan:"3",className:"text-center"},1==e.jenis?"Kuis":"Ujian"),u.a.createElement("td",null,e.periode),u.a.createElement("td",null,e.durasi," menit"),u.a.createElement("td",null,e.deskripsi))})))))),u.a.createElement(E.a,{show:this.state.openProsentase,onHide:this.closeProsentase.bind(this)},u.a.createElement(E.a.Header,{closeButton:!0},u.a.createElement(E.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},this.state.pelajaranNama)),u.a.createElement(E.a.Body,null,u.a.createElement("form",null,u.a.createElement("div",{className:"form-group row"},u.a.createElement("div",{className:"col-sm-4"},u.a.createElement("label",null,"Tugas (%)"),u.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiTugas,onChange:function(a){return e.setState({nilaiTugas:a.target.value})}})),u.a.createElement("div",{className:"col-sm-4"},u.a.createElement("label",null,"Kuis (%)"),u.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiKuis,onChange:function(a){return e.setState({nilaiKuis:a.target.value})}})),u.a.createElement("div",{className:"col-sm-4"},u.a.createElement("label",null,"Ujian (%)"),u.a.createElement("input",{className:"form-control",required:!0,type:"number",value:this.state.nilaiUjian,onChange:function(a){return e.setState({nilaiUjian:a.target.value})}}))))))))))))))}}]),a}(c.Component);a.default=g}}]);
//# sourceMappingURL=135.445308fa.chunk.js.map