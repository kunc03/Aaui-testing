{"version":3,"sources":["components/daftar_pelajaran/progress.js","components/tugas/detail.js","components/detail_kelas/kelasku.js","components/daftar_pelajaran/mapel.js","components/daftar_pelajaran/timeline.js","components/tugas/index.js","components/tugas/latihan.js","components/tugas/mapel.js","components/tugas/jawab.js","components/tugas/kerjakanlagi.js","components/learning/murid.js"],"names":["GuruUjian","state","userId","pelajaran","semester","semesterId","loading","silabus","tahunAjaran","listTahunAjaran","filterKegiatan","e","value","target","fetchSilabus","filterClear","console","log","selectTahunAjaran","setState","Storage","get","data","grup_name","toLowerCase","fetchPelajaran","user_id","fetchMuridKu","selectSemester","API","API_SERVER","role","then","res","error","toast","warning","result","length","jadwal_id","info","d","Date","getMonth","getFullYear","temp","i","push","this","user_id_murid","kelas_id","jadwalId","class","Header","className","style","padding","onChange","selected","disabled","map","item","semester_name","mapel","Body","data-toggle","data-target","tugas","kuis","ujian","sesi","jenis","topik","chapter_title","absen_jam","moment","start_date","format","id","colSpan","exam_id","exam_title","time_finish","submit_at","score","total_correct","total_uncorrect","Component","UjianClass","props","tipe","examId","match","params","infoExam","examSoal","openScore","benar","salah","isSubmit","openConfirm","isStart","selectJawaban","copy","jawaban","form","questionId","post","lihatHasil","preventDefault","is_started","fetchSoal","getTatapMuka","tatapmuka","getStarted","getNilai","localStorage","removeItem","fetchSubmit","fetchExam","socket","on","event","companyId","company_id","put","saveJawaban","window","location","reload","title","key","dangerouslySetInnerHTML","__html","tanya","a","myJawaban","answer_option","b","c","penjelasan","type","name","width","onClick","show","onHide","React","Ujian","Consumer","kelasKu","fetchMyKelas","filter","tahun_ajaran","Card","kelas_nama","to","MataPelajaran","mataPelajaran","isModalBuka","isModalSilabus","jadwalPelajaran","pelajaranId","dataSilabus","selectPelajaran","fetchJadwal","uniq","Map","jadwal","values","required","verticalAlign","rowSpan","tanggal","row","jam_mulai","jam_selesai","nama_guru","nama_ruangan","Modal","clearForm","dialogClassName","closeButton","pelajaran_id","nama_pelajaran","tujuan","deskripsi","files","href","Tugas","semuaTugas","isModalTugas","isModalDetail","tipeJawab","examTitle","keyFile","Math","random","toString","file","submitted","openDetail","getAttribute","fetchPertanyaan","answerTugas","submitTugas","FormData","append","success","submitTugasLangsung","openJawabanLangsung","cc","answer_file","quiz","data-id","data-title","time_start","created_at","tipe_jawab","data-tipe","cursor","onSubmit","rows","ListSoal","lists","PureComponent","Latihan","fetchKuis","soal","chapter_id","ref","componentRef","trigger","content","Overview","overview","preview","openTugas","infoTugas","pertanyaan","informasiJadwal","fetchOverview","fetchPelajaranByJadwal","status","exam","nama","marginLeft","marginBottom","hasOwnProperty","OverlayTrigger","placement","delay","hide","overlay","Tooltip","includes","chapter_body","selectTugas","color","margin","Title","waktuPengerjaan","emit","muridNama","user","isPlaying","duration","colors","renderAriaTime","remainingTime","elapsedTime","setItem","children","hours","floor","minutes","seconds","size","strokeWidth","onComplete","cekLocal","getItem","parseInt","durasi","titleTabs","link","component","KelasKu","Progress","switchTambahan","DetailMapel","KerjakanLagi","LearningMurid","goBack","bind","history","backgroundColor","src","alt","paddingBottom","borderBottomLeftRadius","borderBottomRightRadius","activeClassName","path","exact"],"mappings":"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","file":"static/js/107.8641f36a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Storage from '../../repository/storage';\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { Row, Card, Modal, Form, FormControl, ListGroup, ListGroupItem } from 'react-bootstrap';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport { toast } from 'react-toastify'\r\nimport moment from 'moment-timezone'\r\n\r\nclass GuruUjian extends Component {\r\n  state = {\r\n    userId: '',\r\n    pelajaran: [],\r\n\r\n    semester: [],\r\n    semesterId: [],\r\n\r\n    loading: true,\r\n    silabus: [],\r\n\r\n    tahunAjaran: '',\r\n    listTahunAjaran: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    let d = new Date();\r\n    // bulan diawali dengan 0 = januari, 11 = desember\r\n    let month = d.getMonth();\r\n    let tahunAjaran = month < 6 ? (d.getFullYear() - 1) + '/' + d.getFullYear() : d.getFullYear() + '/' + (d.getFullYear() + 1);\r\n\r\n    let temp = [];\r\n    for (var i = 0; i < 6; i++) {\r\n      temp.push(`${d.getFullYear() - i}/${d.getFullYear() - i + 1}`)\r\n    }\r\n    this.setState({ tahunAjaran, listTahunAjaran: temp })\r\n\r\n    let role = Storage.get('user').data.grup_name.toLowerCase();\r\n    if (role == 'murid') {\r\n      this.setState({ userId: Storage.get('user').data.user_id })\r\n      this.fetchPelajaran(Storage.get('user').data.user_id, tahunAjaran)\r\n    }\r\n    else {\r\n      this.fetchMuridKu(Storage.get('user').data.user_id, tahunAjaran)\r\n    }\r\n  }\r\n\r\n  fetchMuridKu(userId, tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/parents/my-murid/${userId}`).then(res => {\r\n      this.setState({ userId: res.data.result.user_id_murid })\r\n      this.fetchPelajaran(res.data.result.user_id_murid, tahunAjaran)\r\n    })\r\n  }\r\n\r\n  fetchPelajaran(userId, tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/jadwal-murid/${userId}?mapelOnly=true&tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal murid`)\r\n\r\n      this.setState({\r\n        pelajaran: res.data.result,\r\n        semester: res.data.semester,\r\n        semesterId: res.data.result.length ? res.data.semester[0].kelas_id : ''\r\n      })\r\n\r\n      if (res.data.result.length) {\r\n        this.fetchSilabus(res.data.result[0].jadwal_id, userId)\r\n      }\r\n      else {\r\n        toast.info(`Belum ada jadwal.`)\r\n      }\r\n    })\r\n  }\r\n\r\n  fetchSilabus(jadwalId, userId) {\r\n    API.get(`${API_SERVER}v2/silabus/jadwal/${jadwalId}?userId=${userId}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal one`)\r\n      this.setState({ silabus: res.data.result, loading: false, });\r\n    })\r\n  }\r\n\r\n  filterKegiatan = e => {\r\n    let { value } = e.target;\r\n    this.fetchSilabus(value, this.state.userId);\r\n  }\r\n\r\n  filterClear = e => {\r\n    console.log('filterClear')\r\n  }\r\n\r\n  selectTahunAjaran = e => {\r\n    const { value } = e.target;\r\n    this.setState({ tahunAjaran: value, pelajaran: [] })\r\n    let role = Storage.get('user').data.grup_name.toLowerCase();\r\n\r\n    if (role == 'murid') {\r\n      this.fetchPelajaran(Storage.get('user').data.user_id, value)\r\n    }\r\n    else {\r\n      this.fetchMuridKu(Storage.get('user').data.user_id, value)\r\n    }\r\n  }\r\n\r\n  selectSemester = e => {\r\n    const { value } = e.target;\r\n    API.get(`${API_SERVER}v2/jadwal-murid/${this.state.role === 'murid' ? Storage.get('user').data.user_id : this.state.userId}?kelasId=${value}&mapelOnly=true&tahunAjaran=${this.state.tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal murid`)\r\n\r\n      this.setState({\r\n        pelajaran: res.data.result,\r\n        semester: res.data.semester,\r\n        semesterId: value\r\n      })\r\n      if (res.data.result.length) {\r\n        this.fetchSilabus(res.data.result[0].jadwal_id, Storage.get('user').data.user_id)\r\n      }\r\n      else {\r\n        toast.info(`Belum ada jadwal.`)\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    const { pelajaran, silabus } = this.state;\r\n\r\n    //console.log('state: ', this.state);\r\n\r\n    return (\r\n      <div class=\"col-sm-12 mt-2\">\r\n        <Card>\r\n          <Card.Header className=\"row\">\r\n            <div className=\"col-sm-2\">\r\n              <label>Tahun Ajaran</label>\r\n              <select style={{ padding: '2px' }} className=\"mr-2 form-control\" onChange={this.selectTahunAjaran} value={this.state.tahunAjaran} >\r\n                <option value=\"\" selected disabled>Select</option>\r\n                {\r\n                  this.state.listTahunAjaran.map(item => (\r\n                    <option value={item}>{item}</option>\r\n                  ))\r\n                }\r\n              </select>\r\n            </div>\r\n            <div className=\"col-sm-2\">\r\n              <label>Semester</label>\r\n              <select style={{ padding: '2px' }} className=\"mr-2 form-control\" onChange={this.selectSemester} value={this.state.semesterId} >\r\n                <option value=\"\" selected disabled>Select</option>\r\n                {\r\n                  this.state.semester.map(item => (\r\n                    <option value={item.kelas_id}>{item.semester_name}</option>\r\n                  ))\r\n                }\r\n              </select>\r\n            </div>\r\n            <div className=\"col-sm-2\">\r\n              <label>Pelajaran</label>\r\n              <select style={{ padding: '2px' }} className=\"form-control\" onChange={this.filterKegiatan}>\r\n                {\r\n                  pelajaran.map((item, i) => (\r\n                    <option value={item.jadwal_id}>{item.mapel}</option>\r\n                  ))\r\n                }\r\n              </select>\r\n            </div>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            <table className=\"table table-bordered\">\r\n              <thead>\r\n                <tr>\r\n                  <th></th>\r\n                  <th>Sesi</th>\r\n                  <th>Kegiatan</th>\r\n                  <th>Topik</th>\r\n                  <th>Judul</th>\r\n                  <th>Kehadiran</th>\r\n                  <th>Plan Date</th>\r\n                  <th>Actual Date</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {\r\n                  silabus.map((item, i) => (\r\n                    <>\r\n                      <tr>\r\n                        <td data-toggle='collapse' data-target={`#col${i}`} className=\"collapsed text-center\">\r\n                          {\r\n                            item.tugas.length || item.kuis.length || item.ujian.length ?\r\n                              <i className=\"fa\"></i>\r\n                              : null\r\n                          }\r\n                        </td>\r\n                        <td>{item.sesi}</td>\r\n                        <td>{item.jenis == '0' ? 'Materi' : item.jenis == '1' ? 'Kuis' : 'Ujian'}</td>\r\n                        <td>{item.topik}</td>\r\n                        <td>{item.chapter_title}</td>\r\n                        <td>{item.absen_jam ? 'Hadir' : (new Date() <= new Date(moment(item.start_date).format('YYYY-MM-DD HH:mm'))) ? '-' : 'Tidak Hadir'}</td>\r\n                        <td>{moment(item.start_date).format('DD/MM/YYYY HH:mm')}</td>\r\n                        <td>{item.absen_jam ? moment(item.absen_jam).format('DD/MM/YYYY HH:mm') : '-'}</td>\r\n                      </tr>\r\n                      {\r\n                        item.tugas.length || item.kuis.length || item.ujian.length ?\r\n                          <tr className='collapse' id={`col${i}`}>\r\n                            <td colSpan='8'>\r\n                              <section className=\"container-fluid\">\r\n                                {\r\n                                  item.tugas.length ?\r\n                                    <>\r\n                                      <h5>Tugas</h5>\r\n                                      <Row>\r\n                                        <table className=\"col-sm-12 table table-bordered\">\r\n                                          <thead>\r\n                                            <tr>\r\n                                              <th>ID</th>\r\n                                              <th>Title</th>\r\n                                              <th>Deadline</th>\r\n                                              <th>Submitted</th>\r\n                                              <th>Score</th>\r\n                                            </tr>\r\n                                          </thead>\r\n                                          <tbody>\r\n                                            {\r\n                                              item.tugas.map((tugas, i) => (\r\n                                                <tr>\r\n                                                  <td>{tugas.exam_id}</td>\r\n                                                  <td>{tugas.exam_title}</td>\r\n                                                  <td>{moment(tugas.time_finish).format('DD/MM/YYYY HH:mm')}</td>\r\n                                                  <td>{tugas.submit_at ? moment(tugas.submit_at).format('DD/MM/YYYY HH:mm') : '-'}</td>\r\n                                                  <td>{tugas.score ? tugas.score : '-'}</td>\r\n                                                </tr>\r\n                                              ))\r\n                                            }\r\n                                          </tbody>\r\n                                        </table>\r\n                                      </Row>\r\n                                    </>\r\n                                    : null\r\n                                }\r\n\r\n\r\n                                {\r\n                                  item.kuis.length ?\r\n                                    <>\r\n                                      <h5>Kuis</h5>\r\n                                      <Row>\r\n                                        <table className=\"col-sm-12 table table-bordered\">\r\n                                          <thead>\r\n                                            <tr>\r\n                                              <th>ID</th>\r\n                                              <th>Title</th>\r\n                                              <th>Deadline</th>\r\n                                              <th>Correct</th>\r\n                                              <th>Wrong</th>\r\n                                              <th>Submitted</th>\r\n                                              <th>Score</th>\r\n                                            </tr>\r\n                                          </thead>\r\n                                          <tbody>\r\n                                            {\r\n                                              item.kuis.map((tugas, i) => (\r\n                                                <tr>\r\n                                                  <td>{tugas.exam_id}</td>\r\n                                                  <td>{tugas.exam_title}</td>\r\n                                                  <td>{moment(tugas.time_finish).format('DD/MM/YYYY HH:mm')}</td>\r\n                                                  <td>{tugas.total_correct ? tugas.total_correct : '-'}</td>\r\n                                                  <td>{tugas.total_uncorrect ? tugas.total_uncorrect : '-'}</td>\r\n                                                  <td>{tugas.submit_at ? moment(tugas.submit_at).format('DD/MM/YYYY HH:mm') : '-'}</td>\r\n                                                  <td>{tugas.score ? tugas.score : '-'}</td>\r\n                                                </tr>\r\n                                              ))\r\n                                            }\r\n                                          </tbody>\r\n                                        </table>\r\n                                      </Row>\r\n                                    </> : null\r\n                                }\r\n\r\n                                {\r\n                                  item.ujian.length ?\r\n                                    <>\r\n                                      <h5>Ujian</h5>\r\n                                      <Row>\r\n                                        <table className=\"col-sm-12 table table-bordered\">\r\n                                          <thead>\r\n                                            <tr>\r\n                                              <th>ID</th>\r\n                                              <th>Title</th>\r\n                                              <th>Deadline</th>\r\n                                              <th>Correct</th>\r\n                                              <th>Wrong</th>\r\n                                              <th>Submitted</th>\r\n                                              <th>Score</th>\r\n                                            </tr>\r\n                                          </thead>\r\n                                          <tbody>\r\n                                            {\r\n                                              item.ujian.map((tugas, i) => (\r\n                                                <tr>\r\n                                                  <td>{tugas.exam_id}</td>\r\n                                                  <td>{tugas.exam_title}</td>\r\n                                                  <td>{moment(tugas.time_finish).format('DD/MM/YYYY HH:mm')}</td>\r\n                                                  <td>{tugas.total_correct ? tugas.total_correct : '-'}</td>\r\n                                                  <td>{tugas.total_uncorrect ? tugas.total_uncorrect : '-'}</td>\r\n                                                  <td>{tugas.submit_at ? moment(tugas.submit_at).format('DD/MM/YYYY HH:mm') : '-'}</td>\r\n                                                  <td>{tugas.score ? tugas.score : '-'}</td>\r\n                                                </tr>\r\n\r\n                                              ))\r\n                                            }\r\n                                          </tbody>\r\n                                        </table>\r\n                                      </Row>\r\n                                    </> : null\r\n                                }\r\n\r\n                              </section>\r\n                            </td>\r\n                          </tr>\r\n                          : null\r\n                      }\r\n                    </>\r\n                  ))\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GuruUjian;\r\n","import React from 'react';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport Storage from '../../repository/storage';\r\nimport { toast } from 'react-toastify'\r\nimport moment from 'moment-timezone'\r\nimport { Modal } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport SocketContext from '../../socket';\r\n\r\nclass UjianClass extends React.Component {\r\n\r\n  state = {\r\n    role: this.props.role ? this.props.role : '',\r\n    tipe: this.props.tipe,\r\n    examId: this.props.match.params.examId,\r\n\r\n    infoExam: {},\r\n    examSoal: [],\r\n\r\n    openScore: false,\r\n    benar: 0,\r\n    salah: 0,\r\n    score: 0,\r\n\r\n    isSubmit: false,\r\n    openConfirm: false,\r\n\r\n    isStart: this.props.tipe === 'kuis' ? true : false,\r\n  }\r\n\r\n  clearScore() {\r\n    this.setState({\r\n      openScore: false,\r\n      benar: 0,\r\n      salah: 0,\r\n      score: 0\r\n    })\r\n  }\r\n\r\n  fetchExam(id) {\r\n    API.get(`${API_SERVER}v2/pelajaran/${this.state.tipe}/one/${id}`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch exam`);\r\n\r\n      this.setState({ infoExam: res.data.result })\r\n      if (res.data.result.is_started) {\r\n        this.fetchSoal(this.state.examId)\r\n        this.setState({ isStart: res.data.result.is_started })\r\n      }\r\n      this.props.getTatapMuka(res.data.result.tatapmuka);\r\n      this.props.getStarted(res.data.result.is_started ? true : false);\r\n    })\r\n  }\r\n\r\n  fetchSoal(id) {\r\n    API.get(`${API_SERVER}v2/pelajaran/pertanyaan/murid-user/${id}/${Storage.get('user').data.user_id}`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch exam`);\r\n\r\n      this.setState({ examSoal: res.data.result })\r\n    })\r\n  }\r\n\r\n  fetchSubmit() {\r\n    API.get(`${API_SERVER}v2/murid/kuis-ujian/result/${Storage.get('user').data.user_id}/${this.state.examId}`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch hasil`);\r\n\r\n      this.setState({\r\n        isSubmit: res.data.result.length ? true : false,\r\n        benar: res.data.result.length ? res.data.result[0].total_correct : 0,\r\n        salah: res.data.result.length ? res.data.result[0].total_uncorrect : 0,\r\n        score: res.data.result.length ? res.data.result[0].score : 0,\r\n      })\r\n\r\n      if (res.data.result.length) {\r\n        this.fetchSoal(this.state.examId)\r\n      }\r\n\r\n      if (this.props.getNilai) {\r\n        this.props.getNilai(res.data.result.length ? true : false)\r\n      }\r\n\r\n      localStorage.removeItem('waktuPengerjaan')\r\n\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchSubmit()\r\n    this.fetchExam(this.state.examId)\r\n\r\n    if (this.state.tipe === 'kuis') {\r\n      this.fetchSoal(this.state.examId)\r\n    }\r\n\r\n    this.props.socket.on('broadcast', data => {\r\n      console.log('state1: ', data)\r\n      if (data.event == 'mulai' && data.companyId == Storage.get('user').data.company_id) {\r\n        if (data.isStart) {\r\n          this.setState({ isStart: data.isStart })\r\n          this.fetchSoal(this.state.examId)\r\n        }\r\n        else {\r\n          this.setState({ examSoal: [], isStart: false })\r\n          localStorage.removeItem('waktuPengerjaan')\r\n        }\r\n        API.put(`${API_SERVER}v2/exam/${data.isStart ? 'start' : 'stop'}/${this.state.examId}`)\r\n      }\r\n\r\n      if (data.event == 'selesai' && data.companyId == Storage.get('user').data.company_id) {\r\n        this.saveJawaban();\r\n      }\r\n    })\r\n  }\r\n\r\n  selectJawaban = (e, i) => {\r\n    if (this.state.isSubmit) {\r\n      toast.info(`Jawaban sudah tidak bisa diubah`)\r\n    } else {\r\n      let copy = [...this.state.examSoal];\r\n      copy[i].jawaban = e.target.value;\r\n\r\n      let form = {\r\n        questionId: copy[i].id,\r\n        userId: Storage.get('user').data.user_id,\r\n        jawaban: e.target.value\r\n      };\r\n      // console.log('state: ', form);\r\n      API.post(`${API_SERVER}v2/murid/kuis-ujian/jawab`, form).then(res => {\r\n        if (res.data.error) toast.warning(`Warning: jawab pertanyaan`)\r\n\r\n        this.setState({ examSoal: copy })\r\n      })\r\n    }\r\n  }\r\n\r\n  saveJawaban() {\r\n    let form = {\r\n      userId: Storage.get('user').data.user_id,\r\n      examId: this.state.examId,\r\n    }\r\n\r\n    API.post(`${API_SERVER}v2/murid/kuis-ujian/submit`, form).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: submit jawaban`);\r\n\r\n      this.setState({\r\n        openScore: true,\r\n        openConfirm: false,\r\n        benar: res.data.result.benar,\r\n        salah: res.data.result.salah,\r\n        score: res.data.result.score\r\n      })\r\n      this.fetchSubmit();\r\n\r\n      window.location.reload();\r\n    })\r\n  }\r\n\r\n  lihatHasil = e => {\r\n    e.preventDefault()\r\n    this.setState({ openScore: true, })\r\n  }\r\n\r\n  render() {\r\n\r\n    //console.log('state: ', this.state)\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"col-sm-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\" style={{ padding: '12px' }}>\r\n\r\n              <h4 className=\"mb-3\">{this.state.infoExam.title}</h4>\r\n\r\n              {\r\n                this.state.examSoal.map((item, i) => (\r\n                  <div className=\"mb-2\" key={i}>\r\n                    <label>Pertanyaan <b>{i + 1}</b></label>\r\n                    <div className=\"soal mb-2\" dangerouslySetInnerHTML={{ __html: item.tanya }} />\r\n\r\n                    {\r\n                      this.state.isSubmit &&\r\n                      <ul class=\"list-group\">\r\n                        {item.a && <li class={`list-group-item list-group-item-${item.jawaban === \"A\" ? 'success' : item.myJawaban[0].answer_option === \"A\" ? 'danger' : ''}`}><b>A.</b> {item.a}</li>}\r\n                        {item.b && <li class={`list-group-item list-group-item-${item.jawaban === \"B\" ? 'success' : item.myJawaban[0].answer_option === \"B\" ? 'danger' : ''}`}><b>B.</b> {item.b}</li>}\r\n                        {item.c && <li class={`list-group-item list-group-item-${item.jawaban === \"C\" ? 'success' : item.myJawaban[0].answer_option === \"C\" ? 'danger' : ''}`}><b>C.</b> {item.c}</li>}\r\n                        {item.d && <li class={`list-group-item list-group-item-${item.jawaban === \"D\" ? 'success' : item.myJawaban[0].answer_option === \"D\" ? 'danger' : ''}`}><b>D.</b> {item.d}</li>}\r\n                        {item.e && <li class={`list-group-item list-group-item-${item.jawaban === \"E\" ? 'success' : item.myJawaban[0].answer_option === \"E\" ? 'danger' : ''}`}><b>E.</b> {item.e}</li>}\r\n                      </ul>\r\n                    }\r\n\r\n                    {\r\n                      this.state.role === \"guru\" &&\r\n                      <>\r\n                        <ul class=\"list-group\">\r\n                          {item.a && <li class={`list-group-item list-group-item-${item.jawaban === \"A\" ? 'success' : ''}`}><b>A.</b> {item.a}</li>}\r\n                          {item.b && <li class={`list-group-item list-group-item-${item.jawaban === \"B\" ? 'success' : ''}`}><b>B.</b> {item.b}</li>}\r\n                          {item.c && <li class={`list-group-item list-group-item-${item.jawaban === \"C\" ? 'success' : ''}`}><b>C.</b> {item.c}</li>}\r\n                          {item.d && <li class={`list-group-item list-group-item-${item.jawaban === \"D\" ? 'success' : ''}`}><b>D.</b> {item.d}</li>}\r\n                          {item.e && <li class={`list-group-item list-group-item-${item.jawaban === \"E\" ? 'success' : ''}`}><b>E.</b> {item.e}</li>}\r\n                        </ul>\r\n\r\n                        <div className=\"penjelasan mt-3 mb-4\">\r\n                          <label><b>Penjelasan</b></label>\r\n                          <div className=\"soal mb-2\" dangerouslySetInnerHTML={{ __html: item.penjelasan }} />\r\n                        </div>\r\n                      </>\r\n                    }\r\n\r\n                    {\r\n                      this.state.role === \"murid\" && !this.state.isSubmit && item.a &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"A\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>A.</td>\r\n                        <td>{item.a}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && !this.state.isSubmit && item.b &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"B\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>B.</td>\r\n                        <td>{item.b}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && !this.state.isSubmit && item.c &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"C\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>C.</td>\r\n                        <td>{item.c}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && !this.state.isSubmit && item.d &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"D\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>D.</td>\r\n                        <td>{item.d}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && !this.state.isSubmit && item.e &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"E\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>E.</td>\r\n                        <td>{item.e}</td>\r\n                      </tr>\r\n                    }\r\n\r\n                    {\r\n                      this.state.role === \"murid\" && this.state.isSubmit &&\r\n                      <div className=\"penjelasan mt-3 mb-4\">\r\n                        <label><b>Penjelasan</b></label>\r\n                        <div className=\"soal mb-2\" dangerouslySetInnerHTML={{ __html: item.penjelasan }} />\r\n                      </div>\r\n                    }\r\n                  </div>\r\n                ))\r\n              }\r\n\r\n              {\r\n                (this.state.isStart) && this.state.role === \"murid\" && !this.state.isSubmit ?\r\n                  <button onClick={e => this.setState({ openConfirm: true })} className=\"btn btn-v2 btn-primary mt-3\">Submit</button>\r\n                  : null\r\n              }\r\n\r\n              {\r\n                this.state.isSubmit &&\r\n                <button onClick={this.lihatHasil} className=\"btn btn-v2 btn-primary mt-3\">Lihat Hasil</button>\r\n              }\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          show={this.state.openScore}\r\n          onHide={() => this.setState({ openScore: false })}\r\n        >\r\n          <Modal.Body>\r\n            <h4 className=\"mb-3\">Hasil {this.state.infoExam.title}</h4>\r\n\r\n            <div className=\"score-exam text-center\" style={{ padding: '8px 26px' }}>\r\n              <span>Score</span>\r\n              <h1>{this.state.score}</h1>\r\n            </div>\r\n\r\n            <tr>\r\n              <td>Benar</td>\r\n              <td><b>{this.state.benar}</b></td>\r\n            </tr>\r\n            <tr>\r\n              <td style={{ width: '80px' }}>Salah</td>\r\n              <td><b>{this.state.salah}</b></td>\r\n            </tr>\r\n            <tr>\r\n              <td style={{ width: '80px' }}>Score</td>\r\n              <td><b>{this.state.score}</b></td>\r\n            </tr>\r\n\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n        <Modal\r\n          show={this.state.openConfirm}\r\n          onHide={() => this.setState({ openConfirm: false })}\r\n        >\r\n          <Modal.Body>\r\n            <h4>Perhatian</h4>\r\n            <p>Mohon dicek kembali. Apakah Kamu yakin telah mengerjakan semua dan akan mengumpulkannya ?</p>\r\n\r\n            <Link onClick={() => this.saveJawaban()} className=\"btn btn-v2 btn-primary mr-2\">Yakin</Link>\r\n            <Link onClick={() => this.setState({ openConfirm: false })} className=\"btn btn-v2 btn-default\">Tidak</Link>\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst Ujian = props => (\r\n  <SocketContext.Consumer>\r\n    {socket => <UjianClass {...props} socket={socket} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default Ujian;\r\n","import React, { Component } from \"react\";\r\nimport Storage from '../../repository/storage';\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { Row, Card, Modal, Form, FormControl, ListGroup, ListGroupItem } from 'react-bootstrap';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport { toast } from 'react-toastify'\r\nimport moment from 'moment-timezone'\r\n\r\nclass GuruUjian extends Component {\r\n  state = {\r\n    userId: '',\r\n    kelasKu: [],\r\n    pelajaran: [],\r\n\r\n    loading: true,\r\n    silabus: [],\r\n\r\n    tahunAjaran: '',\r\n    listTahunAjaran: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    let d = new Date();\r\n    // bulan diawali dengan 0 = januari, 11 = desember\r\n    let month = d.getMonth();\r\n    let tahunAjaran = month < 6 ? (d.getFullYear()-1)+'/'+d.getFullYear() : d.getFullYear()+'/'+(d.getFullYear()+1);\r\n\r\n    let temp = [];\r\n    for(var i=0; i<6; i++) {\r\n      temp.push(`${d.getFullYear()-i}/${d.getFullYear()-i+1}`)\r\n    }\r\n    this.setState({ tahunAjaran, listTahunAjaran: temp })\r\n\r\n    let role = Storage.get('user').data.grup_name.toLowerCase();\r\n    if(role == 'murid') {\r\n      this.setState({ userId: Storage.get('user').data.user_id })\r\n      this.fetchMyKelas(Storage.get('user').data.user_id, tahunAjaran)\r\n    }\r\n    else {\r\n      this.fetchMuridKu(Storage.get('user').data.user_id, tahunAjaran)\r\n    }\r\n  }\r\n\r\n  fetchMyKelas(userId, tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/kelas/murid/${userId}`).then(res => {\r\n      this.setState({ kelasKu: res.data.result.filter(item => item.tahun_ajaran == tahunAjaran) })\r\n    })\r\n  }\r\n\r\n  fetchMuridKu(userId, tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/parents/my-murid/${userId}`).then(res => {\r\n      this.setState({ userId: res.data.result.user_id_murid })\r\n      this.fetchPelajaran(res.data.result.user_id_murid, tahunAjaran)\r\n    })\r\n  }\r\n\r\n  fetchPelajaran(userId, tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/jadwal-murid/${userId}?mapelOnly=true&tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if(res.data.error) toast.warning(`Error: fetch jadwal murid`)\r\n\r\n      this.setState({ pelajaran: res.data.result })\r\n      if(res.data.result.length) {\r\n        this.fetchSilabus(res.data.result[0].jadwal_id , userId)\r\n      }\r\n      else {\r\n        toast.info(`Belum ada jadwal.`)\r\n      }\r\n    })\r\n  }\r\n\r\n  fetchSilabus(jadwalId, userId) {\r\n    API.get(`${API_SERVER}v2/silabus/jadwal/${jadwalId}?userId=${userId}`).then(res => {\r\n      if(res.data.error) toast.warning(`Error: fetch jadwal one`)\r\n      this.setState({ silabus: res.data.result, loading: false, });\r\n    })\r\n  }\r\n\r\n  filterKegiatan = e => {\r\n    let { value } = e.target;\r\n    this.fetchSilabus(value, this.state.userId);\r\n  }\r\n\r\n  filterClear = e => {\r\n    console.log('filterClear')\r\n  }\r\n\r\n  selectTahunAjaran = e => {\r\n    const { value } = e.target;\r\n    this.setState({ tahunAjaran: value, pelajaran: [] })\r\n    let role = Storage.get('user').data.grup_name.toLowerCase();\r\n\r\n    if(role == 'murid') {\r\n      this.fetchMyKelas(Storage.get('user').data.user_id, value)\r\n    }\r\n    else {\r\n      this.fetchMuridKu(Storage.get('user').data.user_id, value)\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const { pelajaran, silabus } = this.state;\r\n\r\n    console.log('state: ', this.state);\r\n\r\n    return (\r\n      <div class=\"col-sm-12 mt-2\">\r\n        <Card>\r\n          <Card.Body>\r\n            <h4 className=\"f-w-900 f-18 fc-blue mb-3\">Informasi Kelas</h4>\r\n\r\n            <select style={{padding: '2px'}} className=\"mr-2\" onChange={this.selectTahunAjaran} value={this.state.tahunAjaran} >\r\n              <option value=\"\" selected disabled>Select</option>\r\n              {\r\n                this.state.listTahunAjaran.map(item => (\r\n                  <option value={item}>{item}</option>\r\n                ))\r\n              }\r\n            </select>\r\n\r\n            {\r\n              this.state.kelasKu.map((item, i) => (\r\n                <table className=\"table table-bordered mt-3\">\r\n                  <tr>\r\n                    <td width=\"180px\">Kelas</td>\r\n                    <td><b>{item.kelas_nama}</b></td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Semester</td>\r\n                    <td><b>{item.semester_name}</b></td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Tahun Ajaran</td>\r\n                    <td><b>{item.tahun_ajaran}</b></td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Action</td>\r\n                    <td>\r\n                      <Link to={`/ruangan/kelas/${item.kelas_id}`} className=\"btn btn-v2 btn-primary\">Masuk Ruangan</Link>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              ))\r\n            }\r\n\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GuruUjian;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport Storage from '../../repository/storage';\r\nimport { Modal } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify'\r\n\r\nclass MataPelajaran extends React.Component {\r\n\r\n  state = {\r\n    mataPelajaran: [],\r\n    semester: [],\r\n    semesterId: '',\r\n\r\n    isModalBuka: false,\r\n\r\n    isModalSilabus: false,\r\n    jadwalPelajaran: [],\r\n    pelajaranId: '',\r\n    dataSilabus: [],\r\n\r\n    tahunAjaran: '',\r\n    listTahunAjaran: []\r\n  }\r\n\r\n  fetchPelajaran(tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/jadwal-murid/${Storage.get('user').data.user_id}?tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal murid`)\r\n\r\n      this.setState({\r\n        mataPelajaran: res.data.result,\r\n        semester: res.data.semester,\r\n        semesterId: res.data.semester.length ? res.data.semester[0].kelas_id : ''\r\n      })\r\n    })\r\n  }\r\n\r\n  fetchJadwal(tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/jadwal-mengajar/murid/${Storage.get('user').data.user_id}?tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal`)\r\n      if(res.data.result) {\r\n        let uniq = [...new Map(res.data.result.jadwal.map(item => [item['nama_pelajaran'], item])).values()];\r\n\r\n        this.setState({\r\n          jadwalPelajaran: uniq,\r\n        })\r\n      }\r\n      else {\r\n        toast.info('Belum ada jadwal')\r\n      }\r\n    })\r\n  }\r\n\r\n  fetchSilabus(pelajaranId) {\r\n    API.get(`${API_SERVER}v2/silabus/pelajaran/${pelajaranId}`).then(res => {\r\n      if (res.data.error) console.log(`Error: fetch overview`)\r\n\r\n      this.setState({ dataSilabus: res.data.result });\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    let d = new Date();\r\n    // bulan diawali dengan 0 = januari, 11 = desember\r\n    let month = d.getMonth();\r\n    let tahunAjaran = month < 6 ? (d.getFullYear() - 1) + '/' + d.getFullYear() : d.getFullYear() + '/' + (d.getFullYear() + 1);\r\n\r\n    let temp = [];\r\n    for (var i = 0; i < 6; i++) {\r\n      temp.push(`${d.getFullYear() - i}/${d.getFullYear() - i + 1}`)\r\n    }\r\n    this.setState({ tahunAjaran, listTahunAjaran: temp })\r\n\r\n    this.fetchPelajaran(tahunAjaran);\r\n    this.fetchJadwal(tahunAjaran);\r\n  }\r\n\r\n  clearForm() {\r\n    this.setState({\r\n      isModalSilabus: false,\r\n      isModalBuka: false,\r\n      pelajaranId: '',\r\n      dataSilabus: [],\r\n    })\r\n  }\r\n\r\n  selectPelajaran = e => {\r\n    e.preventDefault();\r\n    let pelajaranId = e.target.value;\r\n    this.setState({ isModalSilabus: true, pelajaranId })\r\n    this.fetchSilabus(pelajaranId);\r\n  }\r\n\r\n  selectTahunAjaran = e => {\r\n    const { value } = e.target;\r\n    this.setState({ tahunAjaran: value })\r\n    this.fetchPelajaran(value);\r\n    this.fetchJadwal(value);\r\n  }\r\n\r\n  selectSemester = e => {\r\n    const { value } = e.target;\r\n    this.setState({ semesterId: value })\r\n    API.get(`${API_SERVER}v2/jadwal-murid/${Storage.get('user').data.user_id}?kelasId=${value}&tahunAjaran=${this.state.tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal murid`)\r\n\r\n      this.setState({\r\n        mataPelajaran: res.data.result,\r\n        semester: res.data.semester,\r\n        semesterId: value\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    //console.log('state: ', this.state)\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"col-sm-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header row\">\r\n              <div className=\"col-sm-2\">\r\n                <label>Tahun Ajaran</label>\r\n                <select onChange={this.selectTahunAjaran} value={this.state.tahunAjaran} className=\"form-control\" required>\r\n                  <option value=\"\" selected disabled>Select</option>\r\n                  {\r\n                    this.state.listTahunAjaran.map(item => (\r\n                      <option value={item}>{item}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n              <div className=\"col-sm-2\">\r\n                <label>Semester</label>\r\n                <select onChange={this.selectSemester} value={this.state.semesterId} className=\"form-control\" required>\r\n                  <option value=\"\" selected disabled>Select</option>\r\n                  {\r\n                    this.state.semester.map(item => (\r\n                      <option value={item.kelas_id}>{item.semester_name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n              <div className=\"col-sm-4\">\r\n                <button onClick={() => this.setState({ isModalSilabus: true })} className=\"btn btn-v2 btn-primary mt-4\">\r\n                  <i className=\"fa fa-list\"></i>\r\n                  See Syllabus\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card-body\" style={{ padding: '12px' }}>\r\n\r\n              <table className=\"table table-bordered\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">Date</th>\r\n                    <th className=\"text-center\">Subject</th>\r\n                    <th className=\"text-center\">Time</th>\r\n                    <th className=\"text-center\">Session</th>\r\n                    <th className=\"text-center\">Teacher</th>\r\n                    <th className=\"text-center\">Room</th>\r\n                    <th className=\"text-center\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {\r\n                    this.state.mataPelajaran.map((item, i) => (\r\n                      <>\r\n                        <tr>\r\n                          <td className=\"text-center\" style={{ verticalAlign: 'middle' }} rowSpan={item.data.length + 1}>{item.tanggal}</td>\r\n                          {\r\n                            item.data.length === 0 &&\r\n                            <td className=\"text-center\" colSpan=\"6\">No schedule</td>\r\n                          }\r\n                        </tr>\r\n                        {\r\n                          item.data.map(row => (\r\n                            <tr>\r\n                              <td className=\"text-center\" style={{ verticalAlign: 'middle' }}>{row.mapel}</td>\r\n                              <td className=\"text-center\" style={{ verticalAlign: 'middle' }}>{row.jam_mulai}-{row.jam_selesai}</td>\r\n                              <td className=\"text-center\" style={{ verticalAlign: 'middle' }}>{row.sesi}</td>\r\n                              <td className=\"text-center\" style={{ verticalAlign: 'middle' }}>{row.nama_guru}</td>\r\n                              <td className=\"text-center\" style={{ verticalAlign: 'middle' }}>{row.nama_ruangan}</td>\r\n                              <td className=\"text-center\" style={{ verticalAlign: 'middle' }}>\r\n                                {\r\n                                  /**\r\n                                  <button onClick={e => {e.preventDefault(); this.setState({ isModalBuka: true })}} className=\"btn btn-v2 btn-primary\">\r\n                                  <i className=\"fa fa-paper-plane\"></i> Open\r\n                                  </button>\r\n                                  */\r\n                                }\r\n                                <Link to={`/murid/detail-mapel/${row.jadwal_id}`} className=\"btn btn-v2 btn-primary\">\r\n                                  <i className=\"fa fa-paper-plane\"></i> Open\r\n                                </Link>\r\n                              </td>\r\n                            </tr>\r\n                          ))\r\n                        }\r\n                      </>\r\n                    ))\r\n                  }\r\n                </tbody>\r\n\r\n                <tfoot>\r\n                  <tr>\r\n                    <th className=\"text-center\">Date</th>\r\n                    <th className=\"text-center\">Subject</th>\r\n                    <th className=\"text-center\">Time</th>\r\n                    <th className=\"text-center\">Session</th>\r\n                    <th className=\"text-center\">Teacher</th>\r\n                    <th className=\"text-center\">Room</th>\r\n                    <th className=\"text-center\">Action</th>\r\n                  </tr>\r\n                </tfoot>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          show={this.state.isModalBuka}\r\n          onHide={() => this.clearForm()}\r\n        >\r\n          <Modal.Body>\r\n            <h4>Perhatian</h4>\r\n            <p>Apakah Kamu yakin mau masuk pelajaran ... ?</p>\r\n\r\n            <Link to={`/`} className=\"btn btn-v2 btn-primary\">Yakin</Link>\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n        <Modal\r\n          show={this.state.isModalSilabus}\r\n          onHide={() => this.clearForm()}\r\n          dialogClassName=\"modal-lg\"\r\n        >\r\n          <Modal.Header closeButton>\r\n            <form className=\"form-inline\">\r\n              <label>Subject</label>\r\n              <select onChange={this.selectPelajaran} className=\"form-control ml-2\">\r\n                <option value=\"\" disabled selected>Choose subject</option>\r\n                {\r\n                  this.state.jadwalPelajaran.map((item, i) => (\r\n                    <option key={i} value={item.pelajaran_id}>{item.nama_pelajaran}</option>\r\n                  ))\r\n                }\r\n              </select>\r\n            </form>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <table className=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Session</th>\r\n                  <th>Topic</th>\r\n                  <th>Goal</th>\r\n                  <th>Description</th>\r\n                  <th>Files</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {\r\n                  this.state.dataSilabus.map((item, i) => {\r\n                    if (item.jenis === 0) {\r\n                      return (\r\n                        <tr key={i}>\r\n                          <td>{item.sesi}</td>\r\n                          <td>{item.topik}</td>\r\n                          <td>{item.tujuan}</td>\r\n                          <td>{item.deskripsi}</td>\r\n                          <td style={{ padding: '12px' }}>\r\n                            {\r\n                              item.files ? <a href={item.files} target=\"_blank\" className=\"silabus\">Open</a> : 'No files'\r\n                            }\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    } else {\r\n                      return (\r\n                        <tr key={i}>\r\n                          <td>{item.sesi}</td>\r\n                          <td colSpan=\"4\" className=\"text-center\">{item.jenis == 1 ? 'Kuis' : 'Ujian'}</td>\r\n                        </tr>\r\n                      )\r\n                    }\r\n                  })\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default MataPelajaran;\r\n","import React, { Component } from \"react\";\r\nimport Storage from '../../repository/storage';\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { Card, Modal, Form, FormControl } from 'react-bootstrap';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport { toast } from 'react-toastify'\r\nimport moment from 'moment-timezone'\r\n\r\nclass GuruUjian extends Component {\r\n  state = {\r\n    toDo: [],\r\n    calendar: [],\r\n\r\n    muridId: Storage.get('user').data.user_id,\r\n\r\n    pengumuman: [],\r\n    openPengumuman: false,\r\n    pengumumanId: '',\r\n    pengumumanNama: '',\r\n    pengumumanIsi: '',\r\n    pengumumanFile: [],\r\n    tugas: [],\r\n    ujian: [],\r\n    jadwal: [],\r\n    event: [],\r\n\r\n    tahunAjaran: '',\r\n    listTahunAjaran: []\r\n  }\r\n\r\n  fetchJadwal(userIdMurid, tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/jadwal-mengajar/murid/${userIdMurid}?tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal`)\r\n\r\n      let hari = [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"];\r\n      let tglIni = new Date();\r\n      let hariIni = res.data.result.jadwal.filter(item => item.hari === hari[tglIni.getDay()]);\r\n\r\n      this.setState({\r\n        jadwal: hariIni,\r\n        tugas: res.data.result.tugas,\r\n        ujian: res.data.result.ujian,\r\n      })\r\n    })\r\n  }\r\n\r\n  fetchEvents(muridId) {\r\n    API.get(`${API_SERVER}v2/events/murid/${muridId}`).then(res => {\r\n      if(res.data.error) console.log(`Error: fetch events`)\r\n\r\n      console.log('events: ', res.data.result);\r\n\r\n      let mengajar = res.data.result.mengajar\r\n      .map(item => {\r\n        let stTgl = moment(item.start_date).format('YYYY-MM-DD HH:mm');\r\n        let tglSt = new Date(stTgl)\r\n\r\n        return {\r\n          title: `${item.chapter_title}`,\r\n          start: tglSt,\r\n          end: tglSt,\r\n          event: 'materi',\r\n          absen: item.absen_jam,\r\n          mapel: item.nama_pelajaran\r\n        }\r\n      })\r\n\r\n      // console.log('events: ', res.data.result.mengajar)\r\n\r\n      let ptc = res.data.result.ptc\r\n      .map(item => {\r\n        let stTgl = moment(item.tanggal_mulai).format('YYYY-MM-DD') + ' ' + item.waktu_mulai;\r\n        let tglSt = new Date(stTgl)\r\n\r\n        return {\r\n          title: `${item.nama_ruangan}`,\r\n          start: tglSt,\r\n          end: tglSt,\r\n          event: 'ptc'\r\n        }\r\n      })\r\n      // console.log('events: ', ptc)\r\n\r\n\r\n      let tugas = res.data.result.tugas\r\n      .map(item => {\r\n        let stTgl = moment(item.time_finish).format('YYYY-MM-DD');\r\n        let tglSt = new Date(stTgl)\r\n\r\n        return {\r\n          title: `${item.exam_title}`,\r\n          start: tglSt,\r\n          end: tglSt,\r\n          event: 'tugas',\r\n          submitted: item.submitted,\r\n          mapel: item.nama_pelajaran\r\n        }\r\n      })\r\n      console.log('events: ', res.data.result.tugas)\r\n\r\n\r\n      let quiz = res.data.result.quiz\r\n      .map(item => {\r\n        let stTgl = moment(item.time_finish).format('YYYY-MM-DD');\r\n        let tglSt = new Date(stTgl)\r\n\r\n        return {\r\n          title: `${item.exam_title}`,\r\n          start: tglSt,\r\n          end: tglSt,\r\n          event: 'kuis',\r\n          absen: item.absen_jam,\r\n          score: item.score,\r\n          mapel: item.nama_pelajaran\r\n        }\r\n      })\r\n      console.log('events: ', res.data.result.quiz)\r\n\r\n\r\n      let ujian = res.data.result.ujian\r\n      .map(item => {\r\n        let stTgl = moment(item.time_finish).format('YYYY-MM-DD');\r\n        let tglSt = new Date(stTgl)\r\n\r\n        return {\r\n          title: `${item.exam_title}`,\r\n          start: tglSt,\r\n          end: tglSt,\r\n          event: 'ujian',\r\n          absen: item.absen_jam,\r\n          score: item.score,\r\n          mapel: item.nama_pelajaran\r\n        }\r\n      })\r\n      // console.log('events: ', ujian)\r\n\r\n\r\n      let events = mengajar.concat(ptc.concat(tugas.concat(quiz.concat(ujian))));\r\n\r\n      this.setState({ event: events })\r\n    })\r\n  }\r\n\r\n  openPengumuman = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      openPengumuman: true,\r\n      pengumumanId: e.target.getAttribute('data-id'),\r\n      pengumumanNama: e.target.getAttribute('data-title'),\r\n      pengumumanIsi: e.target.getAttribute('data-isi'),\r\n      pengumumanFile: e.target.getAttribute('data-file') ? e.target.getAttribute('data-file').split(',') : []\r\n    })\r\n  }\r\n\r\n  closePengumuman() {\r\n    this.setState({\r\n      openPengumuman: false,\r\n      pengumumanId: '',\r\n      pengumumanNama: '',\r\n      pengumumanIsi: '',\r\n      pengumumanFile: [],\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    let d = new Date();\r\n    // bulan diawali dengan 0 = januari, 11 = desember\r\n    let month = d.getMonth();\r\n    let tahunAjaran = month < 6 ? (d.getFullYear()-1)+'/'+d.getFullYear() : d.getFullYear()+'/'+(d.getFullYear()+1);\r\n\r\n    let temp = [];\r\n    for(var i=0; i<6; i++) {\r\n      temp.push(`${d.getFullYear()-i}/${d.getFullYear()-i+1}`)\r\n    }\r\n    this.setState({ tahunAjaran, listTahunAjaran: temp })\r\n\r\n    this.fetchPengumuman();\r\n    this.fetchJadwal(Storage.get('user').data.user_id, tahunAjaran)\r\n    this.fetchEvents(Storage.get('user').data.user_id)\r\n  }\r\n\r\n  fetchPengumuman() {\r\n    let url = null;\r\n    if (this.state.level === \"admin\" || this.state.level === \"superadmin\") {\r\n      url = `${API_SERVER}v1/pengumuman/company/${this.state.companyId}`;\r\n    } else {\r\n      url = `${API_SERVER}v1/pengumuman/role/${Storage.get('user').data.grup_id}`;\r\n    }\r\n\r\n    API.get(url).then(response => {\r\n      this.setState({ pengumuman: response.data.result.reverse() });\r\n    }).catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  filterKegiatan = e => {\r\n    let {value} = e.target;\r\n    if(value === 'all') {\r\n      this.fetchEvents(this.state.muridId)\r\n    }\r\n    else {\r\n\r\n      let event = [...this.state.event].filter(item => item.event === value);\r\n      this.setState({ event })\r\n    }\r\n  }\r\n\r\n  filterClear = e => {\r\n    this.fetchEvents(this.state.muridId)\r\n  }\r\n\r\n  selectTahunAjaran = e => {\r\n    const { value } = e.target;\r\n    this.setState({ tahunAjaran: value })\r\n    this.fetchJadwal(Storage.get('user').data.user_id, value)\r\n  }\r\n\r\n\r\n  render() {\r\n    let levelUser = Storage.get('user').data.level;\r\n    let access_project_admin = levelUser == 'admin' || levelUser == 'superadmin' ? true : false;\r\n\r\n    console.log('this', this.state.event);\r\n\r\n    let sort = this.state.event.sort((a, b) => a.start - b.start);\r\n    console.log('sort', sort);\r\n\r\n    return (\r\n      <div class=\"col-sm-12 mt-2\">\r\n        <Card>\r\n          <Card.Body>\r\n            <h4 className=\"f-w-900 f-18 fc-blue mb-3\">Progress</h4>\r\n            <select onChange={this.selectTahunAjaran} value={this.state.tahunAjaran}>\r\n              <option value=\"\" selected disabled>Select</option>\r\n              {\r\n                this.state.listTahunAjaran.map(item => (\r\n                  <option value={item}>{item}</option>\r\n                ))\r\n              }\r\n            </select>\r\n            <select style={{padding: '2px'}} onChange={this.filterKegiatan}>\r\n              <option value=\"all\">All</option>\r\n              <option value=\"materi\">Materi</option>\r\n              <option value=\"tugas\">Tugas</option>\r\n              <option value=\"kuis\">Kuis</option>\r\n              <option value=\"ujian\">Ujian</option>\r\n            </select>\r\n            <button class=\"ml-2\" onClick={this.filterClear}>clear</button>\r\n            <table className=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Kegiatan</th>\r\n                  <th>Mata Pelajaran</th>\r\n                  <th>Judul</th>\r\n                  <th>Date</th>\r\n                  <th>Status</th>\r\n                  <th>Nilai</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {\r\n                  sort.map(item => (\r\n                    <tr key={item.title+'-'+item.start}>\r\n                      <td style={{textTransform: 'capitalize'}}>{item.event}</td>\r\n                      <td>{item.mapel}</td>\r\n                      <td>{item.title}</td>\r\n                      <td>{moment(item.start).format('DD/MM/YYYY HH:mm')}</td>\r\n                      <td>\r\n                        {\r\n                          item.hasOwnProperty('absen') ?\r\n                          (item.absen ? <span class=\"label label-success\">Selesai</span> : <span class=\"label label-danger\">Belum</span>)\r\n                          :\r\n                          ((item.hasOwnProperty('submitted') && item.submitted.length === 1) ? <span class=\"label label-success\">Selesai</span> : <span class=\"label label-danger\">Belum</span>)\r\n                        }\r\n                      </td>\r\n                      {\r\n                        item.hasOwnProperty('submitted') &&\r\n                        <td>{item.submitted.length === 1 ? item.submitted[0].score : '-'}</td>\r\n                      }\r\n                      {\r\n                        item.hasOwnProperty('score') &&\r\n                        <td>{item.score ? item.score : '-'}</td>\r\n                      }\r\n                      {\r\n                        item.event === 'materi' &&\r\n                        <td>-</td>\r\n                      }\r\n                    </tr>\r\n                  ))\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GuruUjian;\r\n","import React from 'react';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport Storage from '../../repository/storage';\r\nimport { toast } from 'react-toastify'\r\nimport moment from 'moment-timezone'\r\nimport { Modal } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass Tugas extends React.Component {\r\n\r\n  state = {\r\n    semuaTugas: [],\r\n\r\n    isModalTugas: false,\r\n\r\n    isModalDetail: false,\r\n    examId: '',\r\n    tipeJawab: '',\r\n    examTitle: '',\r\n    examSoal: [],\r\n\r\n    keyFile: Math.random().toString(25),\r\n    file: '',\r\n    deskripsi: '',\r\n\r\n    jawaban: '',\r\n    submitted: false,\r\n\r\n    tahunAjaran: '',\r\n    listTahunAjaran: [],\r\n\r\n    semester: [],\r\n    semesterId: ''\r\n  }\r\n\r\n  fetchJadwal(tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/tugas-murid/${Storage.get('user').data.user_id}?tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal`)\r\n\r\n      this.setState({\r\n        semuaTugas: res.data.result.tugas.filter(item => item.quiz == 2),\r\n        semester: res.data.semester,\r\n        semesterId: res.data.semester[0].kelas_id\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    let d = new Date();\r\n    // bulan diawali dengan 0 = januari, 11 = desember\r\n    let month = d.getMonth();\r\n    let tahunAjaran = month < 6 ? (d.getFullYear() - 1) + '/' + d.getFullYear() : d.getFullYear() + '/' + (d.getFullYear() + 1);\r\n\r\n    let temp = [];\r\n    for (var i = 0; i < 6; i++) {\r\n      temp.push(`${d.getFullYear() - i}/${d.getFullYear() - i + 1}`)\r\n    }\r\n    this.setState({ tahunAjaran, listTahunAjaran: temp })\r\n\r\n    this.fetchJadwal(tahunAjaran)\r\n  }\r\n\r\n  clearForm() {\r\n    this.setState({\r\n      isModalTugas: false,\r\n      isModalDetail: false,\r\n\r\n      examId: '',\r\n      examTitle: '',\r\n      examSoal: [],\r\n\r\n      keyFile: Math.random().toString(25),\r\n      file: '',\r\n      deskripsi: '',\r\n      jawaban: '',\r\n      tipeJawab: '',\r\n\r\n      submitted: false\r\n    })\r\n  }\r\n\r\n  openDetail = e => {\r\n    e.preventDefault();\r\n    let examId = e.target.getAttribute('data-id');\r\n    let examTitle = e.target.getAttribute('data-title');\r\n    this.setState({ isModalDetail: true, examId, examTitle })\r\n    this.fetchPertanyaan(examId);\r\n  }\r\n\r\n  answerTugas = e => {\r\n    e.preventDefault()\r\n    let examId = e.target.getAttribute('data-id')\r\n    let tipeJawab = e.target.getAttribute('data-tipe')\r\n    this.fetchPertanyaan(examId)\r\n    this.setState({ isModalTugas: true, examId, tipeJawab })\r\n  }\r\n\r\n  fetchPertanyaan(id) {\r\n    API.get(`${API_SERVER}v2/pelajaran/pertanyaan/semua/${id}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch pertanyaan`)\r\n\r\n      this.setState({ examSoal: res.data.result })\r\n    })\r\n  }\r\n\r\n  submitTugas = e => {\r\n    e.preventDefault();\r\n    let form = new FormData();\r\n    form.append('file', this.state.file);\r\n    form.append('userId', Storage.get('user').data.user_id);;\r\n    form.append('examId', this.state.examId);\r\n    form.append('deskripsi', this.state.deskripsi);\r\n\r\n    //console.log('state: ', this.state)\r\n    API.post(`${API_SERVER}v2/tugas-murid/submit`, form).then(res => {\r\n      if (res.data.error) {\r\n        toast.warning(`Error: submit tugas`)\r\n      }\r\n      else {\r\n        toast.success(`Berhasil mengumpulkan tugas`);\r\n        this.fetchJadwal(this.state.tahunAjaran);\r\n        this.clearForm();\r\n      }\r\n    })\r\n  }\r\n\r\n  submitTugasLangsung = e => {\r\n    e.preventDefault()\r\n    let form = {\r\n      jawaban: this.state.jawaban,\r\n      userId: Storage.get('user').data.user_id,\r\n      examId: this.state.examId\r\n    }\r\n    API.post(`${API_SERVER}v2/tugas-murid/submit-langsung`, form).then(res => {\r\n      if (res.data.error) {\r\n        toast.warning(`Error: submit tugas`)\r\n      }\r\n      else {\r\n        toast.success(`Berhasil mengumpulkan tugas`);\r\n        this.fetchJadwal(this.state.tahunAjaran);\r\n        this.clearForm();\r\n      }\r\n    })\r\n  }\r\n\r\n  openJawabanLangsung = e => {\r\n    e.preventDefault()\r\n    let examId = e.target.getAttribute('data-id')\r\n    let tipeJawab = e.target.getAttribute('data-tipe')\r\n    let cc = [...this.state.semuaTugas].filter(item => item.exam_id == examId);\r\n    if (cc.length) {\r\n      this.setState({ examId, tipeJawab, jawaban: cc[0].submitted[0].answer_file, isModalTugas: true, submitted: true })\r\n      this.fetchPertanyaan(examId)\r\n    }\r\n  }\r\n\r\n  selectTahunAjaran = e => {\r\n    const { value } = e.target;\r\n    this.setState({ tahunAjaran: value })\r\n    this.fetchJadwal(value);\r\n  }\r\n\r\n  selectSemester = e => {\r\n    const { value } = e.target;\r\n    API.get(`${API_SERVER}v2/tugas-murid/${Storage.get('user').data.user_id}?kelasId=${value}&tahunAjaran=${this.state.tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal`)\r\n\r\n      this.setState({\r\n        semuaTugas: res.data.result.tugas.filter(item => item.quiz == 2),\r\n        semester: res.data.semester,\r\n        semesterId: value\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    console.log(`state: `, this.state)\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"col-sm-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body row\" style={{ padding: '12px' }}>\r\n\r\n              <div className=\"col-sm-2\">\r\n                <label>Tahun Ajaran</label>\r\n                <select onChange={this.selectTahunAjaran} value={this.state.tahunAjaran} className=\"form-control\" required>\r\n                  <option value=\"\" selected disabled>Select</option>\r\n                  {\r\n                    this.state.listTahunAjaran.map(item => (\r\n                      <option value={item}>{item}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"col-sm-2\">\r\n                <label>Semester</label>\r\n                <select onChange={this.selectSemester} value={this.state.semesterId} className=\"form-control\" required>\r\n                  <option value=\"\" selected disabled>Select</option>\r\n                  {\r\n                    this.state.semester.map(item => (\r\n                      <option value={item.kelas_id}>{item.semester_name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Subject </th>\r\n                    <th>Description </th>\r\n                    <th>Time of Collection</th>\r\n                    <th className=\"text-center\">Status</th>\r\n                    <th className=\"text-center\">Date Submit </th>\r\n                    <th className=\"text-center\">Score </th>\r\n                    <th className=\"text-center\"> Action </th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {\r\n                    this.state.semuaTugas.map((item, i) => {\r\n                      return (\r\n                        <tr>\r\n                          <td>{item.nama_pelajaran}</td>\r\n                          <td><a href=\"#\" data-id={item.exam_id} data-title={item.title} onClick={this.openDetail}>{item.title}</a></td>\r\n                          <td>{moment(item.time_start).format('DD/MM/YYYY')} sampai {moment(item.time_finish).format('DD/MM/YYYY')}</td>\r\n                          <td className=\"text-center\">{item.submitted.length === 1 ? <span className=\"label label-success\">Sudah Mengumpulkan</span> : <span className=\"label label-warning\">Belum Mengumpulkan</span>}</td>\r\n                          <td className=\"text-center\">{item.submitted.length === 1 ? moment(item.submitted[0].created_at).format('DD/MM/YYYY HH:mm') : '-'}</td>\r\n                          <td className=\"text-center\">\r\n                            {item.submitted.length ? item.submitted[0].score : '-'}\r\n                          </td>\r\n                          <td className=\"text-center\">\r\n                            {\r\n                              item.submitted.length === 1 && item.submitted[0].answer_file ?\r\n                                <>\r\n                                  {\r\n                                    item.tipe_jawab == '2' ?\r\n                                      <span onClick={this.openJawabanLangsung} data-tipe={item.tipe_jawab} data-id={item.exam_id} className=\"silabus\" style={{ cursor: 'pointer' }}>Open</span>\r\n                                      :\r\n                                      <a href={item.submitted[0].answer_file} target=\"_blank\" className=\"silabus\">Open</a>\r\n                                  }\r\n                                </>\r\n                                :\r\n                                <>\r\n                                  {\r\n                                    moment(item.time_finish) <= moment(new Date()) ?\r\n                                      'Expired'\r\n                                      :\r\n                                      moment(new Date()) >= moment(item.time_start) && moment(new Date()) <= moment(item.time_finish) ?\r\n                                        <button onClick={this.answerTugas} data-id={item.exam_id} data-tipe={item.tipe_jawab} className=\"btn btn-v2 btn-primary\">\r\n                                          Kirim Tugas\r\n                                      </button>\r\n                                        :\r\n                                        'Belum Saatnya'\r\n                                  }\r\n                                </>\r\n                            }\r\n\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    })\r\n                  }\r\n                </tbody>\r\n\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          show={this.state.isModalDetail}\r\n          onHide={() => this.clearForm()}\r\n        >\r\n          <Modal.Body>\r\n            <h4 className=\"mb-3\">{this.state.examTitle}</h4>\r\n\r\n            {\r\n              this.state.examSoal.map((item, i) => (\r\n                <div className=\"mb-2\">\r\n                  <label>Pertanyaan <b>{i + 1}</b></label>\r\n                  <div className=\"soal\" dangerouslySetInnerHTML={{ __html: item.tanya }} />\r\n                </div>\r\n              ))\r\n            }\r\n\r\n            <button onClick={() => this.clearForm()} className=\"btn btn-v2 btn-primary mt-3\">Close</button>\r\n\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n        <Modal\r\n          show={this.state.isModalTugas}\r\n          onHide={() => this.clearForm()}\r\n        >\r\n          <Modal.Header className=\"card-header header-kartu\" closeButton>\r\n            {this.state.submitted ? 'Informasi Tugas' : 'Kumpulkan Tugas'}\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {\r\n              this.state.tipeJawab == '1' &&\r\n              <form onSubmit={this.submitTugas}>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Upload File</label>\r\n                  <input key={this.state.keyFile} onChange={e => this.setState({ file: e.target.files[0] })} type=\"file\" className=\"form-control\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>Deskripsi</label>\r\n                  <textarea onChange={e => this.setState({ deskripsi: e.target.value })} rows='3' className=\"form-control\" />\r\n                </div>\r\n\r\n\r\n                <div className=\"form-group\">\r\n                  <button type=\"submit\" className=\"btn btn-v2 btn-success mt-3\">Submit</button>\r\n                </div>\r\n              </form>\r\n            }\r\n\r\n            {\r\n              this.state.tipeJawab == '2' &&\r\n              <form onSubmit={this.submitTugasLangsung}>\r\n                {\r\n                  this.state.examSoal.map((item, i) => (\r\n                    <div className=\"mb-2\">\r\n                      <label>Pertanyaan <b>{i + 1}</b></label>\r\n                      <div className=\"soal\" dangerouslySetInnerHTML={{ __html: item.tanya }} />\r\n                    </div>\r\n                  ))\r\n                }\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Jawaban</label>\r\n                  <textarea disabled={this.state.submitted} rows=\"10\" className=\"form-control\" onChange={e => this.setState({ jawaban: e.target.value })} value={this.state.jawaban} />\r\n                </div>\r\n\r\n                {\r\n                  !this.state.submitted &&\r\n                  <div className=\"form-group mt-2\">\r\n                    <button type=\"submit\" className=\"btn btn-v2 btn-success mt-3\">Submit</button>\r\n                  </div>\r\n                }\r\n              </form>\r\n            }\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Tugas;\r\n","import React from 'react';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport Storage from '../../repository/storage';\r\nimport { toast } from 'react-toastify'\r\nimport moment from 'moment-timezone'\r\nimport { Modal } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\nimport ReactToPrint from 'react-to-print';\r\n\r\nclass ListSoal extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <div style={{ padding: '24px' }}>\r\n        {\r\n          this.props.lists.map((item, i) => (\r\n            <div className=\"mb-2\">\r\n              <label>Pertanyaan <b>{i + 1}</b></label>\r\n              <div className=\"soal mb-2\" dangerouslySetInnerHTML={{ __html: item.tanya }} />\r\n\r\n              {\r\n                item.a &&\r\n                <tr>\r\n                  <td style={{ width: '24px' }}>A.</td>\r\n                  <td>{item.a}</td>\r\n                </tr>\r\n              }\r\n              {\r\n                item.b &&\r\n                <tr>\r\n                  <td style={{ width: '24px' }}>B.</td>\r\n                  <td>{item.b}</td>\r\n                </tr>\r\n              }\r\n              {\r\n                item.c &&\r\n                <tr>\r\n                  <td style={{ width: '24px' }}>C.</td>\r\n                  <td>{item.c}</td>\r\n                </tr>\r\n              }\r\n              {\r\n                item.d &&\r\n                <tr>\r\n                  <td style={{ width: '24px' }}>D.</td>\r\n                  <td>{item.d}</td>\r\n                </tr>\r\n              }\r\n              {\r\n                item.e &&\r\n                <tr>\r\n                  <td style={{ width: '24px' }}>E.</td>\r\n                  <td>{item.e}</td>\r\n                </tr>\r\n              }\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass Latihan extends React.Component {\r\n\r\n  state = {\r\n    tipe: this.props.tipe,\r\n    mataPelajaran: [],\r\n\r\n    openDetail: false,\r\n    examId: '',\r\n    examTitle: '',\r\n    examSoal: [],\r\n\r\n    tahunAjaran: '',\r\n    listTahunAjaran: [],\r\n\r\n    semester: [],\r\n    semesterId: ''\r\n  }\r\n\r\n  clearForm() {\r\n    this.setState({\r\n      openDetail: false,\r\n      examId: '',\r\n      examTitle: '',\r\n      examSoal: []\r\n    })\r\n  }\r\n\r\n  openDetail = e => {\r\n    e.preventDefault();\r\n    let examId = e.target.getAttribute('data-id');\r\n    let examTitle = e.target.getAttribute('data-title');\r\n    this.setState({ openDetail: true, examId, examTitle })\r\n    this.fetchPertanyaan(examId);\r\n  }\r\n\r\n  fetchPertanyaan(id) {\r\n    API.get(`${API_SERVER}v2/pelajaran/pertanyaan/semua/${id}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch pertanyaan`)\r\n\r\n      this.setState({ examSoal: res.data.result })\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    let d = new Date();\r\n    // bulan diawali dengan 0 = januari, 11 = desember\r\n    let month = d.getMonth();\r\n    let tahunAjaran = month < 6 ? (d.getFullYear() - 1) + '/' + d.getFullYear() : d.getFullYear() + '/' + (d.getFullYear() + 1);\r\n\r\n    let temp = [];\r\n    for (var i = 0; i < 6; i++) {\r\n      temp.push(`${d.getFullYear() - i}/${d.getFullYear() - i + 1}`)\r\n    }\r\n    this.setState({ tahunAjaran, listTahunAjaran: temp })\r\n\r\n    this.fetchKuis(Storage.get('user').data.user_id, tahunAjaran);\r\n  }\r\n\r\n  fetchKuis(id, tahunAjaran) {\r\n    API.get(`${API_SERVER}v2/${this.state.tipe}-murid/${id}?tahunAjaran=${tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch kuis murid`);\r\n\r\n      this.setState({\r\n        mataPelajaran: res.data.result.kuis,\r\n        semester: res.data.semester,\r\n        semesterId: res.data.semester[0].kelas_id\r\n      })\r\n    })\r\n  }\r\n\r\n  selectTahunAjaran = e => {\r\n    const { value } = e.target;\r\n    this.setState({ tahunAjaran: value })\r\n    this.fetchKuis(Storage.get('user').data.user_id, value);\r\n  }\r\n\r\n  selectSemester = e => {\r\n    const { value } = e.target;\r\n    API.get(`${API_SERVER}v2/${this.state.tipe}-murid/${Storage.get('user').data.user_id}?kelasId=${value}&tahunAjaran=${this.state.tahunAjaran}`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch kuis murid`);\r\n\r\n      this.setState({\r\n        mataPelajaran: res.data.result.kuis,\r\n        semester: res.data.semester,\r\n        semesterId: value\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    //console.log('state: ', this.state)\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"col-sm-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body row\" style={{ padding: '12px' }}>\r\n\r\n              <div className=\"col-sm-2\">\r\n                <label>Tahun Ajaran</label>\r\n                <select onChange={this.selectTahunAjaran} value={this.state.tahunAjaran} className=\"form-control\" required>\r\n                  <option value=\"\" selected disabled>Select</option>\r\n                  {\r\n                    this.state.listTahunAjaran.map(item => (\r\n                      <option value={item}>{item}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"col-sm-2\">\r\n                <label>Semester</label>\r\n                <select onChange={this.selectSemester} value={this.state.semester} className=\"form-control\" required>\r\n                  <option value=\"\" selected disabled>Select</option>\r\n                  {\r\n                    this.state.semester.map(item => (\r\n                      <option value={item.kelas_id}>{item.semester_name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n\r\n\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Subject</th>\r\n                    <th>Description</th>\r\n                    <th>Question</th>\r\n                    <th>Deadline</th>\r\n                    <th>Date Submit</th>\r\n                    <th>Score</th>\r\n                    <th className=\"text-center\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {\r\n                    this.state.mataPelajaran.map((item, i) => (\r\n                      <tr>\r\n                        <td>{item.nama_pelajaran}</td>\r\n                        <td>\r\n                          <a href=\"#\" onClick={this.openDetail} data-id={item.exam_id} data-title={item.title}>{item.exam_title}</a>\r\n                        </td>\r\n                        <td>{item.soal.length}</td>\r\n                        <td>{moment(item.time_start).format('DD/MM/YYYY')} sampai {moment(item.time_finish).format('DD/MM/YYYY')}</td>\r\n                        <td>{item.submitted.length ? moment(item.submitted[0].created_at).format('DD/MM/YYYY HH:mm') : '-'}</td>\r\n                        <td>{item.submitted.length ? item.submitted[0].score : '-'}</td>\r\n                        <td className=\"text-center\">\r\n                          <a\r\n                            target=\"_blank\"\r\n                            href={`/ruangan/mengajar/${item.jadwal_id}/materi/${item.chapter_id}`}\r\n                            className=\"btn btn-v2 btn-primary\">\r\n                            Open\r\n                          </a>\r\n\r\n                          {\r\n                            /**\r\n                            <Link to={`/murid/detail-${this.state.tipe}/${item.exam_id}`} className=\"btn btn-v2 btn-primary\">\r\n                            <i className=\"fa fa-share\"></i> Open\r\n                            </Link>\r\n                            */\r\n                          }\r\n\r\n                          {\r\n                            item.submitted.length ?\r\n                              <Link to={`/murid/kerjakan-lagi/${item.exam_id}`} className=\"btn btn-v2 btn-info ml-2\">Kerjakan Lagi</Link>\r\n                            : null\r\n                          }\r\n\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  }\r\n                </tbody>\r\n\r\n              </table>\r\n\r\n              <Modal\r\n                show={this.state.openDetail}\r\n                onHide={() => this.clearForm()}\r\n                dialogClassName=\"modal-lg\"\r\n              >\r\n                <Modal.Body>\r\n                  <h4 className=\"mb-3\">{this.state.examTitle}</h4>\r\n\r\n                  <ListSoal lists={this.state.examSoal} ref={e => (this.componentRef = e)} />\r\n\r\n                  <button onClick={() => this.clearForm()} className=\"btn btn-v2 btn-primary mt-3\">Close</button>\r\n\r\n                  <ReactToPrint\r\n                    trigger={() => {\r\n                      // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                      // to the root node of the returned component as it will be overwritten.\r\n                      return <button className=\"btn btn-v2 btn-primary mt-3 ml-2\">Print this out!</button>;\r\n                    }}\r\n                    content={() => this.componentRef}\r\n                  />\r\n\r\n                </Modal.Body>\r\n              </Modal>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Latihan;\r\n","import React from 'react';\r\n\r\nimport API, { USER_ME, API_SERVER, APPS_SERVER } from '../../repository/api';\r\nimport Storage from '../../repository/storage';\r\nimport moment from 'moment-timezone';\r\nimport { toast } from 'react-toastify';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Modal, Tooltip, Tabs, Tab, OverlayTrigger } from 'react-bootstrap';\r\nimport { MultiSelect } from 'react-sm-select';\r\nimport 'react-sm-select/dist/styles.css';\r\n\r\nimport Viewer, { Worker } from '@phuocng/react-pdf-viewer';\r\n\r\nimport '@phuocng/react-pdf-viewer/cjs/react-pdf-viewer.css';\r\n\r\nimport SocketContext from '../../socket';\r\n\r\nclass Overview extends React.Component {\r\n\r\n  state = {\r\n    jadwalId: this.props.match.params.jadwalId,\r\n\r\n    overview: '',\r\n    preview: [],\r\n    kuis: [],\r\n\r\n    silabus: [],\r\n\r\n    isModalDetail: false,\r\n    examId: '',\r\n    examTitle: '',\r\n    examSoal: [],\r\n\r\n    openTugas: false,\r\n    infoTugas: {},\r\n    pertanyaan: [],\r\n\r\n    informasiJadwal: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchOverview();\r\n    this.fetchSilabus();\r\n    this.fetchPelajaranByJadwal();\r\n  }\r\n\r\n  fetchPelajaranByJadwal() {\r\n    API.get(`${API_SERVER}v2/pelajaran/jadwal/${this.state.jadwalId}`).then(res => {\r\n      if (res.status === 200) {\r\n        this.setState({ informasiJadwal: res.data.result.length ? res.data.result[0] : {} })\r\n      }\r\n    })\r\n  }\r\n\r\n  fetchSilabus() {\r\n    API.get(`${API_SERVER}v2/silabus/jadwal/${this.state.jadwalId}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch jadwal one`)\r\n      this.setState({ silabus: res.data.result, loading: false, });\r\n    })\r\n  }\r\n\r\n  fetchOverview() {\r\n    // API.get(`${API_SERVER}v2/pelajaran/preview/${this.state.jadwalId}`).then(res => {\r\n    //   if(res.data.error) toast.warning(\"Error fetch murid\");\r\n    //\r\n    //   this.setState({ preview: res.data.result })\r\n    // })\r\n\r\n    API.get(`${API_SERVER}v2/jadwal-mengajar/${this.state.jadwalId}`).then(res => {\r\n      if (res.data.error) console.log(`Error: fetch overview`)\r\n\r\n      this.setState({ overview: res.data.result.deskripsi });\r\n    })\r\n\r\n    // API.get(`${API_SERVER}v2/pelajaran/${this.state.tipe}/all/${this.state.jadwalId}`).then(res => {\r\n    //   if(res.data.error) toast.warning(`Error: fetch ${this.state.tipe}`)\r\n    //\r\n    //   this.setState({ kuis: res.data.result })\r\n    // })\r\n  }\r\n\r\n  selectTugas(item) {\r\n    this.setState({ openTugas: true, infoTugas: item });\r\n    this.fetchPertanyaan(item.exam_id);\r\n  }\r\n\r\n  fetchPertanyaan(id) {\r\n    API.get(`${API_SERVER}v2/pelajaran/pertanyaan/semua/${id}`).then(res => {\r\n      if (res.data.error) toast.warning(`Error: fetch pertanyaan`)\r\n\r\n      this.setState({ pertanyaan: res.data.result })\r\n    })\r\n  }\r\n\r\n  selectKuis(exam) {\r\n    this.setState({ openTugas: true, infoTugas: exam });\r\n    this.fetchPertanyaan(exam.exam_id);\r\n  }\r\n\r\n  selectUjian(exam) {\r\n    this.setState({ openTugas: true, infoTugas: exam });\r\n    this.fetchPertanyaan(exam.id);\r\n  }\r\n\r\n  render() {\r\n    //console.log('state: ', this.state);\r\n\r\n    return (\r\n      <>\r\n        <div className=\"col-sm-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <h4 className=\"f-w-900 f-18 fc-blue\">Informasi Jadwal</h4>\r\n              <table className=\"table table-bordered\">\r\n                <tr>\r\n                  <td width=\"240px\">Pelajaran</td>\r\n                  <td><b>{this.state.informasiJadwal.nama_pelajaran}</b></td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Pengajar</td>\r\n                  <td><b>{this.state.informasiJadwal.nama}</b></td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Jumlah Pertemuan</td>\r\n                  <td><b>{this.state.silabus.length}</b></td>\r\n                </tr>\r\n              </table>\r\n\r\n              <h4 className=\"f-w-900 f-18 fc-blue\">Preview</h4>\r\n\r\n              <div class=\"container py-2\" style={{ marginLeft: '24px' }}>\r\n                <div class=\"row\">\r\n                  <div class=\"col-auto text-center flex-column d-none d-sm-flex\">\r\n                    <div class=\"row h-50\">\r\n                      <div class=\"col\">&nbsp;</div>\r\n                      <div class=\"col\">&nbsp;</div>\r\n                    </div>\r\n                    <h5 class=\"m-2\">\r\n                      <span class=\"badge badge-pill bg-success border\">&nbsp;</span>\r\n                    </h5>\r\n                    <div class=\"row h-50\">\r\n                      <div class=\"col border-right\">&nbsp;</div>\r\n                      <div class=\"col\">&nbsp;</div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col py-2\">\r\n                    <div class=\"card shadow\">\r\n                      <div class=\"card-body timeline-active\">\r\n                        <h4 data-target=\"#tOverview\" data-toggle=\"collapse\" style={{ marginBottom: '8px' }} class=\"card-title\"><i className=\"fa fa-binoculars mr-3\"></i> Overview Pelajaran</h4>\r\n                        <div class=\"collapse\" id={`tOverview`}>\r\n                          <div style={{ padding: '12px' }} dangerouslySetInnerHTML={{ __html: this.state.overview }} />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {\r\n                  this.state.silabus.map((item, i) => {\r\n\r\n                    return (\r\n                      <div class=\"row\">\r\n                        <div class=\"col-auto text-center flex-column d-none d-sm-flex\">\r\n                          <div class=\"row h-50\">\r\n                            <div class=\"col border-right\">&nbsp;</div>\r\n                            <div class=\"col\">&nbsp;</div>\r\n                          </div>\r\n                          <h5 class=\"m-2\">\r\n                            <span className={`badge badge-pill bg-${item.hasOwnProperty('exam_id') ? (moment(item.start_date) < moment(new Date()) ? 'success' : 'light') : (moment(item.start_date) < moment(new Date()) ? 'success' : 'light')} border`}>&nbsp;</span>\r\n                          </h5>\r\n                          <div class=\"row h-50\">\r\n                            <div class={`col ${i == (this.state.silabus.length - 1) ? '' : 'border-right'}`}>&nbsp;</div>\r\n                            <div class=\"col\">&nbsp;</div>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col py-2\">\r\n                            <div class={`card shadow ${item.hasOwnProperty('exam_id') ? (moment(item.start_date) < moment(new Date()) ? 'timeline-active' : '') : (moment(item.start_date) < moment(new Date()) ? 'timeline-active' : '')} shadow`}>\r\n                                <div class=\"card-body\">\r\n                                    <div class=\"float-right text-muted f-12\">\r\n                                      {item.hasOwnProperty('exam_id') ? moment(item.start_date).format('DD/MM/YYYY HH:mm') : moment(item.start_date).format('DD/MM/YYYY HH:mm')}\r\n                                    </div>\r\n\r\n                                    {\r\n                                      item.jenis == 0 ?\r\n                                        <OverlayTrigger\r\n                                          placement=\"top\"\r\n                                          delay={{ show: 250, hide: 400 }}\r\n                                          overlay={<Tooltip>{item.chapter_title && item.start_date ? item.chapter_title : 'Materi dan tanggal belum diatur. Silahkan upload materi dan pilih tanggalnya di Tab Sesi.'}</Tooltip>}\r\n                                        >\r\n                                          <h4 data-target={`#t${i}`} data-toggle=\"collapse\" className=\"card-title collapsed\">\r\n                                            {\r\n                                              [1,2].includes(item.jenis) ? <i className=\"fa fa-paste mr-3\"></i> : <i className=\"fa fa-book-open mr-3\"></i>\r\n                                            }\r\n                                            {item.chapter_title ? item.chapter_title : item.jenis == 1 ? 'Kuis' : item.jenis == 2 ? 'Ujian' : 'Materi'}\r\n                                          </h4>\r\n                                        </OverlayTrigger>\r\n                                      : null\r\n                                    }\r\n\r\n                                    {\r\n                                      item.jenis == 1 ?\r\n                                        <OverlayTrigger\r\n                                          placement=\"top\"\r\n                                          delay={{ show: 250, hide: 400 }}\r\n                                          overlay={<Tooltip>{item.chapter_title && item.start_date ? item.chapter_title : 'Silahkan pilih kuis yang akan dikerjakan oleh murid pada tab Sesi.'}</Tooltip>}\r\n                                        >\r\n                                          <h4 data-target={`#t${i}`} data-toggle=\"collapse\" className=\"card-title collapsed\">\r\n                                            {\r\n                                              [1,2].includes(item.jenis) ? <i className=\"fa fa-paste mr-3\"></i> : <i className=\"fa fa-book-open mr-3\"></i>\r\n                                            }\r\n                                            {item.chapter_title ? item.chapter_title : item.jenis == 1 ? 'Kuis' : item.jenis == 2 ? 'Ujian' : 'Materi'}\r\n                                          </h4>\r\n                                        </OverlayTrigger>\r\n                                      : null\r\n                                    }\r\n\r\n                                    {\r\n                                      item.jenis == 2 ?\r\n                                        <OverlayTrigger\r\n                                          placement=\"top\"\r\n                                          delay={{ show: 250, hide: 400 }}\r\n                                          overlay={<Tooltip>{item.chapter_title && item.start_date ? item.chapter_title : 'Silahkan pilih ujian yang akan dikerjakan oleh murid pada tab Sesi.'}</Tooltip>}\r\n                                        >\r\n                                          <h4 data-target={`#t${i}`} data-toggle=\"collapse\" className=\"card-title collapsed\">\r\n                                            {\r\n                                              [1,2].includes(item.jenis) ? <i className=\"fa fa-paste mr-3\"></i> : <i className=\"fa fa-book-open mr-3\"></i>\r\n                                            }\r\n                                            {item.chapter_title ? item.chapter_title : item.jenis == 1 ? 'Kuis' : item.jenis == 2 ? 'Ujian' : 'Materi'}\r\n                                          </h4>\r\n                                        </OverlayTrigger>\r\n                                      : null\r\n                                    }\r\n\r\n                                    {\r\n                                      item.topik &&\r\n                                      <span>Topik : {item.topik}</span>\r\n                                    }\r\n\r\n                                    <div class=\"collapse mt-4\" id={`t${i}`}>\r\n                                      <div className=\"mb-3\" dangerouslySetInnerHTML={{ __html: item.chapter_body }} />\r\n\r\n                                      {\r\n                                        (item.hasOwnProperty('tugas') && item.tugas.length > 0) && item.tugas.map(row => (\r\n                                          <button disabled={moment(item.start_date) > moment(new Date())} onClick={() => this.selectTugas(row)} className=\"btn btn-v2 btn-info mr-2\">\r\n                                            <i className=\"fa fa-tasks\"></i> {row.exam_title}\r\n                                          </button>\r\n                                        ))\r\n                                      }\r\n\r\n                                      {\r\n                                        (item.hasOwnProperty('kuis') && item.kuis.length > 0) && item.kuis.map(row => (\r\n                                          <button disabled={moment(item.start_date) > moment(new Date())} onClick={() => this.selectTugas(row)} className=\"btn btn-v2 btn-warning mr-2\">\r\n                                            <i className=\"fa fa-tasks\"></i> {row.exam_title}\r\n                                          </button>\r\n                                        ))\r\n                                      }\r\n\r\n                                      {\r\n                                        (item.hasOwnProperty('ujian') && item.ujian.length > 0) && item.ujian.map(row => (\r\n                                          <button disabled={moment(item.start_date) > moment(new Date())} onClick={() => this.selectTugas(row)} className=\"btn btn-v2 btn-danger mr-2\">\r\n                                            <i className=\"fa fa-tasks\"></i> {row.exam_title}\r\n                                          </button>\r\n                                        ))\r\n                                      }\r\n\r\n                                      {\r\n                                        item.hasOwnProperty('chapter_id') && moment(item.start_date) < moment(new Date()) ?\r\n                                        <a target='_blank' href={`/ruangan/mengajar/${this.state.jadwalId}/materi/${item.chapter_id}`} className=\"btn btn-v2 btn-success mr-2\">\r\n                                          <i className=\"fa fa-video\"></i> Open\r\n                                        </a>\r\n                                          : null\r\n                                      }\r\n\r\n                                      {\r\n                                        item.hasOwnProperty('exam_id') && moment(item.start_date) < moment(new Date()) ?\r\n                                          <a target='_blank' href={`/ruangan/mengajar/${this.state.jadwalId}/kuis/${item.exam_id}`} className=\"btn btn-v2 btn-success mr-2\">\r\n                                            <i className=\"fa fa-video\"></i> Open\r\n                                          </a>\r\n                                          : null\r\n                                      }\r\n\r\n                                      {\r\n                                        moment(item.start_date) > moment(new Date()) &&\r\n                                        <h6 style={{ color: '#F00', margin: 5 }}>The schedule hasn't started yet</h6>\r\n                                      }\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    )\r\n                  })\r\n                }\r\n\r\n              </div>\r\n\r\n              <Modal\r\n                show={this.state.openTugas}\r\n                onHide={() => this.setState({ openTugas: false, infoTugas: {}, pertanyaan: [] })}\r\n                dialogClassName=\"modal-lg\"\r\n              >\r\n                <Modal.Header closeButton>\r\n                  <Modal.Title className=\"text-c-purple3 f-w-bold\" style={{ color: '#00478C' }}>\r\n                    {this.state.infoTugas.exam_title ? this.state.infoTugas.exam_title : this.state.infoTugas.title}\r\n                  </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                  {\r\n                    this.state.pertanyaan.map((item, i) => (\r\n                      <div className=\"form-group\">\r\n                        <label>Pertanyaan <b>{i + 1}</b></label>\r\n                        <div className=\"soal mb-2\" dangerouslySetInnerHTML={{ __html: item.tanya }} />\r\n\r\n                        {\r\n                          item.a &&\r\n                          <tr>\r\n                            <td style={{ width: '24px' }}>A.</td>\r\n                            <td>{item.a}</td>\r\n                          </tr>\r\n                        }\r\n                        {\r\n                          item.b &&\r\n                          <tr>\r\n                            <td style={{ width: '24px' }}>B.</td>\r\n                            <td>{item.b}</td>\r\n                          </tr>\r\n                        }\r\n                        {\r\n                          item.c &&\r\n                          <tr>\r\n                            <td style={{ width: '24px' }}>C.</td>\r\n                            <td>{item.c}</td>\r\n                          </tr>\r\n                        }\r\n                        {\r\n                          item.d &&\r\n                          <tr>\r\n                            <td style={{ width: '24px' }}>D.</td>\r\n                            <td>{item.d}</td>\r\n                          </tr>\r\n                        }\r\n                        {\r\n                          item.e &&\r\n                          <tr>\r\n                            <td style={{ width: '24px' }}>E.</td>\r\n                            <td>{item.e}</td>\r\n                          </tr>\r\n                        }\r\n                      </div>\r\n                    ))\r\n                  }\r\n                </Modal.Body>\r\n              </Modal>\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Overview;\r\n","import React from 'react';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport Storage from '../../repository/storage';\r\nimport { toast } from 'react-toastify'\r\nimport moment from 'moment-timezone'\r\nimport { Modal } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport SocketContext from '../../socket';\r\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer'\r\n\r\nclass UjianClass extends React.Component {\r\n\r\n  state = {\r\n    role: this.props.role,\r\n    tipe: this.props.tipe,\r\n    examId: this.props.examId,\r\n    waktuPengerjaan: this.props.waktuPengerjaan ? this.props.waktuPengerjaan : 0,\r\n\r\n    infoExam: {},\r\n    examSoal: [],\r\n\r\n    openScore: false,\r\n    benar: 0,\r\n    salah: 0,\r\n    score: 0,\r\n\r\n    isSubmit: false,\r\n    openConfirm: false,\r\n\r\n    isStart: this.props.tipe === 'kuis' ? true : false,\r\n  }\r\n\r\n  clearScore() {\r\n    this.setState({\r\n      openScore: false,\r\n      benar: 0,\r\n      salah: 0,\r\n      score: 0\r\n    })\r\n  }\r\n\r\n  fetchExam(id) {\r\n    API.get(`${API_SERVER}v2/exam/${id}`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch exam`);\r\n\r\n      this.setState({ infoExam: res.data.result })\r\n    })\r\n  }\r\n\r\n  fetchSoal(id) {\r\n    API.get(`${API_SERVER}v2/pelajaran/pertanyaan/murid-user/${id}/${Storage.get('user').data.user_id}?retake=true`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch exam`);\r\n\r\n      this.setState({ examSoal: res.data.result })\r\n    })\r\n  }\r\n\r\n  fetchSubmit() {\r\n    API.get(`${API_SERVER}v2/murid/kuis-ujian/result/${Storage.get('user').data.user_id}/${this.state.examId}?retake=true`).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: fetch hasil`);\r\n\r\n      this.setState({\r\n        isSubmit: res.data.result.length ? true : false,\r\n        benar: res.data.result.length ? res.data.result[0].total_correct : 0,\r\n        salah: res.data.result.length ? res.data.result[0].total_uncorrect : 0,\r\n        score: res.data.result.length ? res.data.result[0].score : 0,\r\n\r\n        waktuPengerjaan: 0\r\n      })\r\n\r\n      if (res.data.result.length) {\r\n        this.fetchSoal(this.state.examId)\r\n      }\r\n\r\n      if (this.props.getNilai) {\r\n        this.props.getNilai(res.data.result.length ? true : false)\r\n      }\r\n\r\n      localStorage.removeItem('waktuPengerjaan')\r\n\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.fetchSubmit()\r\n    this.fetchExam(this.state.examId)\r\n\r\n    // if (this.state.tipe === 'kuis') {\r\n    this.fetchSoal(this.state.examId)\r\n    // }\r\n\r\n    this.props.socket.on('broadcast', data => {\r\n      console.log('state1: ', data)\r\n      if (data.event == 'mulai' && data.companyId == Storage.get('user').data.company_id) {\r\n        if (data.isStart) {\r\n          this.setState({ isStart: data.isStart })\r\n          this.fetchSoal(this.state.examId)\r\n        }\r\n        else {\r\n          this.setState({ examSoal: [], isStart: false })\r\n          localStorage.removeItem('waktuPengerjaan')\r\n        }\r\n        API.put(`${API_SERVER}v2/exam/${data.isStart ? 'start' : 'stop'}/${this.state.examId}`)\r\n      }\r\n\r\n      if (data.event == 'selesai' && data.companyId == Storage.get('user').data.company_id) {\r\n        this.saveJawaban();\r\n      }\r\n    })\r\n  }\r\n\r\n  selectJawaban = (e, i) => {\r\n    if (this.state.isSubmit) {\r\n      toast.info(`Jawaban sudah tidak bisa diubah`)\r\n    } else {\r\n      let copy = [...this.state.examSoal];\r\n      copy[i].jawaban = e.target.value;\r\n\r\n      let form = {\r\n        questionId: copy[i].id,\r\n        userId: Storage.get('user').data.user_id,\r\n        jawaban: e.target.value\r\n      };\r\n      // console.log('state: ', form);\r\n      API.post(`${API_SERVER}v2/murid/kuis-ujian/jawab?retake=true`, form).then(res => {\r\n        if (res.data.error) toast.warning(`Warning: jawab pertanyaan`)\r\n\r\n        this.setState({ examSoal: copy })\r\n      })\r\n    }\r\n  }\r\n\r\n  saveJawaban() {\r\n    let form = {\r\n      userId: Storage.get('user').data.user_id,\r\n      examId: this.state.examId,\r\n    }\r\n\r\n    API.post(`${API_SERVER}v2/murid/kuis-ujian/submit?retake=true`, form).then(res => {\r\n      if (res.data.error) toast.warning(`Warning: submit jawaban`);\r\n\r\n      this.setState({\r\n        openConfirm: false,\r\n        benar: res.data.result.benar,\r\n        salah: res.data.result.salah,\r\n        score: res.data.result.score,\r\n        isSubmit: true\r\n      })\r\n\r\n      this.props.socket.emit('send', {\r\n        event: `submit-kuis-ujian`,\r\n        companyId: Storage.get('user').data.company_id,\r\n        examId: this.state.examId,\r\n        muridNama: Storage.get('user').data.user,\r\n      })\r\n\r\n      this.fetchSubmit();\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    console.log('stateJawab: ', this.state)\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"col-sm-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\" style={{ padding: '12px' }}>\r\n\r\n              <h4 className=\"mb-3\">{this.state.infoExam.exam_title}</h4>\r\n\r\n              {\r\n                this.state.role === \"murid\" && this.state.waktuPengerjaan !== 0 &&\r\n                  <CountdownCircleTimer\r\n                    isPlaying\r\n                    duration={this.state.waktuPengerjaan}\r\n                    colors={[\r\n                      ['#004777', 0.33],\r\n                      ['#F7B801', 0.33],\r\n                      ['#A30000', 0.33],\r\n                    ]}\r\n                    renderAriaTime={(remainingTime, elapsedTime) => {\r\n                      localStorage.setItem('waktuPengerjaan', remainingTime.remainingTime)\r\n                    }}\r\n                    children={({ remainingTime }) => {\r\n                      const hours = Math.floor(remainingTime / 3600)\r\n                      const minutes = Math.floor((remainingTime % 3600) / 60)\r\n                      const seconds = remainingTime % 60\r\n\r\n                      return `${hours}:${minutes}:${seconds}`\r\n                    }}\r\n                    size={80}\r\n                    strokeWidth={4}\r\n                    onComplete={() => {\r\n                      this.saveJawaban()\r\n                    }}\r\n                  />\r\n              }\r\n\r\n\r\n              <div className=\"mb-3\">\r\n                <div className=\"score-exam text-center\" style={{ padding: '8px 26px' }}>\r\n                  <span>Score</span>\r\n                  <h1>{this.state.score}</h1>\r\n                </div>\r\n\r\n                <tr>\r\n                  <td>Benar</td>\r\n                  <td><b>{this.state.benar}</b></td>\r\n                </tr>\r\n                <tr>\r\n                  <td style={{ width: '80px' }}>Salah</td>\r\n                  <td><b>{this.state.salah}</b></td>\r\n                </tr>\r\n                <tr>\r\n                  <td style={{ width: '80px' }}>Score</td>\r\n                  <td><b>{this.state.score}</b></td>\r\n                </tr>\r\n              </div>\r\n\r\n              {\r\n                this.state.examSoal.map((item, i) => (\r\n                  <div className=\"mb-2\" key={i}>\r\n                    <label>Pertanyaan <b>{i + 1}</b></label>\r\n                    <div className=\"soal mb-2\" dangerouslySetInnerHTML={{ __html: item.tanya }} />\r\n\r\n                    {\r\n                      this.state.role === \"guru\" &&\r\n                      <>\r\n                        <ul class=\"list-group\">\r\n                          {item.a && <li class={`list-group-item list-group-item-${item.jawaban === \"A\" ? 'success' : ''}`}><b>A.</b> {item.a}</li>}\r\n                          {item.b && <li class={`list-group-item list-group-item-${item.jawaban === \"B\" ? 'success' : ''}`}><b>B.</b> {item.b}</li>}\r\n                          {item.c && <li class={`list-group-item list-group-item-${item.jawaban === \"C\" ? 'success' : ''}`}><b>C.</b> {item.c}</li>}\r\n                          {item.d && <li class={`list-group-item list-group-item-${item.jawaban === \"D\" ? 'success' : ''}`}><b>D.</b> {item.d}</li>}\r\n                          {item.e && <li class={`list-group-item list-group-item-${item.jawaban === \"E\" ? 'success' : ''}`}><b>E.</b> {item.e}</li>}\r\n                        </ul>\r\n\r\n                        <div className=\"penjelasan mt-3 mb-4\">\r\n                          <label><b>Penjelasan</b></label>\r\n                          <div className=\"soal mb-2\" dangerouslySetInnerHTML={{ __html: item.penjelasan }} />\r\n                        </div>\r\n                      </>\r\n                    }\r\n\r\n                    {\r\n                      this.state.role === \"murid\" && item.a &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"A\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>A.</td>\r\n                        <td>{item.a}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && item.b &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"B\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>B.</td>\r\n                        <td>{item.b}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && item.c &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"C\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>C.</td>\r\n                        <td>{item.c}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && item.d &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"D\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>D.</td>\r\n                        <td>{item.d}</td>\r\n                      </tr>\r\n                    }\r\n                    {\r\n                      this.state.role === \"murid\" && item.e &&\r\n                      <tr>\r\n                        <td><input type=\"radio\" value=\"E\" name={`opsi${i}`} onChange={e => this.selectJawaban(e, i)} /></td>\r\n                        <td style={{ width: '24px' }}>E.</td>\r\n                        <td>{item.e}</td>\r\n                      </tr>\r\n                    }\r\n\r\n                  </div>\r\n                ))\r\n              }\r\n\r\n              {\r\n                this.state.role === \"murid\" && !this.state.isSubmit ?\r\n                  <button onClick={e => this.setState({ openConfirm: true })} className=\"btn btn-v2 btn-primary mt-3\">Submit</button>\r\n                  : null\r\n              }\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          show={this.state.openConfirm}\r\n          onHide={() => this.setState({ openConfirm: false })}\r\n        >\r\n          <Modal.Body>\r\n            <h4>Perhatian</h4>\r\n            <p>Mohon dicek kembali. Apakah Kamu yakin telah mengerjakan semua dan akan mengumpulkannya ?</p>\r\n\r\n            <Link onClick={() => this.saveJawaban()} className=\"btn btn-v2 btn-primary mr-2\">Yakin</Link>\r\n            <Link onClick={() => this.setState({ openConfirm: false })} className=\"btn btn-v2 btn-default\">Tidak</Link>\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst Ujian = props => (\r\n  <SocketContext.Consumer>\r\n    {socket => <UjianClass {...props} socket={socket} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default Ujian;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport API, { USER_ME, API_SERVER } from '../../repository/api';\r\nimport Storage from '../../repository/storage';\r\nimport { Modal } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify'\r\n\r\nimport Jawab from './jawab';\r\n\r\nclass MataPelajaran extends React.Component {\r\n\r\n  state = {\r\n    examId: this.props.match.params.examId,\r\n    role: Storage.get('user').data.grup_name.toString().toLowerCase(),\r\n    waktuPengerjaan: 0,\r\n\r\n    infoExam: {}\r\n  }\r\n\r\n  fetchExam(examId) {\r\n    API.get(`${API_SERVER}v2/exam/${examId}`).then(res => {\r\n      this.setState({ infoExam: res.data.result })\r\n\r\n      let cekLocal = localStorage.getItem('waktuPengerjaan')\r\n      if(cekLocal) {\r\n        this.setState({ waktuPengerjaan: parseInt(cekLocal) })\r\n      }\r\n      else {\r\n        this.setState({ waktuPengerjaan: res.data.result.durasi * 60 })\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchExam(this.state.examId)\r\n  }\r\n\r\n  render() {\r\n\r\n    console.log('state: ', this.state)\r\n\r\n    return (\r\n      <div className=\"col-sm-12\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            Kerjakan Lagi\r\n          </div>\r\n\r\n          <div className=\"card-body\" style={{ padding: '12px' }}>\r\n\r\n            {\r\n              this.state.infoExam && this.state.waktuPengerjaan ?\r\n              // this.state.infoExam ?\r\n                <Jawab\r\n                  waktuPengerjaan={this.state.waktuPengerjaan}\r\n                  role={this.state.role}\r\n                  tipe={this.state.infoExam.quiz === 0 ? 'ujian' : this.state.infoExam.quiz === 1 ? 'kuis' : 'tugas'}\r\n                  examId={this.state.examId} />\r\n                : null\r\n            }\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default MataPelajaran;\r\n","import React, { Component } from 'react';\r\nimport { NavLink, Switch, Route } from 'react-router-dom';\r\n\r\nimport KelasKu from '../detail_kelas/kelasku';\r\nimport MataPelajaran from '../daftar_pelajaran/mapel';\r\nimport Timeline from '../daftar_pelajaran/timeline';\r\nimport Progress from '../daftar_pelajaran/progress';\r\nimport Tugas from '../tugas/index';\r\nimport Latihan from '../tugas/latihan';\r\nimport Detail from '../tugas/detail';\r\nimport DetailMapel from '../tugas/mapel';\r\nimport KerjakanLagi from '../tugas/kerjakanlagi';\r\n\r\nconst KuisComponent = props => <Latihan {...props} tipe=\"kuis\" />;\r\nconst UjianComponent = props => <Latihan {...props} tipe=\"ujian\" />;\r\n\r\nconst KuisDetail = props => <Detail {...props} role={'murid'} tipe=\"kuis\" />;\r\nconst UjianDetail = props => <Detail {...props} role={'murid'} tipe=\"ujian\" />;\r\n\r\nconst titleTabs = [\r\n  {name: 'Kelas', link: '/kelas', component: KelasKu},\r\n  {name: 'Progress', link: '/timeline', component: Progress},\r\n  {name: 'Schedule', link: '/mata-pelajaran', component: MataPelajaran},\r\n  {name: 'Task', link: '/tugas', component: Tugas},\r\n  {name: 'Quiz', link: '/kuis', component: KuisComponent},\r\n  {name: 'Exam', link: '/ujian', component: UjianComponent},\r\n]\r\n\r\nconst switchTambahan = [\r\n  {name: 'Detail', link: '/detail-kuis/:examId', component: KuisDetail},\r\n  {name: 'Detail', link: '/detail-ujian/:examId', component: UjianDetail},\r\n  {name: 'Detail', link: '/detail-mapel/:jadwalId', component: DetailMapel},\r\n  {name: 'Detail', link: '/kerjakan-lagi/:examId', component: KerjakanLagi},\r\n];\r\n\r\nexport default class LearningMurid extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.goBack = this.goBack.bind(this);\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  goBack(){\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"pcoded-main-container\" style={{ backgroundColor: \"#F6F6FD\" }}>\r\n        <div className=\"pcoded-wrapper\">\r\n          <div className=\"pcoded-content\" style={{ padding: '40px 40px 0 40px' }}>\r\n            <div className=\"pcoded-inner-content\">\r\n              <div className=\"main-body\">\r\n                <div className=\"page-wrapper\">\r\n\r\n                  <div className=\"floating-back\">\r\n                    <img\r\n                      src={`newasset/back-button.svg`}\r\n                      alt=\"\"\r\n                      width={90}\r\n                      onClick={this.goBack.bind(this)}\r\n                    ></img>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-xl-12\">\r\n\r\n                      <ul style={{ paddingBottom: '0px' }} className=\"nav nav-pills\">\r\n                        {\r\n                          titleTabs.map((item, i) => (\r\n                            <li key={i} className={`nav-item`}>\r\n                              <NavLink style={{ borderBottomLeftRadius: '0px', borderBottomRightRadius: '0px' }}\r\n                                activeClassName='active'\r\n                                className={`nav-link`}\r\n                                to={`/murid${item.link}`}>\r\n                                <img src=\"/newasset/webinar.svg\" className=\"mr-2\" />\r\n                                {item.name}\r\n                              </NavLink>\r\n                            </li>\r\n                          ))\r\n                        }\r\n                      </ul>\r\n\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row mt-3\">\r\n                  <Switch>\r\n                    <Route path=\"/murid\" exact component={MataPelajaran} />\r\n                    {\r\n                      titleTabs.map(item => (\r\n                        <Route path={`/murid${item.link}`} component={item.component} />\r\n                      ))\r\n                    }\r\n\r\n                    {\r\n                      switchTambahan.map(item => (\r\n                        <Route path={`/murid${item.link}`} component={item.component} />\r\n                      ))\r\n                    }\r\n                  </Switch>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}