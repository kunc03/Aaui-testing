(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{1094:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=t.is=function(e,t){return t.constructor===e};t.classes=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n="";return o(String,t)&&(n=t),o(Object,t)&&(n=Object.keys(t).filter((function(e){return!!t[e]})).join(" ")),o(Array,t)&&(n=t.join(" ")),(e?e+" "+n:n).trim()}),"")},t.defaultFilterOptions=function(e,t){return e.filter((function(e){return e.label.toLowerCase().includes(t.toLowerCase())}))},t.areArraysEqual=function(e,t){return e.length===t.length&&!e.reduce((function(e,n,o){return n!==t[o]?[].concat(a(e),[n]):e}),[]).length},t.omitDirtyValues=function(e,t,n){var o,r=e.map((function(e){return e.value})),l=t.reduce((function(e,t){return r.includes(t)?[].concat(a(e),[t]):e}),[]),u=(o=l,Array.isArray(o)?o:Array.from(o)),i=u[0],s=u.slice(1);return i?n?[i]:[i].concat(a(s)):[]},t.attachDocumentClickListener=function(e){document.addEventListener("touchstart",e,!1),document.addEventListener("mousedown",e,!1)},t.removeDocumentClickListener=function(e){document.removeEventListener("touchstart",e,!1),document.removeEventListener("mousedown",e,!1)},t.stopPreventPropagation=function(e){e.stopPropagation(),e.preventDefault()}},1348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MODE={LIST:"list",TAGS:"tags",COUNTER:"counter",SINGLE:"single"}},1349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Option=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n(0)),r=i(n(10)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1094)),u=n(1429);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Option=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.updateFocus=function(){e.props.focused&&e.optionRef.current&&e.optionRef.current.focus()},e.handleKeyDown=function(t){13!==t.which&&32!==t.which||(e.props.onClick(),l.stopPreventPropagation(t))},e.state={hovered:!1},e.optionRef=o.default.createRef(),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.updateFocus()}},{key:"componentDidUpdate",value:function(){this.updateFocus()}},{key:"render",value:function(){var e=this,t=this.state,n=this.props;return o.default.createElement("label",{className:l.classes("Option",{"Option--focus":n.focused,"Option--hover":t.hovered}),role:"option","aria-selected":n.checked,tabIndex:"-1",ref:this.optionRef,onMouseDown:n.onClick,onKeyDown:this.handleKeyDown,onMouseOver:function(){return e.setState({hovered:!0})},onMouseOut:function(){return e.setState({hovered:!1})}},o.default.createElement(n.Option,{option:n.option,checked:n.checked,isSingle:n.isSingle}))}}]),t}(o.default.Component);s.displayName="Option",s.propTypes={Option:r.default.func,option:r.default.object.isRequired,checked:r.default.bool,focused:r.default.bool,onClick:r.default.func,isSingle:r.default.bool},s.defaultProps={Option:u.DefOption}},1420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.DefLoading=t.DefArrow=t.Value=void 0;var a=n(1421);Object.defineProperty(t,"Value",{enumerable:!0,get:function(){return a.Value}});var o=n(1425);Object.defineProperty(t,"DefArrow",{enumerable:!0,get:function(){return o.DefArrow}});var r=n(1426);Object.defineProperty(t,"DefLoading",{enumerable:!0,get:function(){return r.DefLoading}});var l,u=n(0),i=(l=u)&&l.__esModule?l:{default:l},s=n(1094);t.Header=function(e){var t=e.children,n=e.disabled,a=e.expanded,o=e.focused,r=e.selected,l=e.nodeRef,u=e.onClick;return i.default.createElement("div",{className:(0,s.classes)("Header",{"Header--focusedActive":!n&&(o||a),"Header--expanded":a,"Header--disabled":n,"Header--focusedDisabled":n&&o,"Header--selected":!n&&o&&r}),tabIndex:"0",role:"combobox","aria-expanded":a,"aria-readonly":"true","aria-disabled":n,ref:l,onClick:u},t)}},1421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Value=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},l=n(1348),u=n(1422),i=n(1423),s=n(1424);t.Value=function(e){var t=e.mode,n=e.options,a=e.value,o=e.Value,c=void 0===o?i.DefValue:o,d=e.Tag,f=void 0===d?s.DefTag:d,p=e.valuePlaceholder,h=e.allSelectedLabel,v=e.counterLabel,b=e.onRemove,m=e.removableTag,g=function(e){return t===e};if(c===i.DefValue&&!g(l.MODE.TAGS)&&!g(l.MODE.COUNTER)&&a.length===n.length)return r.default.createElement("span",null,h);if(!a.length)return r.default.createElement("span",{className:"Header__valuePlaceholder"},p);if(g(l.MODE.TAGS)){var _=a.map((function(e){return n.find((function(t){return t.value===e})).label}));return r.default.createElement("div",{className:"Header__tags"},_.map((function(e,t){return r.default.createElement(f,{key:t,label:e,index:t,onTagRemove:b,removableTag:m})})))}return g(l.MODE.COUNTER)?r.default.createElement(u.Counter,{value:a,options:n,counterLabel:v,valuePlaceholder:p}):r.default.createElement(c,{options:n,value:a})}},1422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a};t.Counter=function(e){var t=e.valuePlaceholder,n=e.counterLabel,a=e.value,o=e.options;return r.default.createElement("span",null,a.length&&n||t,!!a.length&&r.default.createElement("span",{className:"Header__valueCounter"},"(",a.length===o.length?"All":a.length,")"))}},1423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefValue=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a};t.DefValue=function(e){var t=e.value,n=e.options;return r.default.createElement("span",null,t.map((function(e){return n.find((function(t){return t.value===e})).label})).join(", "))}},1424:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefTag=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a};t.DefTag=function(e){var t=e.label,n=e.index,a=e.removableTag,o=e.onTagRemove;return r.default.createElement("div",{className:"Header__tag"},r.default.createElement("div",{className:"Header__tag__label"},t),a&&r.default.createElement("div",{className:"Header__tag__close",onClick:function(e){return o(n,e)}},"\u2715"))}},1425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefArrow=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},l=n(1094);t.DefArrow=function(e){var t=e.expanded,n=e.disabled;return r.default.createElement("div",{className:"Header__arrow"},r.default.createElement("div",{className:(0,l.classes)({"Header__arrow--down":!t,"Header__arrow--up":t,"Header__arrow--active":!n&&t,"Header__arrow--disabled":n})}))}},1426:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefLoading=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a};t.DefLoading=function(){return r.default.createElement("span",{className:"Header__loading"},r.default.createElement("span",{className:"Header__loading__icon"}))}},1427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1428);Object.defineProperty(t,"SelectAll",{enumerable:!0,get:function(){return a.SelectAll}});var o=n(1349);Object.defineProperty(t,"Option",{enumerable:!0,get:function(){return o.Option}})},1428:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectAll=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},l=n(1349);t.SelectAll=function(e){return r.default.createElement("li",{className:"OptionList__item DropDown__selectAll"},r.default.createElement(l.Option,{Option:e.Option,option:{label:e.selectAllLabel,value:""},checked:e.checked,focused:e.focused,onClick:e.onClick}))}},1429:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefOption=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a};t.DefOption=function(e){var t=e.checked,n=e.option,a=e.isSingle;return r.default.createElement("div",{className:"Option__renderer"},r.default.createElement("span",{className:"Option__label"},n.label),!a&&r.default.createElement("input",{type:"checkbox",defaultChecked:t,tabIndex:"-1"}))}},251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSelect=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(0)),l=d(n(10)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1094)),i=n(1348),s=n(1420),c=n(1427);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=t.MultiSelect=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v.call(n),n.state={value:e.isLoading?e.value:u.omitDirtyValues(e.options,e.value,n.isSingle()),expanded:!1,hasFocus:!1,selectAll:!1,focusIndex:e.enableSearch?-1:-2,searchText:"",mouseHover:!1},n.multiSelectRef=r.default.createRef(),n.headerRef=r.default.createRef(),n.searchRef=r.default.createRef(),n.hasListener=!1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,o=this.state,r=!e.isLoading&&a.isLoading,l=e.isLoading&&!a.isLoading,i=e.options.length!==a.options.length,s=function(e){return r?e:u.omitDirtyValues(a.options,e,n.isSingle())},c=s(a.value),d=s(e.value);(!u.areArraysEqual(d,c)||r||l||i)&&this.setState({value:c}),!0===t.expanded&&!1===o.expanded&&this.onEvent("onClose"),u.areArraysEqual(t.value,o.value)||this.onEvent("onChange"),e.disabled&&!a.disabled&&(this.hasListener=!0,u.attachDocumentClickListener(this.handleDocumentClick)),!e.disabled&&a.disabled&&(this.hasListener=!1,u.removeDocumentClickListener(this.handleDocumentClick))}},{key:"componentWillUnmount",value:function(){this.hasListener&&u.removeDocumentClickListener(this.handleDocumentClick)}},{key:"render",value:function(){var e=this,t=this.props,n=this.state;return r.default.createElement("div",{className:"MultiSelect",id:t.id,ref:this.multiSelectRef,onMouseDown:this.handleClick,onMouseEnter:function(){return e.handleHover(!0)},onMouseLeave:function(){return e.handleHover(!1)},onKeyDown:this.handleKeyPress,onFocus:this.handleFocus,onBlur:this.handleBlur},r.default.createElement(s.Header,{nodeRef:this.headerRef,focused:n.hasFocus,expanded:n.expanded,disabled:t.disabled,selected:-2===n.focusIndex,onClick:this.toggleDropDown},r.default.createElement("div",{className:u.classes("Header__value",{"Header__value--resetable":t.resetable&&(!!n.value.length||!!t.resetTo.length)})},r.default.createElement(s.Value,{mode:t.mode,options:t.options,value:n.value,Value:t.Value,valuePlaceholder:t.valuePlaceholder,allSelectedLabel:t.allSelectedLabel,counterLabel:t.counterLabel,Tag:t.Tag,removableTag:t.removableTag,onRemove:this.deselect})),r.default.createElement("div",{className:"Header__controls"},t.resetable&&(!!n.value.length||!!t.resetTo.length)&&r.default.createElement("div",{className:"Header__reset",onClick:this.reset},"\u2715"),t.isLoading&&r.default.createElement(t.Loading,null),!t.isLoading&&r.default.createElement(t.Arrow,{value:n.value,options:t.options,hasFocus:n.hasFocus,disabled:t.disabled,expanded:n.expanded}))),n.expanded&&r.default.createElement("div",{className:"DropDown",role:"listbox"},t.enableSearch&&r.default.createElement("input",{type:"text",className:u.classes("DropDown__searchField",{"DropDown__searchField--selected":-1===n.focusIndex}),placeholder:t.maxOptionsToRender?t.searchMorePlaceholder:t.searchPlaceholder,value:n.searchText,ref:this.searchRef,onChange:this.handleSearchChange,onMouseDown:function(){return e.setState({focusIndex:-1})},autoFocus:-1===n.focusIndex}),r.default.createElement("ul",{className:"OptionList"},this.isSelectAllVisible()&&r.default.createElement(c.SelectAll,{key:n.value||this.filteredOptions(),Option:t.Option,focused:0===n.focusIndex,checked:this.allAreSelected(),selectAllLabel:t.selectAllLabel,onClick:this.toggleAll}),this.filteredOptions().map((function(a,o){return r.default.createElement("li",{className:"OptionList__item",key:a.value},r.default.createElement(c.Option,{key:n.value||e.filteredOptions(),isSingle:e.isSingle(),focused:n.focusIndex===o+1,checked:n.value.includes(a.value),option:a,Option:t.Option,onClick:function(){return e.optionClick(a.value,o)}}))})))))}}]),t}(r.default.Component);h.displayName="MultiSelect",h.propTypes={id:l.default.string,mode:l.default.oneOf([i.MODE.LIST,i.MODE.TAGS,i.MODE.COUNTER,i.MODE.SINGLE]),options:l.default.arrayOf(l.default.shape({value:l.default.string,label:l.default.string})).isRequired,value:l.default.arrayOf(l.default.string),resetTo:l.default.arrayOf(l.default.string),maxOptionsToRender:l.default.number,onChange:l.default.func,onBlur:l.default.func,onClose:l.default.func,Value:l.default.func,Tag:l.default.func,Loading:l.default.func,Arrow:l.default.func,Option:l.default.func,filterOptions:l.default.func,valuePlaceholder:l.default.string,allSelectedLabel:l.default.string,counterLabel:l.default.string,searchPlaceholder:l.default.string,searchMorePlaceholder:l.default.string,selectAllLabel:l.default.string,disabled:l.default.bool,shouldToggleOnHover:l.default.bool,isLoading:l.default.bool,removableTag:l.default.bool,resetable:l.default.bool,enableSearch:l.default.bool,hasSelectAll:l.default.bool,stopClickPropagation:l.default.bool},h.defaultProps={mode:i.MODE.LIST,value:[],resetTo:[],Loading:s.DefLoading,Arrow:s.DefArrow,filterOptions:u.defaultFilterOptions,valuePlaceholder:"Select",allSelectedLabel:"All items are selected",searchPlaceholder:"Search",searchMorePlaceholder:"Search to see more ...",selectAllLabel:"Select All",shouldToggleOnHover:!1,removableTag:!0,resetable:!1,enableSearch:!1,hasSelectAll:!1,stopClickPropagation:!1};var v=function(){var e=this;this.isSingle=function(){return e.props.mode===i.MODE.SINGLE},this.handleDocumentClick=function(){e.props.disabled||e.state.mouseHover||(e.setState({expanded:!1,hasFocus:!1}),u.removeDocumentClickListener(e.handleDocumentClick),e.onEvent("onBlur"))},this.handleClick=function(){e.props.disabled||e.hasListener||u.attachDocumentClickListener(e.handleDocumentClick)},this.handleFocus=function(){e.setState((function(e){return e.hasFocus?null:{hasFocus:!0}}))},this.handleBlur=function(){e.setState((function(e){return e.hasFocus?{hasFocus:!1}:null}))},this.toggleDropDown=function(t,n){var o=e.props;o.disabled||o.isLoading||(e.setState((function(e){var t=e.expanded;return a({expanded:void 0!==n?n:!t},t?{}:{focusIndex:o.enableSearch?-1:-2,searchText:""})})),t&&o.stopClickPropagation&&u.stopPreventPropagation(t))},this.handleHover=function(t){e.setState({mouseHover:t}),e.props.shouldToggleOnHover&&e.toggleDropDown(null,t)},this.isSelectAllVisible=function(){return!e.isSingle()&&e.props.hasSelectAll&&!e.state.searchText},this.handleFocusControl=function(t){-1===t&&e.searchRef.current.focus(),-2===t&&e.headerRef.current.focus()},this.keyDown=function(t){var n=e.props,a=e.state;a.expanded?e.setState((function(t){var o=t.focusIndex+1;return-1===o&&(o=n.enableSearch?o:o+1),0===o&&(o=e.isSelectAllVisible()?o:o+1),a.focusIndex<e.filteredOptions().length?{focusIndex:o}:null}),(function(){e.handleFocusControl(e.state.focusIndex)})):e.toggleDropDown(null,!0),u.stopPreventPropagation(t)},this.keyUp=function(t){var n=e.props,a=e.state;a.expanded&&(-2===a.focusIndex?e.toggleDropDown(null,!1):e.setState((function(t){var a=t.focusIndex-1;return 0===a&&(a=e.isSelectAllVisible()?a:a-1),-1===a&&(a=n.enableSearch?a:a-1),{focusIndex:a}}),(function(){e.handleFocusControl(e.state.focusIndex)}))),u.stopPreventPropagation(t)},this.clearValue=function(t){e.props.resetable&&-2===e.state.focusIndex&&e.reset(t)},this.handleKeyPress=function(t){var n;(n={},p(n,t.which,(function(){})),p(n,8,(function(){return e.clearValue(t)})),p(n,9,(function(){return e.toggleDropDown(null,!1)})),p(n,27,(function(){e.toggleDropDown(null,!1),e.handleFocusControl(-2),u.stopPreventPropagation(t)})),p(n,38,(function(){return e.keyUp(t)})),p(n,40,(function(){return e.keyDown(t)})),n)[t.which]()},this.select=function(t){e.isSingle()?e.setState({value:[t]},(function(){return e.toggleDropDown(null,!1)})):e.setState({value:[].concat(f(e.state.value),[t])})},this.deselect=function(t,n){var a=e.state.value;e.setState({value:[].concat(f(a.slice(0,t)),f(a.slice(t+1)))}),n&&u.stopPreventPropagation(n)},this.reset=function(t){var n=e.props;n.disabled&&n.isLoading||e.setState({value:n.resetTo}),u.stopPreventPropagation(t)},this.handleSearchChange=function(t){e.setState({searchText:t.target.value})},this.allAreSelected=function(){return e.props.options.length===e.state.value.length},this.toggleAll=function(){if(e.allAreSelected())e.setState({value:[],focusIndex:0});else{var t=e.props.options.map((function(e){return e.value}));e.setState({value:t,focusIndex:0})}},this.filteredOptions=function(){var t=e.state,n=e.props,a=n.filterOptions(n.options,t.searchText);return n.maxOptionsToRender?a.slice(0,n.maxOptionsToRender):a},this.optionClick=function(t,n){var a=e.state.value.indexOf(t);-1===a||e.isSingle()?e.select(t):e.deselect(a),e.setState({focusIndex:n+1})},this.onEvent=function(t){var n=e.props,a=e.state;n[t]&&n[t](a.value)}}}}]);
//# sourceMappingURL=1.47c786d8.chunk.js.map