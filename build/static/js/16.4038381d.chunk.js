(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[16],{1037:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return n}));var s=a(0),l=a.n(s),i=a(1038),r=a(2);class n extends s.Component{constructor(){super(...arguments),this.state={session:r.a.get("user").data}}render(){const{session:e}=this.state;return l.a.createElement(s.Fragment,null,e?l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"pcoded-main-container"},l.a.createElement("div",{className:"pcoded-wrapper"},l.a.createElement("div",{className:"pcoded-content",style:{padding:"20px 20px 0 20px"}},l.a.createElement("div",{className:"pcoded-inner-content"},l.a.createElement("div",{className:"main-body"},l.a.createElement("div",{className:"page-wrapper"},l.a.createElement(i.a,{webinarId:this.props.match.params.webinarId,voucher:this.props.match.params.voucher})))))))):l.a.createElement(i.a,{webinarId:this.props.match.params.webinarId,voucher:this.props.match.params.voucher}))}}},1038:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var s=a(0),l=a.n(s),i=a(463),r=a(1613),n=a(3),o=a(18),c=a(458),d=a(305),m=a(2),h=a(467),u=a(19),p=a.n(u),b=a(1039),g=a.n(b),f=a(65),E=a.n(f),w=a(25),y=a(204);a(780);const P=a(423),_=E()("".concat(n.b));_.on("connect",()=>{});class v extends s.Component{constructor(){super(...arguments),this.state={isSavingQuestion:!1,submitPoll:!1,setting:!1,checkAllUsersPoll:!0,usersPoll:[],peserta_count:[],pollResult:{},idPoll:"",pollFreetext:"",polling:[],newPoll:!1,createPoll:{tanya:"",jenis:null,a:"",b:"",c:"",d:"",e:""},hideInputPollDefault:"hidden",modalSendPoll:!1,modalAnswerPoll:!1,modalResultPoll:!1,answerPoll:{},showOpenApps:!0,isJoin:!1,resultPostPreTest_AllUser:{posttest:[],pretest:[]},showModalResultPostTest:!1,showModalResultPreTest:!1,showDescription:!1,isLoadingPage:!0,dataParticipants:{audio:0,camera:0},waktuPretest:0,waktuPosttest:0,isFeedback:!1,pretest:[],posttest:[],resultPretest:[],resultPosttest:[],resultEssay:[],modalResultPretest:!1,modalResultPosttest:!1,pretestTerjawab:!1,posttestTerjawab:!1,essayTerjawab:!1,essayResult:[],jawabanPretest:[],jawabanPosttest:[],jawabanEssayKu:"",enablePretest:!1,enablePosttest:!1,webinarId:this.props.webinarId?this.props.webinarId:this.props.match.params.webinarId,webinar:[],jawabKuesioner:[],pemenangDoorprize:[],modalDoorprize:!1,pembucara:"",joinUrl:"",tanggal:"",tanggalEnd:"",user:[],joined:!1,projectId:"",dokumenId:"",modalConfirmClose:!1,modalEnd:!1,modalKuesioner:!1,modalKuesionerPeserta:!1,modalSendPretest:!1,modalSendPosttest:!1,modalSendEssay:!1,waitingKuesioner:!1,startKuesioner:!1,kuesionerTerjawab:!1,startPretest:!1,startPosttest:!1,startEssay:!1,isWebinarStartDate:!1,access_project_admin:!1,pertanyaanQNA:"",qna:[],peserta:[],tamu:[],pertanyaan:[],jawaban:[],companyId:"",qnaPeserta:"",loadingTest:!1,engine:"bbb",mode:"web",zoomUrl:"",isLoading:!1,pembicara:[],sekretarisId:[],moderatorId:[],pembicaraId:[],ownerId:[],session:m.a.get("user").data,lampirans:[{id:1,nama:"mom-meeting.pdf",url:"https://google.com"},{id:2,nama:"file-presentasi.pdf",url:"https://google.com"},{id:3,nama:"formulir-pendaftaran.docx",url:"https://google.com"}],pertanyaans:[{id:1,dari:"John MC",pertanyaan:"Berapa hasil dari 10x10 berapa hayooo?",datetime:"02 Sep 2020 12:10"},{id:2,dari:"Arrazaqul",pertanyaan:"Kalau semisal hasil dari 100 dibagi 10 berapa hayooo?",datetime:"02 Sep 2020 12:12"},{id:3,dari:"Ahmad Syujan",pertanyaan:"Gan, Saya yang mau tanya lebih serius. Kalau semisal hasil dari 100 dibagi 10 berapa hayooo?",datetime:"02 Sep 2020 12:12"}]},this.closeModalEnd=e=>{this.setState({modalEnd:!1})},this.closeModalDoorprize=e=>{this.setState({modalDoorprize:!1})},this.closeModalKuesioner=e=>{this.setState({modalKuesioner:!1})},this.closeModalSendPretest=e=>{this.setState({modalSendPretest:!1})},this.closeModalSendPosttest=e=>{this.setState({modalSendPosttest:!1})},this.closeModalResult=e=>{this.setState({modalResultPretest:!1,modalResultPosttest:!1})},this.closeModalKuesionerPeserta=e=>{this.setState({modalKuesionerPeserta:!1}),this.closeModalConfirmClose()},this.closeModalConfirmClose=e=>{this.setState({modalConfirmClose:!1})},this.handleJawab=e=>{const{value:t,name:a}=e.target;var s=this.state.jawaban,l=this.findArray(s,"questions_id",a);-1!==l?(s.splice(l,1),this.setState({jawaban:s}),this.state.jawaban.push({questions_id:a,options_id:t})):this.state.jawaban.push({questions_id:a,options_id:t})},this.handleJawabPretest=e=>{const{value:t,name:a}=e.target;var s=this.state.jawabanPretest,l=this.findArray(s,"questions_id",a);-1!==l?(s.splice(l,1),this.setState({jawabanPretest:s}),this.state.jawabanPretest.push({questions_id:a,options_id:t})):this.state.jawabanPretest.push({questions_id:a,options_id:t})},this.handleJawabPosttest=e=>{const{value:t,name:a}=e.target;var s=this.state.jawabanPosttest,l=this.findArray(s,"questions_id",a);-1!==l?(s.splice(l,1),this.setState({jawabanPosttest:s}),this.state.jawabanPosttest.push({questions_id:a,options_id:t})):this.state.jawabanPosttest.push({questions_id:a,options_id:t})},this.handleDynamicInput=e=>{this.setState({webinar:{...this.state.webinar,essay:e}})},this.handleDynamicInputPoll=e=>{let t=this.state.createPoll;if(e.hasOwnProperty("target")){const{value:a,name:s}=e.target;t[s]=a,this.setState({createPoll:t})}else t.tanya=e,this.setState({createPoll:t})},this.handleDynamicInputEssay=e=>{this.setState({jawabanEssayKu:e})}}fetchDataParticipants(){if(this.state.webinarId){let e=P.api(n.e,n.d);(0,P.http)(e.monitoring.getMeetingInfo(this.state.webinarId)).then(e=>{if("FAILED"==e.returncode&&"notFound"==e.messageKey);else{let a=[];try{let t=Object.assign({},e);t.attendees.attendee.length>0&&t.attendees.attendee.forEach(e=>{-1==a.findIndex(t=>t==e.userID)&&"VIEWER"===e.role&&a.push(e.userID)})}catch(t){}this.setState({peserta_count:a,dataParticipants:{audio:e.attendees.attendee?Array.isArray(e.attendees.attendee)?e.attendees.attendee.filter(e=>e.hasJoinedVoice||e.isListeningOnly).length:e.attendees.attendee.hasJoinedVoice||e.attendees.attendee.isListeningOnly?1:0:0,camera:e.attendees.attendee?Array.isArray(e.attendees.attendee)?e.attendees.attendee.filter(e=>e.hasVideo).length:e.attendees.attendee.hasVideo?1:0:0}})}})}}findArray(e,t,a){for(var s=0;s<e.length;s+=1)if(e[s][t]===a)return s;return-1}setting(){this.setState({setting:!this.state.setting})}kirimJawabanEssay(){if(this.state.jawabanEssayKu){let e={id:this.state.webinarId,user_id:this.state.user.user_id,answer:this.state.jawabanEssayKu};this.setState({isLoading:!0}),n.l.post("".concat(n.a,"v2/webinar-test/essay"),e).then(e=>{e.data.error?(o.b.error("Failed to submit answer"),this.setState({isLoading:!1})):(o.b.success("Essay submission sent"),this.actionResultEssay=!1,this.setState({isLoading:!1}),_.emit("send",{socketAction:"submitEssay",webinar_id:this.state.webinarId}),this.props.webinarId&&this.props.voucher?this.fetchWebinarPublic(!0):this.fetchWebinar(!0))})}else o.b.warning("Post-test is mandatory")}kirimJawabanPosttest(){if(this.state.jawabanPosttest.length>0){let e={id:this.state.webinarId,user_id:this.state.user.user_id,pengguna:this.state.user.type?0:1,webinar_test:this.state.jawabanPosttest};this.setState({isLoading:!0}),n.l.post("".concat(n.a,"v2/webinar-test/input"),e).then(e=>{e.data.error?(o.b.error("Failed to submit answer"),this.setState({isLoading:!1})):(o.b.success("Post-test submission sent"),this.actionPostTest=!1,_.emit("send",{userId:this.state.user.user_id,socketAction:"kirimJawabanPostTest",webinar_id:this.state.webinarId}),this.setState({isLoading:!1})),this.props.webinarId&&this.props.voucher?this.fetchWebinarPublic(!0):this.fetchWebinar(!0),this.fetchPostTest(),this.fetchResultPosttest(),this.setState({modalResultPosttest:!0})})}else o.b.warning("Post-test is mandatory")}kirimJawabanPretest(){if(this.state.jawabanPretest.length>0){let e={id:this.state.webinarId,user_id:this.state.user.user_id,pengguna:this.state.user.type?0:1,webinar_test:this.state.jawabanPretest};this.setState({isLoading:!0}),n.l.post("".concat(n.a,"v2/webinar-test/input"),e).then(e=>{e.data.error?(o.b.error("Failed to Submit Pre-Test answers webinar"),this.setState({isLoading:!1})):(o.b.success("Submit Pre-Test answers webinar"),this.actionPreTest=!1,_.emit("send",{socketAction:"kirimJawabanPreTest",userId:this.state.user.user_id,webinar_id:this.state.webinarId}),this.setState({isLoading:!1})),this.fetchPreTest(),this.fetchResultPretest(),this.openModalPretest()})}else o.b.warning("Pre-test is mandatory")}waktuPretestHabis(){let e={id:this.state.webinarId,user_id:this.state.user.user_id,pengguna:this.state.user.type?0:1,webinar_test:this.state.jawabanPretest};0===this.state.resultPretest.list.length&&n.l.post("".concat(n.a,"v2/webinar-test/input"),e).then(e=>{e.data.error?o.b.error("Failed to Submit Pre-Test answers webinar"):o.b.warning("Waktu habis"),o.b.success("Submit Pre-Test answers webinar"),_.emit("send",{socketAction:"kirimJawabanPreTest",userId:this.state.user.user_id,webinar_id:this.state.webinarId}),this.fetchPreTest(),this.fetchResultPretest(),this.openModalPretest()})}waktuPosttestHabis(){let e={id:this.state.webinarId,user_id:this.state.user.user_id,pengguna:this.state.user.type?0:1,webinar_test:this.state.jawabanPosttest};0===this.state.resultPosttest.list.length&&n.l.post("".concat(n.a,"v2/webinar-test/input"),e).then(e=>{e.data.error?o.b.error("Failed"):o.b.warning("Time out"),o.b.success("Post-test submission sent"),_.emit("send",{socketAction:"kirimJawabanPostTest",userId:this.state.user.user_id,webinar_id:this.state.webinarId}),this.fetchPostTest(),this.fetchResultPosttest()})}kirimJawabanKuesioner(){if(this.state.jawaban.length>=this.state.pertanyaan.length){let e={id:this.state.webinarId,user_id:this.state.user.user_id,pengguna:this.state.user.type?0:1,kuesioner:this.state.jawaban};this.setState({isLoading:!0}),n.l.post("".concat(n.a,"v2/kuesioner/input"),e).then(e=>{e.data.error?(o.b.error("Already sent answers to the Feedback Form on this webinar"),this.setState({isLoading:!1})):(_.emit("send",{socketAction:"jawabKuesioner",webinar_id:this.state.webinarId,name:this.state.user.name}),o.b.success("Feedback Form submission sent"),this.closeModalKuesionerPeserta(),this.setState({startKuesioner:!1,isLoading:!1}))})}else o.b.warning("You must answer all questions")}postLog(e,t,a,s){n.l.post("".concat(n.a,"v2/webinar/log/").concat(e,"/").concat(t,"/").concat(a,"/").concat(s)).then(e=>{e.data.error?console.log("Log webinar error"):console.log("Log webinar posted")})}sendQNA(){if(this.state.pertanyaanQNA.length<10)o.b.warning("Question at least 10 characters");else{this.setState({isSavingQuestion:!0});let e={webinar_id:this.state.webinarId,jenis_peserta:this.state.user.type?"tamu":"peserta",peserta_id:this.state.user.user_id,description:this.state.pertanyaanQNA};n.l.post("".concat(n.a,"v2/webinar/qna"),e).then(e=>{e.data.error?(o.b.error("Failed to send quistionnaire"),this.setState({isSavingQuestion:!1})):(o.b.success("Question sent"),this.setState({isSavingQuestion:!1}),this.setState({pertanyaanQNA:""}),_.emit("send",{name:e.data.result.name,webinar_id:e.data.result.webinar_id,email:e.data.result.email,description:e.data.result.description,jenis_peserta:this.state.user.type?"tamu":"peserta",timestamp:new Date}),this.fetchQNAByUser())})}}fetchQNA(){n.l.get("".concat(n.a,"v2/webinar/qna/").concat(this.state.webinarId)).then(e=>{e.data.error?o.b.warning("Error fetch API"):this.setState({qna:e.data.result})})}fetchQNAByUser(){n.l.get("".concat(n.a,"v2/webinar/qna-peserta/").concat(this.state.webinarId,"/").concat(this.state.user.user_id)).then(e=>{e.data.error?o.b.warning("Error fetch API"):this.setState({qnaPeserta:e.data.result})})}fetchKuesioner(){this.setState({jawaban:[]}),n.l.get("".concat(n.a,"v2/kuesioner-peserta/").concat(this.state.webinarId)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):this.setState({pertanyaan:e.data.result}))})}fetchWebinar(e){n.l.get("".concat(n.j).concat(m.a.get("user").data.email)).then(async t=>{200===t.status&&(this.setState({user:t.data.result}),this.getResultPostPreTest("posttest"),this.getResultPostPreTest("pretest"),this.fetchPreTest(),this.fetchPostTest(),n.l.get("".concat(n.a,"v2/webinar/one/").concat(this.state.webinarId)).then(t=>{t.data.error?o.b.warning("Error fetch API"):this.setState({webinar:t.data.result,companyId:t.data.result.company_id,moderatorId:t.data.result.moderator,sekretarisId:t.data.result.sekretaris,pembicaraId:t.data.result.pembicara,ownerId:t.data.result.owner,projectId:t.data.result.project_id,dokumenId:t.data.result.dokumen_id,status:t.data.result.status,tanggal:t.data.result.start_time,tanggalEnd:t.data.result.end_time,peserta:t.data.result.peserta,tamu:t.data.result.tamu,isFeedback:t.data.result.isFeedback,engine:t.data.result.engine,mode:t.data.result.mode,waitingKuesioner:1===t.data.result.kuesioner_sent,startKuesioner:1===t.data.result.kuesioner_sent,kuesionerTerjawab:1===t.data.result.kuesioner_answered,startPosttest:1===t.data.result.posttest_sent,startPretest:1===t.data.result.pretest_sent,startEssay:1===t.data.result.essay_sent}),this.setState({pembicara:[]}),t.data.result.pembicara.map(e=>this.state.pembicara.push(e.name)),1===t.data.result.kuesioner_sent&&this.fetchKuesioner(),this.state.usersPoll.length||(t.data.result.peserta.map(e=>{this.state.usersPoll.push({id:e.user_id,name:e.name,checked:!0})}),t.data.result.tamu.map(e=>{this.state.usersPoll.push({id:e.voucher,name:e.name,checked:!0})})),this.fetchQNAByUser(),this.checkProjectAccess(),this.fetchResultPretest(),this.fetchResultPosttest(),this.fetchEssay(),this.fetchResultEssay();let a=p()(new Date).local()>=p()(this.state.tanggal).local()&&p()(new Date).local()<=p()(this.state.tanggalEnd).local();if(this.setState({isWebinarStartDate:a}),2==this.state.status||a&&3!=this.state.status){this.updateStatus(this.state.webinar.id,2),1==this.state.webinar.status&&this.fetchWebinar();let t=P.api(n.e,n.d),a=P.http,s=t.monitoring.getMeetingInfo(this.state.webinar.id);a(s).then(async s=>{if("FAILED"==s.returncode&&"notFound"==s.messageKey){let e=t.administration.create(this.state.webinar.judul,this.state.webinar.id,{attendeePW:"peserta",moderatorPW:"moderator",allowModsToUnmuteUsers:!0,record:!0});a(e).then(async e=>{if("SUCCESS"===e.returncode){let e=t.administration.join(this.state.user.name,this.state.webinar.id,this.state.moderatorId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1?"moderator":"peserta",{userID:this.state.user.user_id}),a=await n.l.get("".concat(n.a,"v2/webinar/zoom/").concat(this.state.webinar.id)),s=a.data.result.length?a.data.result[0].zoom_id:0,l="".concat(n.k,"/?room=").concat(s,"&name=").concat(this.state.user.name,"&email=","&role=").concat(this.state.moderatorId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1?1:0);this.setState({joinUrl:e,zoomUrl:l,isLoadingPage:!1}),this.postLog(this.state.webinar.id,this.state.user.user_id,"peserta","join")}else console.log("GAGAL",e)})}else{if(s.attendees.attendee?Array.isArray(s.attendees.attendee)?s.attendees.attendee.filter(e=>e.userID===this.state.user.user_id&&(e.isListeningOnly||e.hasJoinedVoice||e.hasVideo)).length:s.attendees.attendee.userID===this.state.user.user_id&&(s.attendees.attendee.isListeningOnly||s.attendees.attendee.hasJoinedVoice||s.attendees.attendee.hasVideo):0)e||this.setState({joined:!0});else{let e=t.administration.join(this.state.user.name,this.state.webinar.id,this.state.moderatorId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1?"moderator":"peserta",{userID:this.state.user.user_id}),a=await n.l.get("".concat(n.a,"v2/webinar/zoom/").concat(this.state.webinar.id)),s=a.data.result.length?a.data.result[0].zoom_id:0,l="".concat(n.k,"/?room=").concat(s,"&name=").concat(this.state.user.name,"&email=","&role=").concat(this.state.moderatorId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1?1:0);this.setState({joinUrl:e,zoomUrl:l,isLoadingPage:!1}),this.postLog(this.state.webinar.id,this.state.user.user_id,"peserta","join")}}})}this.setState({isLoadingPage:!1})}))})}fetchWebinarPublic(e){n.l.get("".concat(n.a,"v2/webinar/tamu/").concat(this.props.voucher)).then(async t=>{200===t.status&&(this.setState({user:t.data.result}),this.fetchPreTest(),this.fetchPostTest(),n.l.get("".concat(n.a,"v2/webinar/tamu/one/").concat(this.props.webinarId)).then(t=>{t.data.error?o.b.warning("Error fetch API"):this.setState({webinar:t.data.result,companyId:t.data.result.company_id,moderatorId:t.data.result.moderator,sekretarisId:t.data.result.sekretaris,pembicaraId:t.data.result.pembicara,projectId:t.data.result.project_id,dokumenId:t.data.result.dokumen_id,status:t.data.result.status,tanggal:t.data.result.start_time,tanggalEnd:t.data.result.end_time,peserta:t.data.result.peserta,tamu:t.data.result.tamu,isFeedback:t.data.result.isFeedback,engine:t.data.result.engine,mode:t.data.result.mode,waitingKuesioner:1===t.data.result.kuesioner_sent,startKuesioner:1===t.data.result.kuesioner_sent,startPretest:1===t.data.result.pretest_sent,startPosttest:1===t.data.result.posttest_sent,startEssay:1===t.data.result.essay_sent}),this.setState({pembicara:[]}),t.data.result.pembicara.map(e=>this.state.pembicara.push(e.name)),1===t.data.result.kuesioner_sent&&this.fetchKuesioner(),this.fetchQNAByUser(),this.checkProjectAccess(),this.fetchResultPretest(),this.fetchResultPosttest(),this.fetchEssay(),this.fetchResultEssay();let a=p()(new Date).local()>=p()(this.state.tanggal).local()&&p()(new Date).local()<=p()(this.state.tanggalEnd).local();if(this.setState({isWebinarStartDate:a}),2==this.state.status||a&&3!=this.state.status){this.updateStatus(this.state.webinar.id,2),1==this.state.webinar.status&&this.fetchWebinarPublic();let t=P.api(n.e,n.d),a=P.http,s=t.monitoring.getMeetingInfo(this.state.webinar.id);a(s).then(async s=>{if("FAILED"==s.returncode&&"notFound"==s.messageKey){let e=t.administration.create(this.state.webinar.judul,this.state.webinar.id,{attendeePW:"peserta",moderatorPW:"moderator",allowModsToUnmuteUsers:!0,record:!0});a(e).then(async e=>{if("SUCCESS"===e.returncode){let e=t.administration.join(this.state.user.name,this.state.webinar.id,this.state.moderatorId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1?"moderator":"peserta",{userID:this.state.user.user_id}),a=await n.l.get("".concat(n.a,"v2/webinar/zoom/").concat(this.state.webinar.id)),s=a.data.result.length?a.data.result[0].zoom_id:0,l="".concat(n.k,"/?room=").concat(s,"&name=").concat(this.state.user.name,"&email=","&role=0}");this.setState({joinUrl:e,zoomUrl:l,isLoadingPage:!1}),this.postLog(this.state.webinar.id,this.state.user.user_id,"tamu","join")}else console.log("GAGAL",e)})}else{if(s.attendees.attendee?Array.isArray(s.attendees.attendee)?s.attendees.attendee.filter(e=>e.userID===this.state.user.user_id&&(e.isListeningOnly||e.hasJoinedVoice||e.hasVideo)).length:s.attendees.attendee.userID===this.state.user.user_id&&(s.attendees.attendee.isListeningOnly||s.attendees.attendee.hasJoinedVoice||s.attendees.attendee.hasVideo):0)e||this.setState({joined:!0});else{let e=t.administration.join(this.state.user.name,this.state.webinar.id,this.state.moderatorId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.a.get("user").data.user_id).length>=1?"moderator":"peserta",{userID:this.state.user.user_id}),a=await n.l.get("".concat(n.a,"v2/webinar/zoom/").concat(this.state.webinar.id)),s=a.data.result.length?a.data.result[0].zoom_id:0,l="".concat(n.k,"/?room=").concat(s,"&name=").concat(this.state.user.name,"&email=","&role=0}");this.setState({joinUrl:e,zoomUrl:l,isLoadingPage:!1}),this.postLog(this.state.webinar.id,this.state.user.user_id,"tamu","join")}}})}this.setState({isLoadingPage:!1})}))})}acakDoorprize(){let e=[];for(var t=0;t<this.state.jawabKuesioner.length;t++){let a=this.state.jawabKuesioner[t].toLowerCase();if(this.state.moderatorId.filter(e=>e.name.toLowerCase()===a).length>=1||this.state.pembicaraId.filter(e=>e.name.toLowerCase()===a).length>=1||this.state.sekretarisId.filter(e=>e.name.toLowerCase()===a).length>=1)console.log(this.state.jawabKuesioner[t],"TEST DOORPRIZE POP");else{e.findIndex(e=>e===this.state.jawabKuesioner[t])<0&&e.push(this.state.jawabKuesioner[t])}}this.state.jawabKuesioner=e;const a=Math.floor(Math.random()*this.state.jawabKuesioner.length);_.emit("send",{socketAction:"pemenangDoorprize",webinar_id:this.state.webinarId,name:this.state.jawabKuesioner[a]})}fetchResultPretest(){this.setState({loadingTest:!0}),n.l.get("".concat(n.a,"v2/webinar-test/result/").concat(this.state.webinarId,"/0/").concat(this.state.user.user_id)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):(this.getResultPostPreTest("pretest"),this.setState({resultPretest:e.data.result},()=>{this.setState({loadingTest:!1})})))})}openModalPretest(){this.setState({modalResultPretest:!0})}fetchResultEssay(){this.setState({loadingTest:!0}),n.l.get("".concat(n.a,"v2/webinar-test/result/").concat(this.state.webinarId,"/essay/").concat(this.state.user.user_id)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):this.setState({resultEssay:e.data.result},()=>{this.setState({loadingTest:!1})}))})}fetchResultPosttest(){this.setState({loadingTest:!0}),n.l.get("".concat(n.a,"v2/webinar-test/result/").concat(this.state.webinarId,"/1/").concat(this.state.user.user_id)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):(this.getResultPostPreTest("posttest"),this.setState({resultPosttest:e.data.result},()=>{this.setState({loadingTest:!1})})))})}fetchPreTest(){n.l.get("".concat(n.a,"v2/webinar-test-peserta/").concat(this.state.webinarId,"/0/").concat(this.state.user.user_id)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):this.setState({pretestTerjawab:e.data.terjawab,enablePretest:e.data.enable,pretest:e.data.result,waktuPretest:e.data.waktu}))})}fetchPostTest(){n.l.get("".concat(n.a,"v2/webinar-test-peserta/").concat(this.state.webinarId,"/1/").concat(this.state.user.user_id)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):this.setState({posttestTerjawab:e.data.terjawab,enablePosttest:e.data.enable,posttest:e.data.result,waktuPosttest:e.data.waktu}))})}fetchEssay(){n.l.get("".concat(n.a,"v2/webinar-test-peserta/").concat(this.state.webinarId,"/essay/").concat(this.state.user.user_id)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):this.setState({essayTerjawab:e.data.terjawab,essayResult:e.data.result,jawabanEssayKu:e.data.result.length?e.data.result[0].answer:""}))})}fetchKuesionerSender(){n.l.get("".concat(n.a,"v2/kuesioner/sender/").concat(this.state.webinarId)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):this.setState({jawabKuesioner:e.data.result}))})}fetchPolling(){n.l.get("".concat(n.a,"v2/webinar-test-polling/").concat(this.state.webinarId)).then(e=>{200===e.status&&(e.data.error?o.b.error("Error fetch data"):this.setState({polling:e.data.result}))})}getResultPostPreTest(e){n.l.get("".concat(n.a,"v2/webinar-test/result/").concat(this.state.webinarId)).then(t=>{if(200===t.status)if(t.data.error)o.b.error("Error fetch data");else{let s=Object.keys(t.data.result);for(var a=0;a<s.length;a++){let l=t.data.result[s[a]];if("posttest"===e){this.state.resultPostPreTest_AllUser.posttest.findIndex(e=>e.user_id===l.user_id)<0&&l.posttest&&(l.posttest.benar>0||l.posttest.salah>0)&&this.state.resultPostPreTest_AllUser.posttest.push({user_id:l.user_id,name:l.name,selisih:l.selisih,value:l.posttest})}else if("pretest"===e){this.state.resultPostPreTest_AllUser.pretest.findIndex(e=>e.user_id===l.user_id)<0&&l.pretest&&(l.pretest.benar>0||l.pretest.salah>0)&&this.state.resultPostPreTest_AllUser.pretest.push({user_id:l.user_id,name:l.name,selisih:l.selisih,value:l.pretest})}}}})}componentDidMount(){this.fetchKuesionerSender(),_.on("broadcast",e=>{if(e.webinar_id!=this.state.webinarId||e.socketAction||(this.props.webinarId&&this.props.voucher?this.fetchWebinarPublic(!0):this.fetchWebinar(!0)),e.description&&e.webinar_id==this.state.webinarId&&this.setState({qna:[e,...this.state.qna]}),"pemenangDoorprize"===e.socketAction&&e.webinar_id===this.state.webinarId&&(this.state.pemenangDoorprize.push(e.name),this.setState({modalDoorprize:!0}),this.closeModalKuesioner()),"sendKuesioner"===e.socketAction&&e.webinar_id===this.state.webinarId&&(this.setState({startKuesioner:!0,modalKuesionerPeserta:!0}),this.fetchKuesioner()),"sendPretest"===e.socketAction&&e.webinar_id===this.state.webinarId){this.setState({startPretest:!0}),this.fetchPreTest();try{(this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length>=1)&&2==this.state.status||this.state.pretestTerjawab||(o.b.success("Please fill in the following pre-test questions."),this.actionPreTest.scrollIntoView({behavior:"smooth"}))}catch(t){console.error(t,"SEND_POST_TEST")}}if("sendPosttest"===e.socketAction&&e.webinar_id===this.state.webinarId){this.setState({startPosttest:!0}),this.fetchPostTest();try{(this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length>=1)&&2==this.state.status||this.state.posttestTerjawab||(o.b.success("Please fill in the following post test questions."),this.actionPostTest.scrollIntoView({behavior:"smooth"}))}catch(t){console.error(t,"SEND_POST_TEST")}}if("sendEssay"===e.socketAction&&e.webinar_id===this.state.webinarId){try{(this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length>=1)&&2==this.state.status||this.state.jawabanEssayKu||(o.b.success("Please fill in the following essay questions."),this.actionEssay.scrollIntoView({behavior:"smooth"}))}catch(t){}this.setState({startEssay:!0}),this.props.webinarId&&this.props.voucher?this.fetchWebinarPublic(!0):this.fetchWebinar(!0)}"submitEssay"===e.socketAction&&e.webinar_id===this.state.webinarId&&this.fetchResultEssay(),"jawabKuesioner"===e.socketAction&&e.webinar_id===this.state.webinarId&&(this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length>=1)&&(this.fetchKuesionerSender(),this.forceUpdate()),"fetchPostTest"===e.socketAction&&e.webinar_id===this.state.webinarId&&(this.props.webinarId&&this.props.voucher?this.fetchWebinarPublic(!0):this.fetchWebinar(!0),this.fetchPostTest()),"kirimJawabanPostTest"===e.socketAction&&e.webinar_id===this.state.webinarId&&e.userId!==this.state.user.user_id&&(this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length>=1)&&(console.log("SOCKET IN : ",e),this.getResultPostPreTest("posttest")),"kirimJawabanPreTest"===e.socketAction&&e.webinar_id===this.state.webinarId&&e.userId!==this.state.user.user_id&&(this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length>=1)&&(console.log("SOCKET IN :",e),this.getResultPostPreTest("pretest")),"publishPoll"===e.socketAction&&e.webinar_id===this.state.webinarId&&e.userId!==this.state.user.user_id&&e.recipient.filter(e=>e.id===this.state.user.user_id).length&&this.setState({pollResult:e.data,modalResultPoll:!0}),"startPoll"===e.socketAction&&e.webinar_id===this.state.webinarId&&e.userId!==this.state.user.user_id&&e.recipient.filter(e=>e.id===this.state.user.user_id).length&&(this.setState({answerPoll:e.data,modalAnswerPoll:!0}),this.state.answerPoll.poll_id=e.poll_id,this.forceUpdate()),"newPollSubmit"===e.socketAction&&e.webinar_id===this.state.webinarId&&e.userId!==this.state.user.user_id&&this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1&&this.fetchPolling()}),this.props.webinarId&&this.props.voucher?this.fetchWebinarPublic():this.fetchWebinar(),this.fetchQNA();for(var e=document.getElementsByTagName("a"),t=e.length,a=0;a<t;a++)e[a].target="_blank";this.timer=setInterval(()=>this.fetchDataParticipants(),5e3)}checkAll(e){this.state.usersPoll.map(t=>{t.checked=e.target.checked}),this.setState({checkAllUsersPoll:e.target.checked})}handleChangeChecked(e,t){this.state.usersPoll[t].checked=e.target.checked,this.forceUpdate()}checkProjectAccess(){this.props.voucher?this.setState({access_project_admin:!1}):n.l.get("".concat(n.a,"v1/project-access/").concat(this.state.projectId,"/").concat(m.a.get("user").data.user_id)).then(e=>{if(200===e.status){let t=m.a.get("user").data.level;"client"==t&&"Project Admin"==e.data.result||"client"!=t?this.setState({access_project_admin:!0}):this.setState({access_project_admin:!1})}})}updateStatus(e,t){let a={id:e,status:t};n.l.put("".concat(n.a,"v2/webinar/status"),a).then(async e=>{e.data.error?o.b.warning("Error fetch API"):3==t&&o.b.success("Webinar has ended")})}endMeeting(){let e=P.api(n.e,n.d);(0,P.http)(e.administration.end(this.state.webinar.id,"moderator")).then(e=>{e.returncode,this.closeModalEnd(),o.b.success("You have ended the webinar for all participants"),this.updateStatus(this.state.webinar.id,3),_.emit("send",{socketAction:"fetchPostTest",webinar_id:this.state.webinarId})})}startPoll(){if(this.state.idPoll){let e={webinar_id:this.state.webinarId,id:this.state.idPoll,webinar_test:[this.state.createPoll]};n.l.put("".concat(n.a,"v2/webinar-test-polling/").concat(e.id),e).then(t=>{200===t.status&&(t.data.error?o.b.error("Error post data"):n.l.put("".concat(n.a,"v2/webinar-test-polling-status/").concat(e.id),{status:"On going"}).then(e=>{200===e.status&&(e.data.error?o.b.error("Error post data"):(o.b.success("Sending poll to participants"),this.fetchPolling(),_.emit("send",{socketAction:"startPoll",userId:this.state.user.user_id,poll_id:this.state.idPoll,webinar_id:this.state.webinarId,data:this.state.createPoll,recipient:this.state.usersPoll.filter(e=>!0===e.checked)}),this.setState({newPoll:!1,idPoll:"",createPoll:{tanya:"",jenis:null,a:"",b:"",c:"",d:"",e:""}})))}))})}else{let e={id:this.state.webinarId,webinar_test:[this.state.createPoll]};n.l.post("".concat(n.a,"v2/webinar-test-polling-single"),e).then(e=>{200===e.status&&(e.data.error?o.b.error("Error post data"):n.l.put("".concat(n.a,"v2/webinar-test-polling-status/").concat(e.data.result.insertId),{status:"On going"}).then(t=>{200===t.status&&(t.data.error?o.b.error("Error post data"):(o.b.success("Sending poll to participants"),this.fetchPolling(),_.emit("send",{socketAction:"startPoll",userId:this.state.user.user_id,poll_id:e.data.result.insertId,webinar_id:this.state.webinarId,data:this.state.createPoll,recipient:this.state.usersPoll.filter(e=>!0===e.checked)}),this.setState({newPoll:!1,createPoll:{tanya:"",jenis:null,a:"",b:"",c:"",d:"",e:""}})))}))})}}publishPoll(e){"Finish"===e.status?(o.b.success("Sending poll result to participants"),_.emit("send",{socketAction:"publishPoll",userId:this.state.user.user_id,webinar_id:this.state.webinarId,data:e,recipient:this.state.usersPoll.filter(e=>!0===e.checked)})):n.l.put("".concat(n.a,"v2/webinar-test-polling-status/").concat(e.id),{status:"Finish"}).then(t=>{200===t.status&&(t.data.error?o.b.error("Error post data"):(o.b.success("Sending poll result to participants"),this.fetchPolling(),_.emit("send",{socketAction:"publishPoll",userId:this.state.user.user_id,webinar_id:this.state.webinarId,data:e,recipient:this.state.usersPoll.filter(e=>!0===e.checked)})))})}submitPoll(e){let t={user_id:this.state.user.user_id,pengguna:this.state.user.type?0:1,poll_id:this.state.answerPoll.poll_id,answer:e};this.setState({submitPoll:!0}),n.l.post("".concat(n.a,"v2/webinar-test-polling-submit"),t).then(e=>{200===e.status&&(e.data.error?o.b.error("Error post data"):(_.emit("send",{socketAction:"newPollSubmit",userId:this.state.user.user_id,webinar_id:this.state.webinarId}),this.setState({submitPoll:!1,modalAnswerPoll:!1}),o.b.success("Poll submited")))})}selectType(e){this.state.createPoll.jenis=e,0===e?(this.state.createPoll.a="True",this.state.createPoll.b="False",this.state.createPoll.c="",this.state.createPoll.d="",this.state.createPoll.e=""):1===e?(this.state.createPoll.a="A",this.state.createPoll.b="B",this.state.createPoll.c="C",this.state.createPoll.d="D",this.state.createPoll.e=""):2===e&&(this.state.createPoll.a="Yes",this.state.createPoll.b="No",this.state.createPoll.c="Abstention",this.state.createPoll.d="",this.state.createPoll.e=""),this.state.hideInputPollDefault="visible",this.forceUpdate()}closeSendPoll(){this.setState({modalSendPoll:!1,newPoll:!1,createPoll:{}})}closeAnswerPoll(){this.setState({modalAnswerPoll:!1})}closeResultPoll(){this.setState({modalResultPoll:!1})}closeResultPostTest(){this.setState({showModalResultPostTest:!1})}closeResultPreTest(){this.setState({showModalResultPreTest:!1})}backPoll(){this.setState({newPoll:!1,createPoll:{},idPoll:"",setting:!1})}sendKuesioner(){n.l.put("".concat(n.a,"v2/webinar/send-kuesioner/").concat(this.state.webinarId)).then(e=>{200===e.status&&(_.emit("send",{socketAction:"sendKuesioner",webinar_id:this.state.webinarId}),o.b.success("Feedback Form sent to participants"),this.setState({waitingKuesioner:!0}))})}sendPosttest(){n.l.put("".concat(n.a,"v2/webinar/send-posttest/").concat(this.state.webinarId)).then(e=>{200===e.status&&(_.emit("send",{socketAction:"sendPosttest",webinar_id:this.state.webinarId}),o.b.success("Post test sent"),this.closeModalSendPosttest())})}sendPretest(){n.l.put("".concat(n.a,"v2/webinar/send-pretest/").concat(this.state.webinarId)).then(e=>{200===e.status&&(_.emit("send",{socketAction:"sendPretest",webinar_id:this.state.webinarId}),o.b.success("Pre test sent"),this.closeModalSendPretest())})}sendEssay(){let e={essay:this.state.webinar.essay};n.l.put("".concat(n.a,"v2/webinar/send-essay/").concat(this.state.webinarId),e).then(e=>{200===e.status&&(_.emit("send",{socketAction:"sendEssay",webinar_id:this.state.webinarId}),o.b.success("Essay sent"),this.setState({modalSendEssay:!1}))})}render(){let e=this.props.voucher?"".concat(n.c,"webinar-guest/").concat(this.state.webinarId,"/").concat(this.props.voucher):"".concat(n.c,"webinar/live/").concat(this.state.webinarId),t=e.length,a="icademy"+e.slice(5,t);const{user:m}=this.state,u=e=>{let{items:t}=e;return l.a.createElement("div",{className:"row"},t.map((e,t)=>l.a.createElement("div",{className:"col-sm-12 mb-3",key:e.id},l.a.createElement("div",{className:"border-disabled"},l.a.createElement("div",{className:"box-lampiran"},l.a.createElement("div",{className:""},l.a.createElement("span",{style:{fontWeight:"bold"}},e.name),l.a.createElement("span",{className:"float-right"},"peserta"==e.jenis_peserta?"User":"Guest"),l.a.createElement("br",null),l.a.createElement("p",{style:{marginBottom:"1px"}},e.description)))))))};return l.a.createElement("div",{className:"row",style:{margin:"8px 0px"}},l.a.createElement("div",{className:"col-sm-12"},l.a.createElement(i.a,null,l.a.createElement(i.a.Body,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("h3",{className:"f-w-900 f-18 fc-blue"},this.state.webinar.judul,l.a.createElement("p",null,""!==this.state.pembicara.toString()?"Speaker : ":"",this.state.pembicara.toString())),(2==this.state.status||this.state.isWebinarStartDate&&2==this.state.status)&&!this.state.joined&&this.state.isJoin?l.a.createElement("span",{className:"f-w-bold f-12 fc-black",style:{position:"absolute",left:21,bottom:-10}},l.a.createElement(y.a,{title:"Listening",arrow:!0,placement:"top"},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-headphones"})," ",this.state.dataParticipants.audio)),l.a.createElement(y.a,{title:"Camera On",arrow:!0,placement:"top",style:{marginLeft:8}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-camera"})," ",this.state.dataParticipants.camera))):null),l.a.createElement("div",{className:"col-sm-8 text-right"},this.state.moderatorId.filter(e=>e.user_id==m.user_id).length>=1&&2==this.state.status?l.a.createElement("button",{onClick:()=>this.setState({modalEnd:!0}),className:"float-right btn btn-icademy-primary btn-icademy-red"},l.a.createElement("i",{className:"fa fa-stop-circle"}),"End Webinar"):null,this.state.isJoin||2!==this.state.status?null:l.a.createElement("button",{className:"float-right btn btn-icademy-primary btn-icademy-warning mr-2",onClick:()=>{this.setState({isJoin:!0})}},l.a.createElement("i",{className:"fa fa-video"}),"Join the webinar"),(this.state.sekretarisId.filter(e=>e.user_id==m.user_id).length>=1||this.state.moderatorId.filter(e=>e.user_id==m.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.user_id).length>=1)&&this.state.isFeedback&&this.state.isJoin?l.a.createElement("button",{onClick:()=>this.setState({modalKuesioner:!0}),className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-clipboard-list"}),"Feedback Form & Doorprize"):null,(this.state.peserta.filter(e=>e.user_id==m.user_id).length>=1||this.state.tamu.filter(e=>e.voucher==m.user_id).length>=1)&&this.state.startKuesioner&&!this.state.kuesionerTerjawab&&this.state.pertanyaan.length>0?l.a.createElement("button",{onClick:()=>this.setState({modalKuesionerPeserta:!0}),className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-clipboard-list"}),"Feedback Form"):null,(this.state.sekretarisId.filter(e=>e.user_id==m.user_id).length>=1||this.state.moderatorId.filter(e=>e.user_id==m.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.user_id).length>=1)&&this.state.isJoin?this.state.startEssay&&this.state.resultEssay.length>0?l.a.createElement("button",{onClick:()=>this.actionResultEssay.scrollIntoView({behavior:"smooth"}),className:"float-right btn btn-icademy-primary mr-2",style:{backgroundColor:"grey"}},l.a.createElement("i",{className:"fa fa-clipboard-list"}),"Essay Result (",this.state.resultEssay.length,")"):l.a.createElement("button",{onClick:()=>this.setState({modalSendEssay:!0}),className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Send Essay"):null,(this.state.sekretarisId.filter(e=>e.user_id==m.user_id).length>=1||this.state.moderatorId.filter(e=>e.user_id==m.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.user_id).length>=1)&&this.state.posttest.length>0&&this.state.isJoin?this.state.resultPostPreTest_AllUser.posttest.length>0||null!=this.state.resultPosttest.nilai&&"NaN"!=this.state.resultPosttest.nilai&&this.state.posttest.length>=1||this.state.startPosttest?l.a.createElement("button",{onClick:()=>this.setState({showModalResultPostTest:!0,showModalResultPreTest:!1}),className:"float-right btn btn-icademy-primary mr-2",style:{backgroundColor:"grey"}},l.a.createElement("i",{className:"fa fa-clipboard-list"}),"Post Test Result (",this.state.resultPostPreTest_AllUser.posttest.length,")"):l.a.createElement("button",{onClick:()=>this.setState({modalSendPosttest:!0}),className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Send Post Test"):null,(this.state.sekretarisId.filter(e=>e.user_id==m.user_id).length>=1||this.state.moderatorId.filter(e=>e.user_id==m.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.user_id).length>=1)&&this.state.pretest.length>0&&this.state.isJoin?this.state.resultPostPreTest_AllUser.pretest.length>0||null!=this.state.resultPretest.nilai&&"NaN"!=this.state.resultPretest.nilai&&this.state.pretest.length>=1||this.state.startPretest?l.a.createElement("button",{onClick:()=>this.setState({showModalResultPreTest:!0,showModalResultPostTest:!1}),className:"float-right btn btn-icademy-primary mr-2",style:{backgroundColor:"grey"}},l.a.createElement("i",{className:"fa fa-clipboard-list"}),"Pre-Test Result (",this.state.resultPostPreTest_AllUser.pretest.length,")"):l.a.createElement("button",{onClick:()=>this.setState({modalSendPretest:!0}),className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Send Pre Test"):null,null!=this.state.resultPretest.nilai&&"NaN"!=this.state.resultPretest.nilai&&this.state.pretest.length>=1?l.a.createElement("button",{onClick:this.openModalPretest.bind(this),className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-clipboard-list"}),"Pre-Test Result"):null,null!=this.state.resultPosttest.nilai&&"NaN"!=this.state.resultPosttest.nilai&&this.state.posttest.length>=1?l.a.createElement("button",{onClick:()=>this.setState({modalResultPosttest:!0}),className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-clipboard-list"}),"Post Test Result"):null,(this.state.sekretarisId.filter(e=>e.user_id==m.user_id).length>=1||this.state.moderatorId.filter(e=>e.user_id==m.user_id).length>=1||this.state.pembicaraId.filter(e=>e.user_id==m.user_id).length>=1)&&this.state.isJoin?l.a.createElement("button",{onClick:()=>{this.fetchPolling(),this.setState({modalSendPoll:!0})},className:"float-right btn btn-icademy-primary mr-2"},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Polling"):null)),this.state.isLoadingPage?l.a.createElement("div",null,"Loading..."):l.a.createElement("div",{style:{marginTop:"10px"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12"},(2==this.state.status||this.state.isWebinarStartDate&&2==this.state.status)&&!this.state.joined?this.state.isJoin?l.a.createElement("div",{style:{background:"url('newasset/loading.gif') center center no-repeat"}},l.a.createElement(c.a,{url:"zoom"===this.state.engine?this.state.zoomUrl:this.state.joinUrl,width:"100%",height:"600px",display:"initial",frameBorder:"0",allow:"fullscreen *;geolocation *; microphone *; camera *; display-capture",position:"relative"})):null:3==this.state.status?l.a.createElement("h3",null,"The webinar has ended"):l.a.createElement("h3",null,"Webinars start on ",p()(this.state.tanggal).local().format("DD MMMM YYYY HH:mm")," until ",p()(this.state.tanggalEnd).local().format("DD MMMM YYYY HH:mm")," (",p.a.tz.guess()," Timezone)"),this.state.joined?l.a.createElement("h4",{style:{marginTop:"20px"}},"You are currently a participant of this webinar on another device or browser tab.",l.a.createElement("br",null),"If you want to access webinar from this page, exit from the other device and refresh this page afterwards."):null,3!==this.state.status&&l.a.createElement("div",{className:"dekripsi",style:{marginTop:"20px",color:"#000",lineHeight:"24px",position:"relative"}},l.a.createElement("h4",null,"Description"),l.a.createElement("div",{className:this.state.isJoin&&!this.state.showDescription?"webinar-description":"webibar-description-full",dangerouslySetInnerHTML:{__html:this.state.webinar.isi}}),this.state.isJoin&&!this.state.showDescription?l.a.createElement("div",{className:"webinar-description-overlay"}):null),l.a.createElement("center",null,this.state.isJoin&&3!==this.state.status?this.state.showDescription?l.a.createElement("span",{className:"webinar-description-button",onClick:()=>{this.setState({showDescription:!1}),this.forceUpdate()}},"Hide description"):l.a.createElement("span",{className:"webinar-description-button",onClick:()=>{this.setState({showDescription:!0}),this.forceUpdate()}},"See full description"):null),this.state.isJoin&&this.state.startPretest&&this.state.enablePretest&&!1===this.state.pretestTerjawab&&0===this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.ownerId.filter(e=>e.user_id==this.state.user.user_id).length?l.a.createElement("div",{className:"mt-4"},l.a.createElement("div",{style:{float:"left",clear:"both"},ref:e=>{this.actionPreTest=e}}),l.a.createElement("h4",null,"Answer the Pre-test"),l.a.createElement("div",{className:"alert alert-danger mt-2"},l.a.createElement("b",null,"Please answer the questions below (in ",this.state.waktuPretest,' minutes). If you have finished answering the questions, please click "Send Pre-Test Answers".',l.a.createElement("br",null),"Please complete the answers for not over than allotted time, orherwise the result in the pre-test will be automatically closed.")),l.a.createElement("div",{className:"fc-blue mb-4",style:{fontSize:"18px",fontWeight:"bold"}},l.a.createElement(g.a,{initialTime:6e4*this.state.waktuPretest,direction:"backward",checkpoints:[{time:0,callback:this.waktuPretestHabis.bind(this)}]},()=>l.a.createElement(l.a.Fragment,null,"Time limit ",l.a.createElement(g.a.Hours,null),":",l.a.createElement(g.a.Minutes,null),":",l.a.createElement(g.a.Seconds,null)))),this.state.pretest.map((e,t)=>l.a.createElement("div",{className:"mb-3"},l.a.createElement("span",{className:"f-w-900 fc-blue"},"Question ",t+1),l.a.createElement("div",{style:{color:"#000"},dangerouslySetInnerHTML:{__html:e.tanya}}),e.a&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.a[0],onChange:this.handleJawabPretest})," ",l.a.createElement("label",{for:"a"}," ",e.a[1])),e.b&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.b[0],onChange:this.handleJawabPretest})," ",l.a.createElement("label",{for:"b"}," ",e.b[1])),e.c&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.c[0],onChange:this.handleJawabPretest})," ",l.a.createElement("label",{for:"c"}," ",e.c[1])),e.d&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.d[0],onChange:this.handleJawabPretest})," ",l.a.createElement("label",{for:"d"}," ",e.d[1])),e.e&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.e[0],onChange:this.handleJawabPretest})," ",l.a.createElement("label",{for:"e"}," ",e.e[1])))),l.a.createElement("button",{disabled:this.state.isLoading,className:"btn btn-icademy-primary",onClick:this.kirimJawabanPretest.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),this.state.isLoading?"Submitting...":"Send Pre-Test Answers")):null,this.state.isJoin&&this.state.startEssay&&0===this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.ownerId.filter(e=>e.user_id==this.state.user.user_id).length?l.a.createElement("div",{className:"mt-4"},l.a.createElement("div",{style:{float:"left",clear:"both"},ref:e=>{this.actionEssay=e}}),l.a.createElement("h4",null,"Answer the Essay"),l.a.createElement("div",{style:{color:"#000"},dangerouslySetInnerHTML:{__html:this.state.webinar.essay}}),!1===this.state.essayTerjawab?l.a.createElement(s.Fragment,null,l.a.createElement(d.a,{apiKey:"j18ccoizrbdzpcunfqk7dugx72d7u9kfwls7xlpxg7m21mb5",initialValue:this.state.jawabanEssayKu,value:this.state.jawabanEssayKu,init:{height:400,width:"100%",menubar:!1,convert_urls:!1,image_class_list:[{title:"None",value:""},{title:"Responsive",value:"img-responsive"},{title:"Thumbnail",value:"img-responsive img-thumbnail"}],file_browser_callback_types:"image media",file_picker_callback:function(e,t,a){if("image"==a.filetype||"media"==a.filetype||"file"==a.filetype){var s=document.getElementById("myFile");s.click(),s.onchange=function(){var t=new FormData;t.append("file",this.files[0]),window.$.ajax({url:"".concat(n.a,"v2/media/upload"),type:"POST",data:t,processData:!1,contentType:!1,success:t=>{e(t.result.url),this.value=""}})}}},plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],media_live_embeds:!0,toolbar:"undo redo | fontsizeselect bold italic backcolor forecolor |                                       alignleft aligncenter alignright alignjustify | image | media |                                           bullist numlist outdent indent | removeformat | help"},onEditorChange:e=>this.handleDynamicInputEssay(e)}),l.a.createElement("button",{disabled:this.state.isLoading,className:"btn btn-icademy-primary mt-3",onClick:this.kirimJawabanEssay.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),this.state.isLoading?"Submitting...":"Send Essay Answers")):l.a.createElement("div",{style:{color:"grey"},dangerouslySetInnerHTML:{__html:this.state.jawabanEssayKu}})):null,this.state.isJoin&&this.state.startEssay&&(this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length||this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length||this.state.ownerId.filter(e=>e.user_id==this.state.user.user_id).length)?l.a.createElement("div",{className:"mt-4"},l.a.createElement("div",{style:{float:"left",clear:"both"},ref:e=>{this.actionResultEssay=e}}),l.a.createElement("h4",null,"Result Answer the Essay"),l.a.createElement("div",{style:{color:"#000"},dangerouslySetInnerHTML:{__html:this.state.webinar.essay}}),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Answer"))),l.a.createElement("tbody",null,this.state.resultEssay.map((e,t)=>l.a.createElement("tr",null,l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.name),l.a.createElement("td",null,l.a.createElement("div",{style:{color:"#000"},dangerouslySetInnerHTML:{__html:e.answer}}))))))):null,this.state.isJoin&&this.state.startPosttest&&(!this.state.startPretest||this.state.startPretest&&!0===this.state.pretestTerjawab)&&!1===this.state.posttestTerjawab&&0===this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.ownerId.filter(e=>e.user_id==this.state.user.user_id).length&&l.a.createElement("div",{style:{marginTop:20}},l.a.createElement("div",{style:{float:"left",clear:"both"},ref:e=>{this.actionPostTest=e}}),l.a.createElement("h4",null,"Answer the post-test"),l.a.createElement("div",{className:"alert alert-danger mt-2"},l.a.createElement("b",null,"Please answer the questions below (in ",this.state.waktuPosttest,' minutes). If you have finished answering the questions, please click "Send Post-Test Answers".',l.a.createElement("br",null),"Please complete the answers for not over than allotted time, orherwise the result in the pre-test will be automatically closed.")),l.a.createElement("div",{className:"fc-blue",style:{fontSize:"18px",fontWeight:"bold",marginBottom:20}},l.a.createElement(g.a,{initialTime:6e4*this.state.waktuPosttest,direction:"backward",checkpoints:[{time:0,callback:this.waktuPosttestHabis.bind(this)}]},()=>l.a.createElement(l.a.Fragment,null,"Time limit ",l.a.createElement(g.a.Hours,null),":",l.a.createElement(g.a.Minutes,null),":",l.a.createElement(g.a.Seconds,null)))),this.state.posttest.map((e,t)=>l.a.createElement("div",{className:"mb-3"},l.a.createElement("span",{className:"f-w-900 fc-blue"},"Question ",t+1),l.a.createElement("div",{style:{color:"#000"},dangerouslySetInnerHTML:{__html:e.tanya}}),e.a&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.a[0],onChange:this.handleJawabPosttest})," ",l.a.createElement("label",{for:"a"}," ",e.a[1])),e.b&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.b[0],onChange:this.handleJawabPosttest})," ",l.a.createElement("label",{for:"b"}," ",e.b[1])),e.c&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.c[0],onChange:this.handleJawabPosttest})," ",l.a.createElement("label",{for:"c"}," ",e.c[1])),e.d&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.d[0],onChange:this.handleJawabPosttest})," ",l.a.createElement("label",{for:"d"}," ",e.d[1])),e.e&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.e[0],onChange:this.handleJawabPosttest})," ",l.a.createElement("label",{for:"e"}," ",e.e[1])))),l.a.createElement("button",{disabled:this.state.isLoading,className:"btn btn-icademy-primary",onClick:this.kirimJawabanPosttest.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),this.state.isLoading?"Submitting...":"Send Post-Test Answers")))))))),0!==this.state.projectId&&(2===this.state.status||1===this.state.status)&&l.a.createElement("div",{className:"col-sm-6"},l.a.createElement(i.a,null,l.a.createElement(i.a.Body,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("h3",{className:"f-w-900 f-18 fc-blue"},"Documents")),l.a.createElement("div",{className:"col-sm-6 text-right"},l.a.createElement("p",{className:"m-b-0"}))),l.a.createElement("div",{className:"wrap",style:{marginTop:"10px",maxHeight:400,overflowY:"scroll"}},l.a.createElement(h.a,{voucherTamu:this.state.user.user_id,guest:!!this.props.voucher,access_project_admin:this.state.access_project_admin,webinarId:this.state.webinarId,projectId:this.state.dokumenId?this.state.dokumenId:this.state.projectId,companyId:this.state.companyId}))))),(this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length>=1||this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length>=1)&&2===this.state.status?l.a.createElement("div",{className:"col-sm-6"},l.a.createElement(i.a,null,l.a.createElement(i.a.Body,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("h3",{className:"f-w-900 f-18 fc-blue"},"Question"))),l.a.createElement("div",{className:"wrap",style:{marginTop:"10px",maxHeight:400,overflowY:"scroll",overflowX:"hidden",paddingRight:10}},this.state.qna.length?l.a.createElement(u,{items:this.state.qna}):l.a.createElement("p",null,"There is no question"))))):0===this.state.pembicaraId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.moderatorId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.sekretarisId.filter(e=>e.user_id==this.state.user.user_id).length&&0===this.state.ownerId.filter(e=>e.user_id==this.state.user.user_id).length&&2===this.state.status?l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12"},l.a.createElement(i.a,null,l.a.createElement(i.a.Body,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("h3",{className:"f-w-900 f-18 fc-blue"},"Your Question"))),l.a.createElement("div",{className:"wrap",style:{marginTop:"10px",maxHeight:400,overflowY:"scroll",overflowX:"hidden",paddingRight:10}},this.state.qnaPeserta.length?l.a.createElement(u,{items:this.state.qnaPeserta}):l.a.createElement("p",null,"There is no question"))))),l.a.createElement("div",{className:"col-sm-12"},l.a.createElement(i.a,null,l.a.createElement(i.a.Body,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("h3",{className:"f-w-900 f-18 fc-blue"},"Send Your Question")),l.a.createElement("div",{className:"col-sm-6 text-right"},l.a.createElement("p",{className:"m-b-0"}))),l.a.createElement("div",{style:{marginTop:"10px"}},l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{placeholder:"Type your question here...",rows:"4",className:"form-control",value:this.state.pertanyaanQNA,onChange:e=>this.setState({pertanyaanQNA:e.target.value})})),l.a.createElement("button",{disabled:this.state.isSavingQuestion,className:"btn btn-icademy-primary float-right",onClick:this.sendQNA.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),this.state.isSavingQuestion?"Sending...":"Send")))))):null,l.a.createElement(r.a,{show:this.state.modalEnd,onHide:this.closeModalEnd,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),l.a.createElement(r.a.Body,null,l.a.createElement("div",null,"Are you sure you want to end the webinar for all participants?")),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalEnd.bind(this)},"Cancel"),l.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-red",onClick:this.endMeeting.bind(this)},l.a.createElement("i",{className:"fa fa-trash"}),"End Webinar"))),l.a.createElement(r.a,{show:this.state.modalSendEssay,onHide:()=>this.setState({modalSendEssay:!1}),dialogClassName:"modal-lg",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Send Essay")),l.a.createElement(r.a.Body,null,l.a.createElement("input",{id:"myFile",type:"file",name:"myFile",style:{display:"none"},onChange:""}),l.a.createElement(d.a,{apiKey:"j18ccoizrbdzpcunfqk7dugx72d7u9kfwls7xlpxg7m21mb5",initialValue:this.state.webinar.essay,value:this.state.webinar.essay,init:{height:400,width:"100%",menubar:!1,convert_urls:!1,image_class_list:[{title:"None",value:""},{title:"Responsive",value:"img-responsive"},{title:"Thumbnail",value:"img-responsive img-thumbnail"}],file_browser_callback_types:"image media",file_picker_callback:function(e,t,a){if("image"==a.filetype||"media"==a.filetype||"file"==a.filetype){var s=document.getElementById("myFile");s.click(),s.onchange=function(){var t=new FormData;t.append("file",this.files[0]),window.$.ajax({url:"".concat(n.a,"v2/media/upload"),type:"POST",data:t,processData:!1,contentType:!1,success:t=>{e(t.result.url),this.value=""}})}}},plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],media_live_embeds:!0,toolbar:"undo redo | fontsizeselect bold italic backcolor forecolor |               alignleft aligncenter alignright alignjustify | image | media |                   bullist numlist outdent indent | removeformat | help"},onEditorChange:e=>this.handleDynamicInput(e)})),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.sendEssay.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Send to participant"))),l.a.createElement(r.a,{show:this.state.modalSendPretest,onHide:this.closeModalSendPretest,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Send Pre Test")),l.a.createElement(r.a.Body,null,l.a.createElement("div",null,"There are ",l.a.createElement("b",null,this.state.pretest.length)," question with ",l.a.createElement("b",null,this.state.waktuPretest," minutes")," time limit."),l.a.createElement("div",null,"Are you sure want to send pre test to attendences ?")),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.sendPretest.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Send Pre Test"))),l.a.createElement(r.a,{show:this.state.modalSendPosttest,onHide:this.closeModalSendPosttest,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Send Post Test")),l.a.createElement(r.a.Body,null,l.a.createElement("div",null,"There are ",l.a.createElement("b",null,this.state.posttest.length)," question with ",l.a.createElement("b",null,this.state.waktuPosttest," minutes")," time limit."),l.a.createElement("div",null,"Are you sure want to send post test to attendences ?")),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.sendPosttest.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Send Post Test"))),l.a.createElement(r.a,{show:this.state.modalKuesioner,onHide:this.closeModalKuesioner,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Feedback Form")),l.a.createElement(r.a.Body,null,this.state.waitingKuesioner&&l.a.createElement("div",null,l.a.createElement("h4",null,"Waiting..."),l.a.createElement("div",null,"Number of participants who have answered the Feedback Form = ",l.a.createElement("b",null,this.state.jawabKuesioner.length))),0==this.state.waitingKuesioner&&l.a.createElement("div",null,"Send the Feedback Form to all participants now?")),l.a.createElement(r.a.Footer,null,this.state.waitingKuesioner&&l.a.createElement("button",{className:"btn btn-icademy-warning",onClick:this.acakDoorprize.bind(this)},l.a.createElement("i",{className:"fa fa-gift"}),"Random doorprize"),0==this.state.waitingKuesioner&&l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.sendKuesioner.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),"Send Feedback Form"))),l.a.createElement(r.a,{show:this.state.modalConfirmClose,onHide:this.closeModalConfirmClose,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),l.a.createElement(r.a.Body,null,l.a.createElement("div",null,"Are you sure want to close Feedback Form ?")),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.closeModalKuesionerPeserta.bind(this)},"Close"),l.a.createElement("button",{className:"btn btn-icademy-grey",onClick:this.closeModalConfirmClose.bind(this)},"Cancel"))),l.a.createElement(r.a,{show:this.state.modalKuesionerPeserta&&(this.state.peserta.filter(e=>e.user_id==m.user_id).length>=1||this.state.tamu.filter(e=>e.voucher==m.user_id).length>=1),onHide:()=>this.setState({modalConfirmClose:!0}),dialogClassName:"modal-lg",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Submit Feedback Form")),l.a.createElement(r.a.Body,null,this.state.pertanyaan.map(e=>l.a.createElement("div",{className:"mb-3"},l.a.createElement("p",{className:"f-w-900 fc-blue",style:{lineHeight:"18px"}},e.tanya),e.a&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.a[0],onChange:this.handleJawab})," ",l.a.createElement("label",{for:"a"}," ",e.a[1])),e.b&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.b[0],onChange:this.handleJawab})," ",l.a.createElement("label",{for:"b"}," ",e.b[1])),e.c&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.c[0],onChange:this.handleJawab})," ",l.a.createElement("label",{for:"c"}," ",e.c[1])),e.d&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.d[0],onChange:this.handleJawab})," ",l.a.createElement("label",{for:"d"}," ",e.d[1])),e.e&&l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{name:e.question_id,type:"radio",value:e.e[0],onChange:this.handleJawab})," ",l.a.createElement("label",{for:"e"}," ",e.e[1]))))),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{disabled:this.state.isLoading,className:"btn btn-icademy-primary",onClick:this.kirimJawabanKuesioner.bind(this)},l.a.createElement("i",{className:"fa fa-paper-plane"}),this.state.isLoading?"Submitting...":"Submit Feedback Form"))),l.a.createElement(r.a,{show:this.state.modalDoorprize,onHide:this.closeModalDoorprize,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Doorprize winner")),l.a.createElement(r.a.Body,null,"Congratulation to : ",l.a.createElement("br",null),this.state.pemenangDoorprize.length&&this.state.pemenangDoorprize.map(e=>l.a.createElement("span",null,l.a.createElement("h3",null,e))))),l.a.createElement(r.a,{show:this.state.modalResultPretest,onHide:this.closeModalResult,dialogClassName:"modal-lg",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Pre-Test Result")),l.a.createElement(r.a.Body,null,this.state.loadingTest||"NaN"===this.state.resultPretest.nilai?l.a.createElement("div",null,"Loading..."):l.a.createElement("div",null,l.a.createElement("div",null,"Score : ",this.state.resultPretest.nilai),l.a.createElement("div",null,"Correct Answer : ",this.state.resultPretest.benar),l.a.createElement("div",null,"Wrong Answer : ",this.state.resultPretest.salah),this.state.resultPretest.list&&this.state.resultPretest.list.map((e,t)=>l.a.createElement("div",{className:"mb-3 mt-3"},l.a.createElement("span",null,"Question ",t+1),l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.pertanyaan}}),e.options.map(t=>l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{checked:e.jawaban===t.options,disabled:!0,type:"radio"})," ",l.a.createElement("label",{for:t.options,style:{backgroundColor:e.jawaban_benar===t.options?"#c6ffc6":"transparent"}}," ",t.answer)))))))),l.a.createElement(r.a,{show:this.state.modalResultPosttest,onHide:this.closeModalResult,dialogClassName:"modal-lg",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Post-Test Result")),l.a.createElement(r.a.Body,null,this.state.loadingTest||"NaN"===this.state.resultPosttest.nilai?l.a.createElement("div",null,"Loading..."):l.a.createElement("div",null,l.a.createElement("div",null,"Score : ",this.state.resultPosttest.nilai),l.a.createElement("div",null,"Correct Answer : ",this.state.resultPosttest.benar),l.a.createElement("div",null,"Wrong Answer : ",this.state.resultPosttest.salah),this.state.resultPosttest.list&&this.state.resultPosttest.list.map((e,t)=>l.a.createElement("div",{className:"mb-3 mt-3"},l.a.createElement("span",null,"Question ",t+1),l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.pertanyaan}}),e.options.map(t=>l.a.createElement("div",{style:{margin:"0px 10px"}},l.a.createElement("input",{checked:e.jawaban===t.options,disabled:!0,type:"radio"})," ",l.a.createElement("label",{for:t.options,style:{backgroundColor:e.jawaban_benar===t.options?"#c6ffc6":"transparent"}}," ",t.answer)))))))),this.state.showModalResultPostTest?l.a.createElement("div",{className:"poll-modal",style:{width:"240px"}},l.a.createElement("div",{className:"poll-header"},"Post Test Result",l.a.createElement("i",{className:"fa fa-times",style:{float:"right",cursor:"pointer"},onClick:this.closeResultPostTest.bind(this)})),l.a.createElement("div",{className:"poll-body"},l.a.createElement("div",{className:"option-box",style:{border:"none",padding:"0px",width:"100%",margin:"0px",marginBottom:"10px"}},l.a.createElement("table",{id:"table-test",className:"table table-striped",style:{marginLeft:"-10px"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Score"))),l.a.createElement("tbody",null,this.state.resultPostPreTest_AllUser.posttest.map(e=>l.a.createElement("tr",null,l.a.createElement("td",{style:{wordBreak:"break-all"}},e.name),l.a.createElement("td",null,e.value.nilai.toFixed(2))))))))):null,this.state.showModalResultPreTest?l.a.createElement("div",{className:"poll-modal",style:{width:"240px"}},l.a.createElement("div",{className:"poll-header"},"Pre Test Result",l.a.createElement("i",{className:"fa fa-times",style:{float:"right",cursor:"pointer"},onClick:this.closeResultPreTest.bind(this)})),l.a.createElement("div",{className:"poll-body"},l.a.createElement("div",{className:"option-box",style:{border:"none",padding:"0px",width:"100%",margin:"0px",marginBottom:"10px"}},l.a.createElement("table",{id:"table-test",className:"table table-striped",style:{marginLeft:"-10px"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{wordBreak:"break-all"}},"Name"),l.a.createElement("th",null,"Score"))),l.a.createElement("tbody",null,this.state.resultPostPreTest_AllUser.pretest.map(e=>l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.value.nilai.toFixed(2))))))))):null,this.state.modalSendPoll?l.a.createElement("div",{className:"poll-modal"},l.a.createElement("div",{className:"poll-header"},this.state.newPoll||this.state.setting?l.a.createElement("i",{className:"fa fa-chevron-left",style:{float:"left",cursor:"pointer",lineHeight:"18px",fontSize:"16px",marginRight:"10px"},onClick:this.backPoll.bind(this)}):null,"Polling",l.a.createElement("i",{className:"fa fa-times",style:{float:"right",cursor:"pointer"},onClick:this.closeSendPoll.bind(this)})),l.a.createElement("div",{className:"poll-body"},this.state.newPoll?null:l.a.createElement("label",null,this.state.setting?"Tick users who will receive the poll.":this.state.polling.length?"Click the poll to broadcast the question.":"You have no poll, click Add Poll to create a new one."),this.state.newPoll||this.state.setting?null:l.a.createElement("i",{className:"fa fa-cog",style:{float:"right",cursor:"pointer"},onClick:this.setting.bind(this)}),l.a.createElement("div",{className:"row"},this.state.newPoll||this.state.setting?null:this.state.polling.map(e=>l.a.createElement("span",{className:"option-box ".concat("Finish"===e.status?"selected":""),style:{width:"100%",textAlign:"left"},onClick:()=>{"Draft"!==e.status?(e.show=!e.show||!e.show,this.forceUpdate()):this.state.polling.filter(e=>"On going"===e.status).length?o.b.warning("You should finish the on going poll before start another poll"):this.setState({idPoll:e.id,newPoll:!0,hideInputPollDefault:"visible",createPoll:{tanya:e.tanya,jenis:e.jenis,a:e.a?e.a:"",b:e.b?e.b:"",c:e.c?e.c:"",d:e.d?e.d:"",e:e.e?e.e:""}})}},l.a.createElement("span",{style:{float:"left",fontSize:"11px",fontWeight:"normal"}},l.a.createElement("b",null,"No. ",e.no)),l.a.createElement("span",{style:{float:"right",fontSize:"11px",fontWeight:"normal"}},"(".concat(e.total_responden," / ").concat(this.state.peserta_count.length,") "),l.a.createElement("b",null,e.status)),l.a.createElement("br",null),l.a.createElement("div",{style:{float:"left",wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:e.tanya.length>30?"".concat(e.tanya.substring(0,255)):e.tanya}}),"On going"===e.status||e.show?l.a.createElement(l.a.Fragment,null,e.answer.map(e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("label",null,e.value),l.a.createElement("div",{className:"progress-container"},l.a.createElement("div",{className:"progress-poll"},l.a.createElement("div",{className:"bar",style:{width:"".concat(e.percent,"%")}})),l.a.createElement("div",{className:"percent"},e.percent,"%")))),l.a.createElement("span",{className:"option-box option-full",style:{float:"left",marginTop:"10px"},onClick:this.publishPoll.bind(this,e)},"Publish Poll")):null))),this.state.setting?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"checkbox",id:"checkall",checked:this.state.checkAllUsersPoll,onChange:e=>this.checkAll(e)}),"\xa0",l.a.createElement("label",{for:"checkall",style:{marginBottom:14}},"Check all"),this.state.usersPoll.map((e,t)=>l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",id:e.id,value:e.id,checked:e.checked,onChange:e=>this.handleChangeChecked(e,t)}),"\xa0",l.a.createElement("label",{for:e.id},e.name)))):null,this.state.newPoll?l.a.createElement("div",{className:"form-group icademy-rounded"},l.a.createElement("label",{className:"icademy-label icademy-label-small"},"Ask a Question"),l.a.createElement("input",{id:"myFile",type:"file",name:"myFile",style:{display:"none"},onChange:""}),l.a.createElement(d.a,{apiKey:"j18ccoizrbdzpcunfqk7dugx72d7u9kfwls7xlpxg7m21mb5",initialValue:this.state.createPoll.tanya,value:this.state.createPoll.tanya,style:{borderRadius:10},init:{height:200,menubar:!1,convert_urls:!1,image_class_list:[{title:"None",value:""},{title:"Responsive",value:"img-responsive"},{title:"Thumbnail",value:"img-responsive img-thumbnail"}],file_browser_callback_types:"image media",file_picker_callback:function(e,t,a){if("image"==a.filetype||"media"==a.filetype||"file"==a.filetype){var s=document.getElementById("myFile");s.click(),s.onchange=function(){var t=new FormData;t.append("file",this.files[0]),window.$.ajax({url:"".concat(n.a,"v2/media/upload"),type:"POST",data:t,processData:!1,contentType:!1,success:t=>{e(t.result.url),this.value=""}})}}},plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | bold italic backcolor |                           alignleft aligncenter alignright alignjustify | image media |                           bullist numlist outdent indent | removeformat | help"},onEditorChange:e=>this.handleDynamicInputPoll(e)}),l.a.createElement("div",{className:"jawaban mt-3"},l.a.createElement("label",{className:"icademy-label icademy-label-small"},"Response Type"),l.a.createElement("div",{className:"row",style:{marginLeft:"0px"}},l.a.createElement("span",{className:"option-box option-small ".concat(0===this.state.createPoll.jenis&&"selected"),onClick:this.selectType.bind(this,0)},"True / False"),l.a.createElement("span",{className:"option-box option-small ".concat(1===this.state.createPoll.jenis&&"selected"),onClick:this.selectType.bind(this,1)},"A / B / C / D")),l.a.createElement("div",{className:"row",style:{marginLeft:"0px"}},l.a.createElement("span",{className:"option-box option-small ".concat(2===this.state.createPoll.jenis&&"selected"),onClick:this.selectType.bind(this,2),style:{clear:"both"}},"Yes / No / Abstention"),l.a.createElement("span",{className:"option-box option-small ".concat(3===this.state.createPoll.jenis&&"selected"),onClick:this.selectType.bind(this,3)},"User Response"))),l.a.createElement("div",{className:"jawaban mt-3"},l.a.createElement("label",{className:"icademy-label icademy-label-small"},0===this.state.createPoll.jenis?"True / False":1===this.state.createPoll.jenis?"A / B / C / D":2===this.state.createPoll.jenis?"Yes / No / Abstention":3===this.state.createPoll.jenis?"User Response":""),null===this.state.createPoll.jenis?"":3===this.state.createPoll.jenis?l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("label",null,"Users will be presented with a text box to fill in their response.")),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("img",{src:"newasset/freetext.png"}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"text",onChange:e=>this.handleDynamicInputPoll(e),name:"a",value:this.state.createPoll.a,className:"form-control icademy-field",style:{width:"320px",fontSize:"9.8px",height:"auto",padding:"11px 14px",visibility:this.state.hideInputPollDefault}}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"text",onChange:e=>this.handleDynamicInputPoll(e),name:"b",value:this.state.createPoll.b,className:"form-control icademy-field",style:{width:"320px",fontSize:"9.8px",height:"auto",padding:"11px 14px",visibility:this.state.hideInputPollDefault}}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"text",onChange:e=>this.handleDynamicInputPoll(e),name:"c",value:this.state.createPoll.c,className:"form-control icademy-field",style:{width:"320px",fontSize:"9.8px",height:"auto",padding:"11px 14px",visibility:this.state.hideInputPollDefault}}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"text",onChange:e=>this.handleDynamicInputPoll(e),name:"d",value:this.state.createPoll.d,className:"form-control icademy-field",style:{width:"320px",fontSize:"9.8px",height:"auto",padding:"11px 14px",visibility:this.state.hideInputPollDefault}}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"text",onChange:e=>this.handleDynamicInputPoll(e),name:"e",value:this.state.createPoll.e,className:"form-control icademy-field",style:{width:"320px",fontSize:"9.8px",height:"auto",padding:"11px 14px",visibility:this.state.hideInputPollDefault}})))))):this.state.setting?null:l.a.createElement("div",{className:"col-sm-12",style:{textAlign:"center",marginTop:10}},l.a.createElement("span",{className:"icademy-label label-small",style:{cursor:"pointer"},onClick:()=>{this.state.polling.filter(e=>"On going"===e.status).length?o.b.warning("You should finish the on going poll before start another poll"):this.setState({newPoll:!0})}},l.a.createElement("i",{className:"fa fa-plus"})," Add Poll")),this.state.newPoll?l.a.createElement("button",{className:"icademy-button-full ".concat((!this.state.createPoll.tanya||null===this.state.createPoll.jenis)&&"disabled"),disabled:!this.state.createPoll.tanya||null===this.state.createPoll.jenis,onClick:this.startPoll.bind(this)},"Start Poll"):null)):null,this.state.modalAnswerPoll?l.a.createElement("div",{className:"poll-modal"},l.a.createElement("div",{className:"poll-header"},"Answer Poll",l.a.createElement("i",{className:"fa fa-times",style:{float:"right",cursor:"pointer"},onClick:this.closeAnswerPoll.bind(this)})),l.a.createElement("div",{className:"poll-body"},l.a.createElement("label",{style:{color:"rgba(0,0,0,0.85)",float:"left",wordBreak:"break-word"}},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.answerPoll.tanya}})),l.a.createElement("label",{className:"icademy-label icademy-label-small",style:{float:"left",clear:"both"}},3===this.state.answerPoll.jenis?"Fill your answer":"Choose your answer"),l.a.createElement("div",{className:"row",style:{marginLeft:"0px",float:"left",clear:"both"}},3===this.state.answerPoll.jenis?l.a.createElement("textarea",{className:"poll-freetext",placeholder:"Fill your answer...",value:this.state.pollFreetext,onChange:e=>this.setState({pollFreetext:e.target.value})}):l.a.createElement(l.a.Fragment,null,this.state.answerPoll.a&&l.a.createElement("span",{className:"option-box option-full ".concat(0===this.state.createPoll.jenis&&"selected"),onClick:this.submitPoll.bind(this,this.state.answerPoll.a)},this.state.answerPoll.a),this.state.answerPoll.b&&l.a.createElement("span",{className:"option-box option-full ".concat(0===this.state.createPoll.jenis&&"selected"),onClick:this.submitPoll.bind(this,this.state.answerPoll.b)},this.state.answerPoll.b),this.state.answerPoll.c&&l.a.createElement("span",{className:"option-box option-full ".concat(0===this.state.createPoll.jenis&&"selected"),onClick:this.submitPoll.bind(this,this.state.answerPoll.c)},this.state.answerPoll.c),this.state.answerPoll.d&&l.a.createElement("span",{className:"option-box option-full ".concat(0===this.state.createPoll.jenis&&"selected"),onClick:this.submitPoll.bind(this,this.state.answerPoll.d)},this.state.answerPoll.d),this.state.answerPoll.e&&l.a.createElement("span",{className:"option-box option-full ".concat(0===this.state.createPoll.jenis&&"selected"),onClick:this.submitPoll.bind(this,this.state.answerPoll.e)},this.state.answerPoll.e))),3===this.state.answerPoll.jenis?l.a.createElement("button",{style:{marginTop:10},className:"icademy-button-full ".concat((!this.state.pollFreetext.length||this.state.submitPoll)&&"disabled"),disabled:!this.state.pollFreetext.length||this.state.submitPoll,onClick:this.submitPoll.bind(this,this.state.pollFreetext)},this.state.submitPoll?"Submitting...":"Submit"):null)):null,this.state.modalResultPoll?l.a.createElement("div",{className:"poll-modal",style:{width:"240px"}},l.a.createElement("div",{className:"poll-header"},"Poll Result",l.a.createElement("i",{className:"fa fa-times",style:{float:"right",cursor:"pointer"},onClick:this.closeResultPoll.bind(this)})),l.a.createElement("div",{className:"poll-body"},l.a.createElement("label",{style:{color:"rgba(0,0,0,0.85)",wordBreak:"break-word"}},l.a.createElement("div",{style:{float:"left"},dangerouslySetInnerHTML:{__html:this.state.pollResult.tanya}})),l.a.createElement("div",{className:"option-box",style:{border:"none",padding:"0px",width:"100%",margin:"0px",marginBottom:"10px"}},this.state.pollResult.answer.map(e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{style:{textAlign:"left"}},e.value),l.a.createElement("div",{className:"progress-container"},l.a.createElement("div",{className:"progress-poll"},l.a.createElement("div",{className:"bar",style:{width:"".concat(e.percent,"%")}})),l.a.createElement("div",{className:"percent"},e.percent,"%"))))))):null,w.isMobile&&this.state.showOpenApps?l.a.createElement("div",{className:"floating-message"},l.a.createElement("button",{className:"floating-close",onClick:()=>this.setState({showOpenApps:!1})},l.a.createElement("i",{className:"fa fa-times"})),l.a.createElement("p",{style:{marginTop:8}},"Want to use mobile apps ?"),l.a.createElement("a",{href:w.isIOS?"https://apps.apple.com/id/app/icademy/id1546069748#?platform=iphone":"https://play.google.com/store/apps/details?id=id.app.icademy"},l.a.createElement("button",{className:"button-flat-light"},l.a.createElement("i",{className:"fa fa-download"})," Install")),l.a.createElement("a",{href:w.isIOS?a:e},l.a.createElement("button",{className:"button-flat-fill"},l.a.createElement("i",{className:"fa fa-mobile-alt"})," Open Apps"))):null)}}},467:function(e,t,a){"use strict";var s=a(0),l=a.n(s),i=a(3),r=a(1613),n=a(463),o=a(465),c=a(294),d=a(455),m=a(2),h=a(18),u=a(229),p=a(277),b=a.n(p),g=a(30),f=a(19),E=a.n(f),w=a(65),y=a.n(w),P=a(516);const _=y()("".concat(i.b));_.on("connect",()=>{});a(423);class v extends s.Component{constructor(e){super(e),this.changeFilter=e=>{this.setState({filterFile:e.target.value})},this.searchFile=e=>{e.preventDefault(),this.setState({searchFile:e.target.value})},this.closeModalRename=e=>{this.setState({modalRename:!1,renameFileName:"",renameFileId:"",renameFileNameNew:""})},this.closeModalAdd=e=>{this.setState({folderName:"",modalNewFolder:!1,aSekretaris:!0,aModerator:!0,aPembicara:!0,aOwner:!0,aPeserta:!0,limited:!1,valueUser:[]})},this.closeModalEdit=e=>{this.setState({editProjectName:"",modalEditFolder:!1,aSekretaris:!0,aModerator:!0,aPembicara:!0,aOwner:!0,aPeserta:!0,limited:!1,valueUser:[]})},this.closeModalUpload=e=>{this.setState({modalUpload:!1})},this.uploadFile=async e=>{e.preventDefault(),this.setState({uploading:!0});for(let a=0;a<=this.state.attachmentId.length-1;a++){let e=new FormData;e.append("folder",this.state.folderId),e.append("file",this.state.attachmentId[a]),e.append("created_by",m.a.get("user").data.user_id),await i.l.post("".concat(i.a,"v1/folder/files"),e).then(e=>{200===e.status&&e.data.error&&(this.setState({uploading:!1,attachmentId:[]}),h.b.error("Error : "+e.data.result))})}let t="".concat(m.a.get("user").data.user," ").concat(this.props.t("successfully_added")," ").concat(this.state.attachmentId.length," ").concat(this.state.attachmentId.length>1?"files":"file");this.sendNotifToAll(t),this.setState({modalUpload:!1,uploading:!1,attachmentId:[]}),_.emit("send",{socketAction:"newFileUploaded",folderId:this.state.folderId}),this.fetchFile(this.state.folderId)},this.onChangeInput=e=>{const t=e.target.name,a=e.target.value;"attachmentId"===t?this.setState({[t]:e.target.files}):this.setState({[t]:a})},this.renameFile=e=>{if("file"===this.state.renameMode){let e={name:this.state.renameFileNameNew};i.l.put("".concat(i.a,"v1/project-file/").concat(this.state.renameFileId),e).then(e=>{if(200===e.status)if(e.data.error)h.b.error("Failed to modify the file ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew));else{let e="".concat(m.a.get("user").data.user," change the file name ").concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew);this.sendNotifToAll(e),h.b.success("Successfully modified file ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew)),this.setState({renameFileId:"",renameFileName:"",renameFileNameNew:""}),this.fetchFile(this.state.folderId),_.emit("send",{socketAction:"newFileUploaded",folderId:this.state.folderId}),this.closeModalRename()}})}else if("mom"===this.state.renameMode){let e={title:this.state.renameFileNameNew};i.l.put("".concat(i.a,"v1/liveclass/title-mom/").concat(this.state.renameFileId),e).then(e=>{if(200===e.status)if(e.data.error)h.b.error("Failed to modify the MOM name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew));else{let e="".concat(m.a.get("user").data.user," change the MOM name ").concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew);this.sendNotifToAll(e),h.b.success("Successfully modified MOM name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew)),this.setState({renameFileId:"",renameFileName:"",renameFileNameNew:"",renameMode:""}),this.fetchMOM(this.state.folderId),this.closeModalRename()}})}else if("record"===this.state.renameMode){let e={name:this.state.renameFileNameNew,project_id:this.state.folderId};i.l.put("".concat(i.a,"v1/record/").concat(this.state.renameFileId),e).then(e=>{if(200===e.status)if(e.data.error)h.b.error("Failed to modify the record name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew));else{let e="".concat(m.a.get("user").data.user," change the record name ").concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew);this.sendNotifToAll(e),h.b.success("Successfully modified record name ".concat(this.state.renameFileName," to ").concat(this.state.renameFileNameNew)),this.setState({renameFileId:"",renameFileName:"",renameFileNameNew:"",renameMode:""}),this.fetchRekamanBBB(this.state.folderId),this.fetchRekaman(this.state.folderId),this.closeModalRename()}})}},this.saveFolder=e=>{e.preventDefault();const t={name:this.state.folderName,company:this.state.companyId,mother:this.state.folderId,aSekretaris:this.state.aSekretaris?1:0,aModerator:this.state.aModerator?1:0,aPembicara:this.state.aPembicara?1:0,aOwner:this.state.aOwner?1:0,aPeserta:this.state.aPeserta?1:0,is_limit:this.state.limited?1:0,user:this.state.valueUser,created_by:m.a.get("user").data.user_id};i.l.post("".concat(i.a,"v1/folder"),t).then(e=>{if(200===e.status)if(e.data.error)h.b.error("Error : "+e.data.result);else{let e="".concat(m.a.get("user").data.user," ").concat(this.props.t("successfully_to_added_a_new_folder_with_the_name"),' "').concat(t.name,'"');this.sendNotifToAll(e),this.closeModalAdd(),this.fetchFolder(this.state.folderId),_.emit("send",{socketAction:"newFileUploaded",folderId:this.state.folderId}),h.b.success(this.props.t("new_folder_added"))}})},this.closeModalDelete=e=>{this.setState({modalDelete:!1,deleteProjectName:"",deleteProjectId:"",alert:""})},this.closeModalDeleteFile=e=>{this.setState({modalDeleteFile:!1,deleteFileName:"",deleteFileId:"",alert:""})},this.selectFileShow=(e,t)=>{this.props.selectedFileShow&&("pdf"===e||"png"===e||"jpg"===e||"jpeg"===e||"doc"===e||"docx"===e||"xls"===e||"xlsx"===e?this.props.selectedFileShow(t):h.b.warning("Sorry, this file type not support yet to show"))},this.handleChangeFilter=e=>{this.setState({[e]:!this.state[e]})},this.state={users:[],role:[],dataUser:[],selectFolder:!1,classRooms:[],folderId:0,companyId:localStorage.getItem("companyID"),folder:[],files:[],mom:[],recordedMeeting:[],prevFolderId:0,folderName:"",modalNewFolder:!1,modalEditFolder:!1,modalUpload:!1,isUploading:!1,isLoading:!1,attachmentId:[],dataRecordings:[],editProjectName:"",editProjectId:"",modalDelete:!1,deleteProjectName:"",deleteProjectId:"",modalDeleteFile:!1,deleteFileName:"",deleteFileId:"",modalRename:!1,renameFileId:"",renameFileName:"",renameFileNameNew:"",renameMode:"",aSekretaris:!0,aModerator:!0,aPembicara:!0,aOwner:!0,aPeserta:!0,optionsUser:[],valueUser:[],limited:!1,filterFile:"",searchFile:"",filterFolder:!0,filterFiles:!0,filterMOM:!0,filterRecord:!0,gb:[]}}rename(e,t,a){this.setState({modalRename:!0,renameFileId:e,renameFileName:t,renameFileNameNew:t,renameMode:a})}toggleSwitch(e){this.setState({limited:!this.state.limited})}handleCheck(e){"sekretaris"==e?this.setState({aSekretaris:!this.state.aSekretaris}):"moderator"==e?this.setState({aModerator:!this.state.aModerator}):"pembicara"==e?this.setState({aPembicara:!this.state.aPembicara}):"owner"==e?this.setState({aOwner:!this.state.aOwner}):"peserta"==e&&this.setState({aPeserta:!this.state.aPeserta})}sendNotifToAll(e){i.l.get("".concat(i.a,"v1/user/company/").concat(m.a.get("user").data.company_id)).then(t=>{t.data.result.map(t=>{let a={user_id:t.user_id,type:6,activity_id:this.state.folderId,desc:e,dest:"".concat(i.c,"detail-project/").concat(this.props.projectId)};i.l.post("".concat(i.a,"v1/notification/broadcast"),a)})}),this.props.socket.emit("send",{companyId:m.a.get("user").data.company_id})}openModalEdit(e){i.l.get("".concat(i.a,"v1/project-read/").concat(e)).then(t=>{200===t.status&&this.setState({editProjectId:e,editProjectName:t.data.result.name,modalEditFolder:!0,aSekretaris:t.data.result.sekretaris,aModerator:t.data.result.moderator,aPembicara:t.data.result.pembicara,aOwner:t.data.result.owner,aPeserta:t.data.result.peserta,valueUser:t.data.result.user?t.data.result.user.split(",").map(Number):[],limited:0!==t.data.result.is_limit})})}editFolder(){let e={name:this.state.editProjectName,aSekretaris:this.state.aSekretaris?1:0,aModerator:this.state.aModerator?1:0,aPembicara:this.state.aPembicara?1:0,aOwner:this.state.aOwner?1:0,aPeserta:this.state.aPeserta?1:0,is_limit:this.state.limited?1:0,user:this.state.valueUser};i.l.put("".concat(i.a,"v1/project/").concat(this.state.editProjectId),e).then(e=>{if(console.log(e.data),200===e.status)if(e.data.error)h.b.error("".concat(this.props.t("failed_modify_project")," ").concat(this.state.editProjectName));else{let e="".concat(m.a.get("user").data.user," change the project name ").concat(this.state.editProjectName);this.sendNotifToAll(e),h.b.success("".concat(this.props.t("success_modify_project")," ").concat(this.state.editProjectName)),this.setState({editProjectId:"",editProjectName:""}),this.fetchFolder(this.state.folderId),this.closeModalEdit()}})}async fetchFolder(e){let t=m.a.get("user").data.user_id,a={};if(this.props.webinarId){let e=this.props.guest?"".concat(i.a,"v2/webinar/tamu/one/").concat(this.props.webinarId):"".concat(i.a,"v2/webinar/one/").concat(this.props.webinarId);await i.l.get(e).then(e=>{e.data.error&&h.b.warning("Gagal fetch API"),a={aSekretaris:e.data.result.sekretaris.filter(e=>e.user_id==t).length>=1?1:0,aModerator:e.data.result.moderator.filter(e=>e.user_id==t).length>=1?1:0,aPembicara:e.data.result.pembicara.filter(e=>e.user_id==t).length>=1?1:0,aOwner:e.data.result.owner.filter(e=>e.user_id==t).length>=1?1:0,aPeserta:e.data.result.peserta.filter(e=>e.user_id==t).length||e.data.result.tamu.filter(e=>e.voucher==this.props.voucherTamu).length?1:0}})}else a={aSekretaris:1,aModerator:1,aPembicara:1,aOwner:1,aPeserta:1};this.setState({role:a}),i.l.get("".concat(i.a,"v1/folder-by-user/").concat(this.state.companyId,"/").concat(e,"/").concat(m.a.get("user").data.user_id,"/").concat(this.props.guest?1:0),this.state.role).then(e=>{200===e.status&&this.setState({folder:e.data.result})}),i.l.get("".concat(i.a,"v1/folder/back/").concat(this.state.companyId,"/").concat(e)).then(e=>{200===e.status&&this.setState({prevFolderId:e.data.result})})}selectFolder(e,t){this.setState({isLoading:!0},()=>{this.fetchFolder(e),this.fetchFile(e),this.fetchMOM(e),this.fetchRekamanBBB(e),this.fetchRekaman(e),this.setState({selectFolder:e!=this.props.projectId,folderId:e})}),this.props.selectedFolder&&this.props.selectedFolder(e)}fetchFile(e){i.l.get("".concat(i.a,"v1/files/").concat(e)).then(e=>{200===e.status&&this.setState({files:e.data.result})})}fetchMOM(e){0==e||this.props.webinarId?this.setState({mom:[]}):i.l.get("".concat(i.a,"v1/files-mom/").concat(e)).then(e=>{200===e.status&&this.setState({mom:e.data.result})})}fetchRekaman(e){0==e||this.props.webinarId?this.setState({recordedMeeting:[],isLoading:!1}):i.l.get("".concat(i.a,"v1/files-recorded/").concat(e)).then(e=>{200===e.status&&(this.setState({recordedMeeting:e.data.result}),console.log(e.data.result,"TEST MEET"))})}fetchRekamanBBB(e){let t=m.a.get("user").data.user_id;0==e||this.props.webinarId?this.setState({dataRecordings:[],isLoading:!1}):i.l.get("".concat(i.a,"v2/bbb/record/").concat(t,"/").concat(e)).then(e=>{200===e.status&&this.setState({dataRecordings:e.data.result,isLoading:!1})})}fetchData(){let e=this.props.initialFolder?this.props.initialFolder:this.props.projectId;this.props.companyId?(this.setState({companyId:this.props.companyId}),this.selectFolder(e)):i.l.get("".concat(i.j).concat(m.a.get("user").data.email)).then(t=>{200===t.status&&(this.setState({companyId:localStorage.getItem("companyID")?localStorage.getItem("companyID"):t.data.result.company_id}),this.selectFolder(e))}),i.l.get("".concat(i.a,"v2/project/user/").concat(this.props.projectId)).then(e=>{this.setState({optionsUser:[]}),e.data.result.map(e=>{this.state.optionsUser.push({value:e.user_id,label:e.name})})})}dialogDelete(e,t){this.setState({deleteProjectId:e,deleteProjectName:t,modalDelete:!0})}dialogDeleteFile(e,t){this.setState({deleteFileId:e,deleteFileName:t,modalDeleteFile:!0})}deleteProject(){i.l.delete("".concat(i.a,"v1/project/").concat(this.state.deleteProjectId)).then(e=>{if(200===e.status)if(e.data.error)h.b.error("".concat(this.props.t("failed_delete_project")," ").concat(this.state.deleteProjectName));else{let e="".concat(m.a.get("user").data.user," deleted the ").concat(this.state.deleteProjectName," project");this.sendNotifToAll(e),h.b.success("".concat(this.props.t("success_delete_project")," ").concat(this.state.deleteProjectName)),this.setState({deleteProjectId:"",deleteProjectName:"",modalDelete:!1}),this.fetchFolder(this.state.folderId)}})}deleteFile(){i.l.delete("".concat(i.a,"v1/project-file/").concat(this.state.deleteFileId)).then(e=>{if(200===e.status)if(e.data.error)h.b.error("".concat(this.props.t("failed_delete_project")," ").concat(this.state.deleteProjectName));else{let e="".concat(m.a.get("user").data.user," deleted the file");this.sendNotifToAll(e),h.b.success("".concat(this.props.t("success_delete_project")," ").concat(this.state.deleteProjectName)),this.setState({deleteFileId:"",deleteFileName:"",modalDeleteFile:!1}),this.fetchFile(this.state.folderId)}})}filesLogs(e){let t={id:e.id,filename:e.name,folder:e.folder_id,url:e.location};i.l.post("".concat(i.a,"v1/files-logs"),t).then(e=>{console.log(e)})}componentDidMount(){this.fetchData(),_.on("broadcast",e=>{"newFileUploaded"==e.socketAction&&e.folderId===this.state.folderId&&this.selectFolder(e.folderId)}),this.props.guest?this.setState({gb:[{code:"CD_FILE_FOLDER",status:!1},{code:"R_FILES_FOLDER",status:!0},{code:"U_FILES",status:!1}]}):this.fetchCheckAccess(m.a.get("user").data.grup_name.toLowerCase(),m.a.get("user").data.company_id,m.a.get("user").data.level,["CD_FILE_FOLDER","R_FILES_FOLDER","U_FILES"])}fetchCheckAccess(e,t,a,s){i.l.get("".concat(i.a,"v2/global-settings/check-access"),{role:e,company_id:t,level:a,param:s}).then(e=>{200===e.status&&this.setState({gb:e.data.result})})}render(){const{t:e}=this.props;let t=this.state.gb.length&&this.state.gb.filter(e=>"CD_FILE_FOLDER"===e.code)[0].status,a=this.state.gb.length&&this.state.gb.filter(e=>"R_FILES_FOLDER"===e.code)[0].status,s=this.state.gb.length&&this.state.gb.filter(e=>"U_FILES"===e.code)[0].status;const p=()=>h.b.warning("Access denied"),g=this.props.access_project_admin;let{searchFile:f,folder:w,mom:y,files:P,recordedMeeting:_,dataRecordings:v}=this.state;return""!=f&&(w=w.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),P=P.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),y=y.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),_=_.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi"))),v=v.filter(e=>JSON.stringify(Object.values(e)).match(new RegExp(f,"gmi")))),l.a.createElement("div",{className:"card p-20"},l.a.createElement("span",{className:"mb-4"},l.a.createElement("strong",{className:"f-w-bold f-18 fc-skyblue "},"Files"),!1!==this.props.guest&&this.props.guest?null:l.a.createElement("button",{onClick:s?e=>this.setState({modalUpload:!0}):p,className:"btn btn-icademy-primary float-right",style:{padding:"7px 8px !important",marginLeft:14}},l.a.createElement("i",{className:"fa fa-upload"}),"Upload"),1==g?l.a.createElement("button",{onClick:t?e=>this.setState({modalNewFolder:!0}):p,className:"btn btn-icademy-primary float-right",style:{padding:"7px 8px !important"}},l.a.createElement("i",{className:"fa fa-plus"}),"Folder"):null,l.a.createElement("div",{className:"tag-filter-container"},l.a.createElement("div",{className:"tag-filter ".concat(this.state.filterFolder&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterFolder")},this.state.filterFolder?l.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):l.a.createElement("font",{style:{color:"#F00"}},"\u2715")," Folder"),l.a.createElement("div",{className:"tag-filter ".concat(this.state.filterFiles&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterFiles")},this.state.filterFiles?l.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):l.a.createElement("font",{style:{color:"#F00"}},"\u2715")," File"),l.a.createElement("div",{className:"tag-filter ".concat(this.state.filterMOM&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterMOM")},this.state.filterMOM?l.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):l.a.createElement("font",{style:{color:"#F00"}},"\u2715")," MOM"),l.a.createElement("div",{className:"tag-filter ".concat(this.state.filterRecord&&"tag-filter-selected"),onClick:this.handleChangeFilter.bind(this,"filterRecord")},this.state.filterRecord?l.a.createElement("font",{style:{color:"#0F0"}},"\u2713"):l.a.createElement("font",{style:{color:"#F00"}},"\u2715")," Record")),l.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.searchFile,style:{marginRight:10},className:"form-control float-right col-sm-3"})),l.a.createElement("div",{className:"table-responsive",style:{overflowX:"hidden",overflowY:this.props.scrollHeight?"scroll":"auto",height:this.props.scrollHeight?this.props.scrollHeight:"auto"}},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",{style:{borderBottom:"1px solid #C7C7C7"}},l.a.createElement("td",null,"Files"),[{title:"Created at",width:null,status:!0},{title:"By",width:null,status:!0},{title:"",width:null,status:!0}].map((e,t)=>l.a.createElement("td",{align:"center",width:e.width},e.title)))),0==w.length&&0==this.state.files.length&&0==this.state.mom.length&&0==this.state.recordedMeeting.length&&0==this.state.dataRecordings.length&&this.props.projectId==this.state.folderId?l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",colspan:"9"},"There is no files"))):1==this.state.isLoading?l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",colspan:"9"},"Loading..."))):a?l.a.createElement("tbody",null,0!==this.state.folderId&&this.state.selectFolder&&l.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},l.a.createElement("td",{colspan:"4",className:"fc-muted f-14 f-w-300 p-t-20",style:{cursor:"pointer"},onClick:this.selectFolder.bind(this,this.state.prevFolderId,null)},l.a.createElement("img",{src:"assets/images/component/folder-back.png",width:"32"})," \xa0Back")),w.map(e=>!(1==e.sekretaris&&e.sekretaris==this.state.role.aSekretaris||1==e.moderator&&e.moderator==this.state.role.aModerator||1==e.pembicara&&e.pembicara==this.state.role.aPembicara||1==e.owner&&e.owner==this.state.role.aOwner||1==e.peserta&&e.peserta==this.state.role.aPeserta)||"all"!==this.state.filterFile&&"folder"!==this.state.filterFile&&!0!==this.state.filterFolder?null:l.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",style:{cursor:"pointer"},onClick:this.selectFolder.bind(this,e.id,e.name)},l.a.createElement("img",{src:"assets/images/component/folder.png",width:"32"})," \xa0",e.name),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},E.a.tz(e.created_at,E.a.tz.guess(!0)).format("DD-MM-YYYY")),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},g?l.a.createElement("span",{class:"btn-group dropleft col-sm-1"},l.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),l.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.openModalEdit.bind(this,e.id)},"Edit"),t&&l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.dialogDelete.bind(this,e.id,e.name)}," Delete "))):null))),("all"===this.state.filterFile||"files"===this.state.filterFile||!0===this.state.filterFiles)&&P.map(e=>l.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20",style:{cursor:"pointer"},onClick:this.selectFileShow.bind(this,e.type,e.location)},l.a.createElement("img",{src:"png"==e.type||"pdf"==e.type||"doc"==e.type||"docx"==e.type||"ppt"==e.type||"pptx"==e.type||"rar"==e.type||"zip"==e.type||"jpg"==e.type||"csv"==e.type?"assets/images/files/".concat(e.type,".svg"):"assets/images/files/file.svg",width:"32"})," \xa0",e.name),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},E.a.tz(e.created_at,E.a.tz.guess(!0)).format("DD-MM-YYYY")),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},l.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},l.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),l.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>{this.filesLogs(e),window.open(e.location,"Downloading files")}},"Download"),g?l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.rename.bind(this,e.id,e.name,"file")}," Rename "):null,g?l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.dialogDeleteFile.bind(this,e.id,e.name)}," Delete "):null))))),("all"===this.state.filterFile||"mom"===this.state.filterFile||!0===this.state.filterMOM)&&y.map(e=>l.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},l.a.createElement("img",{src:"assets/images/files/pdf.svg",width:"32"})," \xa0MOM : ",e.title),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},E.a.tz(e.time,E.a.tz.guess(!0)).format("DD-MM-YYYY")),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},l.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},l.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),l.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},g?l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.rename.bind(this,e.id,e.title,"mom")}," Rename "):null,l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>window.open("".concat(i.c,"mom/?id=").concat(e.id),"Downloading files")},"Print PDF")))))),!1===this.state.selectFolder&&("all"===this.state.filterFile||"recorded"===this.state.filterFile||!0===this.state.filterRecord)&&_.map(e=>e.record&&e.record.split(",").map(e=>l.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},l.a.createElement("img",{src:"assets/images/files/mp4.svg",width:"32"})," \xa0Rekaman : ",e.substring(40).replace(/%2520/g," ")),l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"}),l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"}),l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},l.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},l.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),l.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>window.open(e,"Rekaman Meeting")},"Open"))))))),!1===this.state.selectFolder&&("all"===this.state.filterFile||"recorded"===this.state.filterFile||!0===this.state.filterRecord)&&v.map(e=>l.a.createElement("tr",{style:{borderBottom:"1px solid #DDDDDD"}},l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-20"},l.a.createElement("img",{src:"assets/images/files/mp4.svg",width:"32"})," \xa0Record : ",e.name," ",l.a.createElement("i",{style:{color:"#da9700",fontSize:"12px"}},"published"!==e.state?"Processing":"")),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},E()(e.date).local().format("DD-MM-YYYY HH:mm")),l.a.createElement("td",{className:"fc-muted f-12 f-w-300 p-t-20 l-h-30",align:"center"},e.creator?e.creator:"-"),l.a.createElement("td",{className:"fc-muted f-14 f-w-300 p-t-10",align:"center"},l.a.createElement("span",{class:"btn-group dropleft col-sm-1 m-t-10"},l.a.createElement("button",{style:{padding:"6px 18px",border:"none",marginBottom:0,background:"transparent"},class:"btn btn-secondary btn-sm",type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v",style:{fontSize:14,marginRight:0,color:"rgb(148 148 148)"}})),l.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu",style:{fontSize:14,padding:5,borderRadius:0}},g?l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:this.rename.bind(this,e.id,e.name,"record")}," Rename "):null,l.a.createElement("button",{style:{cursor:"pointer"},class:"dropdown-item",type:"button",onClick:t=>window.open(e.link,"Rekaman Meeting")},"Open"))))))):l.a.createElement("span",null,"access denied"))),l.a.createElement(r.a,{show:this.state.modalDeleteFile,onHide:this.closeModalDeleteFile,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),l.a.createElement(r.a.Body,null,l.a.createElement("div",null,e("are_you_sure_you_want_to_delete_file")," ",l.a.createElement("b",null,this.state.deleteFileName)," ?")),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalDeleteFile.bind(this)},e("cancel")),l.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-red",onClick:this.deleteFile.bind(this)},l.a.createElement("i",{className:"fa fa-trash"}),e("delete")))),l.a.createElement(r.a,{show:this.state.modalDelete,onHide:this.closeModalDelete,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Confirmation")),l.a.createElement(r.a.Body,null,l.a.createElement("div",null,e("are_you_sure_you_want_to_delete_project")," ",l.a.createElement("b",null,this.state.deleteProjectName)," ?")),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalDelete.bind(this)},"Cancel"),l.a.createElement("button",{className:"btn btn-icademy-primary btn-icademy-red",onClick:this.deleteProject.bind(this)},l.a.createElement("i",{className:"fa fa-trash"}),"Delete"))),l.a.createElement(r.a,{show:this.state.modalNewFolder,onHide:this.closeModalAdd,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Add Folder")),l.a.createElement(r.a.Body,null,l.a.createElement(n.a,{className:"cardku"},l.a.createElement(n.a.Body,null,l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement("div",{className:"input-group mb-4"},l.a.createElement("input",{type:"text",name:"folderName",value:this.state.folderName,className:"form-control",placeholder:"Folder Name",onChange:this.onChangeInput,required:!0})))),"pendidikan"!==m.a.get("user").data.company_type&&0!=this.state.folderId?l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement("p",null,"Hak akses role pada webinar"))),l.a.createElement(o.a,null,l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aSekretaris,checked:this.state.aSekretaris,onChange:this.handleCheck.bind(this,"sekretaris")}),l.a.createElement("label",null,"\xa0 Secretary")),l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aModerator,checked:this.state.aModerator,onChange:this.handleCheck.bind(this,"moderator")}),l.a.createElement("label",null,"\xa0 Moderator")),l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aPembicara,checked:this.state.aPembicara,onChange:this.handleCheck.bind(this,"pembicara")}),l.a.createElement("label",null,"\xa0 Speaker"))),l.a.createElement(o.a,null,l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aOwner,checked:this.state.aOwner,onChange:this.handleCheck.bind(this,"owner")}),l.a.createElement("label",null,"\xa0 Owner")),l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aPeserta,checked:this.state.aPeserta,onChange:this.handleCheck.bind(this,"peserta")}),l.a.createElement("label",null,"\xa0 Participant"))),l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement(d.a.Group,{controlId:"formJudul"},l.a.createElement(d.a.Label,{className:"f-w-bold"},"Limit Users"),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(b.a,{checked:!1,onChange:this.toggleSwitch.bind(this),checked:this.state.limited})),l.a.createElement(d.a.Text,{className:"text-muted"},this.state.limited?"Only people registered as participants can access the folder.":"Folders are open. All users can access.")))),this.state.limited&&l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement(u.MultiSelect,{id:"user",options:this.state.optionsUser,value:this.state.valueUser,onChange:e=>this.setState({valueUser:e}),mode:"tags",required:!0,enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih User",hasSelectAll:!0,selectAllLabel:"Select All"})))):null),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalAdd.bind(this)},"Cancel"),l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.saveFolder.bind(this)},l.a.createElement("i",{className:"fa fa-save"}),"Save"))))),l.a.createElement(r.a,{show:this.state.modalEditFolder,onHide:this.closeModalEdit,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Edit Folder")),l.a.createElement(r.a.Body,null,l.a.createElement(n.a,{className:"cardku"},l.a.createElement(n.a.Body,null,l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement("div",{className:"input-group mb-4"},l.a.createElement("input",{type:"text",name:"editProjectName",value:this.state.editProjectName,className:"form-control",placeholder:"Folder Name",onChange:this.onChangeInput,required:!0})))),0!=this.state.folderId?l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement("p",null,"Hak akses role pada webinar"))),l.a.createElement(o.a,null,l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aSekretaris,checked:this.state.aSekretaris,onChange:this.handleCheck.bind(this,"sekretaris")}),l.a.createElement("label",null,"\xa0 Secretary")),l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aModerator,checked:this.state.aModerator,onChange:this.handleCheck.bind(this,"moderator")}),l.a.createElement("label",null,"\xa0 Moderator")),l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aPembicara,checked:this.state.aPembicara,onChange:this.handleCheck.bind(this,"pembicara")}),l.a.createElement("label",null,"\xa0 Speaker"))),l.a.createElement(o.a,null,l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aOwner,checked:this.state.aOwner,onChange:this.handleCheck.bind(this,"owner")}),l.a.createElement("label",null,"\xa0 Owner")),l.a.createElement(c.a,{xs:"auto"},l.a.createElement("input",{type:"checkbox",value:this.state.aPeserta,checked:this.state.aPeserta,onChange:this.handleCheck.bind(this,"peserta")}),l.a.createElement("label",null,"\xa0 Participant"))),l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement(d.a.Group,{controlId:"formJudul"},l.a.createElement(d.a.Label,{className:"f-w-bold"},"Limit Users"),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(b.a,{checked:!1,onChange:this.toggleSwitch.bind(this),checked:this.state.limited})),l.a.createElement(d.a.Text,{className:"text-muted"},this.state.limited?"Only people registered as participants can access the folder.":"Folders are open. All users can access.")))),this.state.limited&&l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement(u.MultiSelect,{id:"user",options:this.state.optionsUser,value:this.state.valueUser,onChange:e=>this.setState({valueUser:e}),mode:"tags",required:!0,enableSearch:!0,resetable:!0,valuePlaceholder:"Pilih User",hasSelectAll:!0,selectAllLabel:"Select All"})))):null),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalEdit.bind(this)},"Cancel"),l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.editFolder.bind(this)},l.a.createElement("i",{className:"fa fa-save"}),"Save"))))),l.a.createElement(r.a,{show:this.state.modalRename,onHide:this.closeModalRename,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Rename File")),l.a.createElement(r.a.Body,null,l.a.createElement(n.a,{className:"cardku"},l.a.createElement(n.a.Body,null,l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement("div",{className:"input-group mb-4"},l.a.createElement("input",{type:"text",name:"renameFileNameNew",value:this.state.renameFileNameNew,className:"form-control",placeholder:"Nama File",onChange:this.onChangeInput,required:!0}))))),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalRename.bind(this)},"Cancel"),l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.renameFile.bind(this)},l.a.createElement("i",{className:"fa fa-save"}),"Save"))))),l.a.createElement(r.a,{show:this.state.modalUpload,onHide:this.closeModalUpload,centered:!0},l.a.createElement(r.a.Header,{closeButton:!0},l.a.createElement(r.a.Title,{className:"text-c-purple3 f-w-bold",style:{color:"#00478C"}},"Upload File")),l.a.createElement(r.a.Body,null,l.a.createElement(n.a,{className:"cardku"},l.a.createElement(n.a.Body,null,l.a.createElement(o.a,null,l.a.createElement(c.a,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{style:{float:"left",clear:"both"}},"Attachment"),l.a.createElement("label",{for:"attachmentId",style:{cursor:"pointer",overflow:"hidden",float:"left",clear:"both"}},l.a.createElement("div",{className:"button-bordered-grey"},this.state.attachmentId.length?"".concat(this.state.attachmentId.length," ").concat(1===this.state.attachmentId.length?"file":"files"," selected"):"Choose"),l.a.createElement("input",{accept:"all",id:"attachmentId",name:"attachmentId",onChange:this.onChangeInput,type:"file",multiple:!0,placeholder:"media chapter",className:"form-control file-upload-icademy",onClick:e=>e.target.value=null,style:{display:"none"}})),l.a.createElement(d.a.Text,{style:{float:"left",clear:"both"}},"Support multiple files (make sure all the files does not exceed 500MB)"))))))),l.a.createElement(r.a.Footer,null,l.a.createElement("button",{className:"btn btm-icademy-primary btn-icademy-grey",onClick:this.closeModalUpload.bind(this)},"Cancel"),l.a.createElement("button",{className:"btn btn-icademy-primary",onClick:this.uploadFile.bind(this)},l.a.createElement("i",{className:"fa fa-save"}),this.state.uploading?"Uploading...":"Upload"))))}}const N=Object(P.a)("common")(e=>l.a.createElement(g.a.Consumer,null,t=>l.a.createElement(v,Object.assign({},e,{socket:t}))));t.a=N}}]);
//# sourceMappingURL=16.4038381d.chunk.js.map