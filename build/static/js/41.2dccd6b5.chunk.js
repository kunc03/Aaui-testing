(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[41,142],{1357:function(e,a,t){"use strict";t.r(a);var l=t(224),n=t(21),r=t(6),i=t(11),s=t(13),o=t(12),c=t(31),m=t(14),u=t(0),d=t.n(u),p=t(3),f=t(24),b=t(38),g=t.n(b),y=(t(475),t(25)),h=t.n(y);function E(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function v(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?E(Object(t),!0).forEach((function(a){Object(n.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var N=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(s.a)(this,Object(o.a)(a).call(this,e))).dataTemplate={titleForm:"Form Registration Form",input:[{id:0,name:"Name",type:"text",mandatory:!0},{id:2,name:"Email",type:"email",mandatory:!0},{id:3,name:"Born_Date",type:"date",mandatory:!0},{id:4,name:"Gender",type:"select",mandatory:!0,option:[{id:0,labelString:"Male",labelName:"Male"},{id:1,labelString:"Female",labelName:"Female"}]}]},t.stateProps={},t.default=v({load:!0,template:t.dataTemplate,media:[],input:{},id:t.props.match.params.id,idForm:"1",titleForm:"Form Registration",nameCompany:""},t.stateProps,{isSubmit:!1,submitText:"Submit",enableRegist:!1,loading:!1,period:null,isPaidRegister:!1,isRegistrationClosed:!1}),t.state=t.default,t.deleteMedia=function(e,a,r){p.l.delete("".concat(p.a,"v2/training/registration-user/media/").concat(a.id)).then((function(a){if(a.data.error)f.b.warning("Fail to delete media");else{var i=Object(l.a)(t.state[e]);i.splice(r,1),t.setState(Object(n.a)({},e,i))}}));var i=Object(l.a)(t.state[e]);i.splice(r,1),t.setState(Object(n.a)({},e,i))},t.handleChange=function(e){var a=e.target.name;if(e.target.files.length)if(e.target.files[0].size<=5e8){t.setState({isUploading:!0});var l=t.state[a];l.isUploading=!0,t.setState(Object(n.a)({},a,l));var r=new FormData;r.append("media",e.target.files[0]);var i={onUploadProgress:function(e){var l=t.state[a];l.progressUploadMedia=Math.round(100*e.loaded/e.total),t.setState(Object(n.a)({},a,l))},headers:{}};g.a.post("".concat(p.a,"v2/training/registration-user/media"),r,i).then((function(e){if(e.data.error){f.b.warning(e.data.result);var l=t.state[a];l.progressUploadMedia=0,l.isUploading=!1,t.setState(Object(n.a)({},a,l))}else{t.state[a].push({id:e.data.result.id,name:e.data.result.name,url:e.data.result.url});var r=t.state[a];r.progressUploadMedia=0,r.isUploading=!1,t.setState(Object(n.a)({},a,r))}}))}else e.target.value=null,f.b.warning("File size cannot larger than 500MB")},t.checkTypeInput=function(e,a,l){var n=e.type.toLowerCase(),r=e.name;if(["text","date","email","number"].indexOf(n)>-1)return d.a.createElement(d.a.Fragment,null,d.a.createElement("label",{className:"form-label",for:e.name},e.name,d.a.createElement("required",null,e.mandatory?"*":"")),d.a.createElement("input",{type:n,name:a,id:l,className:"form-control form-control-lg",value:t.state[r],style:{position:"relative",width:"100%",opacity:1},onChange:function(e){return t.onChange(e,r)}}),e.subname&&d.a.createElement("small",{className:"form-text",style:{color:"#333"},for:e.subname},d.a.createElement("i",null,e.subname)));if("checkbox"===n)return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{className:"form-label",for:e.name},e.name,d.a.createElement("required",null,e.mandatory?"*":""))),e.option.map((function(r,i){return d.a.createElement("div",{className:"form-group row"},d.a.createElement("div",{className:"col-sm-1"},d.a.createElement("input",{type:n,name:a,id:l,className:"form-control",value:r.labelName,checked:r.check,style:{position:"relative",width:"100%",opacity:1,marginTop:"-2px",minHeight:20},onChange:function(a){return t.checkboxChange(a,r,e,i)}})),d.a.createElement("div",{className:"col-sm"},d.a.createElement("label",{className:"form-check-label",style:{color:"#333",marginLeft:-30,fontSize:14},for:r.labelString},r.labelName)))})),e.subname&&d.a.createElement("small",{className:"form-text",style:{color:"#333"},for:e.subname},d.a.createElement("i",null,e.subname)));if("select"===n)return d.a.createElement(d.a.Fragment,null,d.a.createElement("label",{className:"form-label",for:e.name},e.name,d.a.createElement("required",null,e.mandatory?"*":"")),d.a.createElement("select",{name:a,id:l,onChange:function(e){return t.onChange(e,r)},className:"form-control form-control-lg"},d.a.createElement("option",{value:"0"},"Select ",e.name),e.option.map((function(e){return d.a.createElement("option",{value:e.labelString,selected:a===e.labelName},e.labelName)}))),e.subname&&d.a.createElement("small",{className:"form-text",style:{color:"#333"},for:e.subname},d.a.createElement("i",null,e.subname)));if("textarea"===n){return d.a.createElement(d.a.Fragment,null,d.a.createElement("label",{className:"form-label",for:e.name},e.name,d.a.createElement("required",null,e.mandatory?"*":"")),d.a.createElement("textarea",{name:l,rows:"3",id:l,className:"form-control form-control-lg",value:t.state[r],onChange:function(e){return t.onChange(e,r)}}),e.subname&&d.a.createElement("small",{className:"form-text",style:{color:"#333"},for:e.subname},d.a.createElement("i",null,e.subname)))}return"file"===n?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"form-label"},d.a.createElement("label",{for:"media",className:"form-label"},e.name,d.a.createElement("required",null,e.mandatory?"*":""))),d.a.createElement("div",{className:"form-field-top-label",style:{marginLeft:-10}},d.a.createElement(d.a.Fragment,null,d.a.createElement("label",{for:r,className:"form-control"},d.a.createElement("div",{className:"loading-button",style:{width:t.state[r].progressUploadMedia?t.state[r].progressUploadMedia:"0%"}}),t.state[r].progressUploadMedia?null:d.a.createElement("i",{className:"fa fa-plus"}),"\xa0",t.state[r].progressUploadMedia?100===t.state[r].progressUploadMedia?"Uploaded. Processing file...":"Uploading... ".concat(t.state[r].progressUploadMedia,"%"):"Add media"),d.a.createElement("input",{type:n,id:r,name:r,className:"form-control file-upload-icademy",onChange:t.handleChange,onClick:function(e){return e.target.value=null}}),d.a.createElement("div",{className:"training-session-media"},t.state[e.name].length?t.state[e.name].map((function(a,l){var n="fa-paperclip";switch(a.type){case"PDF":n="fa-file-pdf";break;case"Word":n="fa-file-word";break;case"Excel":n="fa-file-excel";break;case"PowerPoint":n="fa-file-powerpoint";break;case"Image":n="fa-image";break;case"Video":n="fa-file-video";break;case"Audio":n="fa-file-audio";break;default:n="fa-paperclip"}return d.a.createElement("div",{className:"training-session-media-list"},d.a.createElement("a",{href:a.url,target:"_blank",style:{color:"#000"},rel:"noopener noreferrer"},d.a.createElement("i",{className:"fa ".concat(n)}),"\xa0",a.name),d.a.createElement("i",{className:"fa fa-times",onClick:t.deleteMedia.bind(Object(c.a)(t),e.name,a,l)}))})):null))),e.subname&&d.a.createElement("div",{className:"form-field-top-label",style:{marginLeft:-10}},d.a.createElement("small",{className:"form-text",style:{color:"#333"},for:e.subname},d.a.createElement("i",null,e.subname)))):"attachments"===n?d.a.createElement("div",{className:"form-field-top-label"},d.a.createElement("label",{for:"media"},e.name),d.a.createElement("div",{className:"training-session-media"},t.state[e.name].length?t.state[e.name].map((function(e,a){var t="fa-paperclip";switch(e.type){case"PDF":t="fa-file-pdf";break;case"Word":t="fa-file-word";break;case"Excel":t="fa-file-excel";break;case"PowerPoint":t="fa-file-powerpoint";break;case"Image":t="fa-image";break;case"Video":t="fa-file-video";break;case"Audio":t="fa-file-audio";break;default:t="fa-paperclip"}return d.a.createElement("div",{className:"training-session-media-list"},d.a.createElement("a",{href:e.url,target:"_blank",style:{color:"#000"},rel:"noopener noreferrer"},d.a.createElement("i",{className:"fa ".concat(t)}),"\xa0",e.name))})):null)):void 0},t.prepareDataTemplate=function(){var e={},a=t.state.template;a.input.forEach((function(t,l){var n=t.name.replace(/\s/g,"");e[n]=null,a.input[l].stateString=n})),t.setState({input:e,template:a})},t.checkboxChange=function(e,a,l,r){var i=l.option[r];i.check=!i.check;var s=l.option;t.setState(Object(n.a)({},l.name,s))},t.onChange=function(e,a){var l=Object(n.a)({},a,e.target.value);t.setState(l)},t.submitForm=function(e){for(var a={},l=!0,n=t.state.template.input,r=0;r<n.length;r++){if(!(!n[r].mandatory||t.state[n[r].name]&&t.state[n[r].name].length)){l=!1;break}a[n[r].name.toLowerCase()]=t.state[n[r].name]}if(l){var i={idTrainingCompany:t.state.id,idForm:t.state.idForm,data:JSON.stringify(a)};t.setState({isSubmit:!0}),p.l.post("".concat(p.a,"v2/training/user-registration-form"),i).then((function(e){e.data.error?(f.b.error("Error submit form : ".concat(e.data.result)),t.setState({isSubmit:!1})):(f.b.success("Successfully submit data, you will receive account information in your email when admin has activated your account."),t.getRegistrationForm(t.props.match.params.id),t.setState({loading:!1,isSubmit:!1,enableRegist:!0}),t.state.isPaidRegister&&"production"!==p.g&&(window.location.href="https://buy.stripe.com/test_3cs6pw1IraMT2wocMM"))}))}else f.b.warning("Please fill the required field")},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"initialForm",value:function(e){var a=this;e.map((function(e){"file"===e.type?a.setState(Object(n.a)({},e.name,[])):"attachments"==e.type?e.option?a.setState(Object(n.a)({},e.name,e.option)):a.setState(Object(n.a)({},e.name,[])):"checkbox"===e.type?a.setState(Object(n.a)({},e.name,e.option.map((function(e){return v({},e,{check:!1})})))):a.setState(Object(n.a)({},e.name,""))}))}},{key:"getRegistrationForm",value:function(e){var a=this;p.l.get("".concat(p.a,"v2/training/setup-registration-form/").concat(e,"?mode=public")).then((function(e){if(e.data.error)f.b.error("Error read form");else{var t=a.state.template,l=a.state.media;e.data.result.length&&(t={input:e.data.result[0].json_data?JSON.parse(e.data.result[0].json_data):[],titleForm:e.data.result[0].title||"",subtitle:e.data.result[0].subtitle||""},l=e.data.result[0].media?JSON.parse(e.data.result[0].media):[],a.setState({isRegistrationClosed:e.data.result[0].isRegistrationClosed,idForm:e.data.result[0].id,period:e.data.result[0].close_registration?h()(e.data.result[0].close_registration).format("YYYY-MM-DD"):null,isPaidRegister:"1"==e.data.result[0].is_paid})),a.initialForm(t.input),a.setState({template:t,media:l},(function(){a.forceUpdate()}))}}))}},{key:"getCompany",value:function(e){var a=this;p.l.get("".concat(p.a,"v2/training/company/read-public/").concat(e)).then((function(e){if(e.data.error)f.b.error("Error read company");else{var t=1==e.data.result.enable_registration;a.setState({load:t,enableRegist:t,loading:!1,nameCompany:e.data.result.name})}}))}},{key:"componentDidMount",value:function(){var e=this;this.getRegistrationForm(this.props.match.params.id),setTimeout((function(){e.prepareDataTemplate(),e.getCompany(e.props.match.params.id)}),1e3)}},{key:"goBack",value:function(){}},{key:"backtoHome",value:function(){window.location.replace("/")}},{key:"render",value:function(){var e=this,a=this.state.template;return d.a.createElement("section",{className:"h-100 bg-white"},this.state.isRegistrationClosed?d.a.createElement("div",{className:"container",style:{justifyContent:"center",cursor:"default",textAlign:"center"}},d.a.createElement("h4",null,"Registration Already Closed... Please Contact Administrator.")," ",d.a.createElement("br",null),d.a.createElement("h5",{style:{cursor:"pointer"},onClick:function(){return e.backtoHome()}},d.a.createElement("u",null,"Back to Homepage"))):this.state.enableRegist&&!this.state.loading?d.a.createElement("div",{className:"container",style:{display:"flex",justifyContent:"center",cursor:"default"}},d.a.createElement("div",{className:"row d-flex justify-content-center align-items-center h-100",style:{width:"100%"}},d.a.createElement("div",{className:"col",style:{marginTop:"10px"}},d.a.createElement("div",{className:"card card-registration my-4"},d.a.createElement("div",{className:"row g-0"},d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"p-md-3 text-black"},d.a.createElement("div",{className:"mb-5 form-group"},d.a.createElement("center",null,d.a.createElement("h3",{className:"text-uppercase"},this.state.template.titleForm)),d.a.createElement("div",{className:"form-field-top-label",style:{marginLeft:-10}},this.state.template.subtitle&&d.a.createElement(d.a.Fragment,null,d.a.createElement("small",{className:"form-text",style:{color:"#333",marginLeft:15},for:"subtitle"},d.a.createElement("i",null,this.state.template.subtitle)),d.a.createElement("br",null)))),d.a.createElement("div",{className:"row",style:{display:"contents"}},d.a.createElement("div",{className:"col",style:{float:"left"}},d.a.createElement("div",{className:"form-field-top-label"},d.a.createElement("label",{className:"form-label"}),d.a.createElement("input",{type:"text",name:"nameCompany",id:"nameCompany",className:"form-control form-control-lg",value:this.state.nameCompany,size:"50",style:{width:"100%",opacity:1,cursor:"none",marginLeft:-10,color:"black"},disabled:!0}),d.a.createElement("br",null)))),this.state.media.length>0?this.state.media.map((function(e,a){return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"form-input p-20"},d.a.createElement("div",{className:"training-session-media-list",style:{fontSize:10,display:"inline-block"}},d.a.createElement("img",{src:e.url,alt:e.name,style:{maxWidth:"100%"}}))))))})):null))),d.a.createElement("div",{className:"row g-0"},d.a.createElement("div",{className:"col"},d.a.createElement("hr",null))),d.a.createElement("div",{className:"row g-0"},d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"card-body p-md-3 text-black"},d.a.createElement("div",{className:"mb-2 form-group",style:{marginTop:-25,paddingBottom:20}},d.a.createElement("small",{className:"form-text",style:{color:"#333"}},d.a.createElement("i",null,"Please fill in your information"))),a.input.map((function(a){return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col mb-4"},e.checkTypeInput(a,e.state.input[a.stateString],a.stateString))))})),d.a.createElement("div",{className:"d-flex justify-content-start pt-3"},d.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",onClick:function(){return e.submitForm()},disabled:this.state.isSubmit},this.state.submitText))))))))):this.state.loading?d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-12"},d.a.createElement("div",{className:"p-20"},"Loading..."))):!this.state.load&&d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-12"},d.a.createElement("div",{className:"col-xl d-xl-block",style:{justifyContent:"center"}},d.a.createElement("center",null,d.a.createElement("img",{src:"newasset/Page_Not_Found_Icademy.png",alt:"Icademy",className:"img-fluid",style:{borderTopLeftRadius:".25rem",borderBottomLeftRadius:".25rem",width:"80%",marginTop:"1%"}}))))))}}]),a}(u.Component);a.default=N},224:function(e,a,t){"use strict";function l(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.d(a,"a",(function(){return l}))},475:function(e,a,t){"use strict";var l=t(0),n=t.n(l),r=t(77),i=t.n(r),s=function(){return(s=Object.assign||function(e){for(var a,t=1,l=arguments.length;t<l;t++)for(var n in a=arguments[t])Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e}).apply(this,arguments)};a.a=function(e){for(var a=e.url,t=e.allowFullScreen,l=e.position,r=e.display,o=e.height,c=e.width,m=e.overflow,u=e.styles,d=e.onLoad,p=e.onMouseOver,f=e.onMouseOut,b=e.scrolling,g=e.id,y=e.frameBorder,h=e.ariaHidden,E=e.sandbox,v=e.allow,N=e.className,w=e.title,O=e.ariaLabel,k=e.ariaLabelledby,j=e.name,S=e.target,x=e.loading,C=e.importance,F=e.referrerpolicy,P=e.allowpaymentrequest,M=e.src,R=i()({src:M||a,target:S||null,style:{position:l||null,display:r||"block",overflow:m||null},scrolling:b||null,allowpaymentrequest:P||null,importance:C||null,sandbox:E||null,loading:x||null,styles:u||null,name:j||null,className:N||null,referrerpolicy:F||null,title:w||null,allow:v||null,id:g||null,"aria-labelledby":k||null,"aria-hidden":h||null,"aria-label":O||null,width:c||null,height:o||null,onLoad:d||null,onMouseOver:p||null,onMouseOut:f||null}),T=Object.create(null),U=0,L=Object.keys(R);U<L.length;U++){var D=L[U];null!=R[D]&&(T[D]=R[D])}for(var _=0,A=Object.keys(T.style);_<A.length;_++){var q=A[_];null==T.style[q]&&delete T.style[q]}if(t)if("allow"in T){var I=T.allow.replace("fullscreen","");T.allow=("fullscreen "+I.trim()).trim()}else T.allow="fullscreen";return y>=0&&(T.style.hasOwnProperty("border")||(T.style.border=y)),n.a.createElement("iframe",s({},T))}}}]);
//# sourceMappingURL=41.2dccd6b5.chunk.js.map