(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[88],{106:function(e){e.exports=JSON.parse('{"event":"Acara","project":"Proyek","meeting":"Pertemuan","webinar":"Webinar","training":"Pelatihan","learning":"Pembelajaran","recently_accessed_documents":"Dokumen yang baru saja diakses","company":"Perusahaan","user":"Pengguna","notification":"Notifikasi","calendar":"Kalendar","name":"Nama","phone":"Telepon","news":"Berita","add":"Tambah","delete":"Hapus","cancel":"Batal","open":"Buka","join":"Ikut","information":"Informasi","create_new":"Buat Baru","check_now":"Cek Sekarang","meeting_room_schedule":"Jadwal Ruang Rapat","date":"Tanggal","time":"Waktu","start":"Mulai","history":"Histori","description":"Keterangan","by":"Oleh","end_hours":"Jam Akhir","starting_hours":"Jam Mulai","failed_modify_project":"Gagal mengubah proyek","success_modify_project":"Sukses mengubah proyek","failed_delete_project":"Gagal menghapus proyek","success_delete_project":"Sukses menghapus proyek","successfully_added":"berhasil menambahkan","successfully_to_added_a_new_folder_with_the_name":"berhasil menambahkan folder baru dengan nama","new_folder_added":"Folder baru ditambahkan","are_you_sure_you_want_to_delete_file":"Apakah kamu yakin akan menghapus file ini","are_you_sure_you_want_to_delete_project":"Apakah kamu yakin akan menghapus proyek ini"}')},107:function(e){e.exports=JSON.parse('{"event":"Event","project":"Project","meeting":"Meeting","webinar":"Webinar","training":"Training","learning":"Learning","recently_accessed_documents":"Recently Accessed Documents","company":"Company","user":"User","notification":"Notification","calendar":"Calendar","name":"Name","phone":"Phone","news":"News","add":"Add","delete":"Delete","cancel":"Cancel","open":"Open","join":"Join","information":"Information","create_new":"Create New","check_now":"Check Now","meeting_room_schedule":"Meeting Room Schedule","date":"Date","time":"Time","start":"Start","history":"History","description":"Description","by":"By","end_hours":"End Hours","starting_hours":"Starting Hours","failed_modify_project":"Failed to modify the project","success_modify_project":"Successfully modified project","failed_delete_project":"Failed to delete the project","success_delete_project":"Successfully delete project","successfully_added":"successfully added","successfully_to_added_a_new_folder_with_the_name":"successfully to added a new folder with the name","new_folder_added":"New folder added","are_you_sure_you_want_to_delete_file":"Are you sure you want to delete the file","are_you_sure_you_want_to_delete_project":"Are you sure you want to delete the project"}')},124:function(e,a,t){e.exports=t(178)},166:function(e,a){},177:function(e,a,t){},178:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),o=t(5),i=t.n(o),l=t(10),r=t(59),c=t(182),m=t(106),u=t(107);r.a.use(c.e).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},resources:{en:{common:u},id:{common:m}}});r.a;var d=t(8),g=t(3),p=t(2),f=t(65),h=t.n(f),b=t(19),v=t.n(b);class k extends n.Component{constructor(){super(...arguments),this.state={user:"",level:"",avatar:"/assets/images/user/avatar-1.png",notificationData:[],company:[],company_id:"",myCompanyName:"",menuAktif:"/",sideMenu:!1,sideMenuCollapse:!1,dateNow:Date.now(),logo:"",logoMulti:""},this.pilihCompany=e=>{e.preventDefault();const a=e.target.getAttribute("data-id"),t=e.target.getAttribute("data-logo"),n=e.target.getAttribute("data-name");localStorage.setItem("companyID",a),localStorage.setItem("companyName",n),localStorage.setItem("logo",t),window.location.href.search("detail-project")>-1?window.location.replace("/"):window.location.reload()},this.goTo=e=>{let a=this.state.notificationData.find(a=>a.id==e);"object"==typeof a&&g.l.get("v1/notification/read",{id:e}).then(e=>{a.destination&&(window.location=a.destination)})}}fetchCompany(){this.setState({menuAktif:window.location.pathname});let e="superadmin"==p.a.get("user").data.level?"".concat(g.a,"v1/company"):"".concat(g.a,"v1/user/assign/").concat(p.a.get("user").data.user_id);g.l.get(e).then(e=>{"superadmin"==p.a.get("user").data.level?this.setState({company:e.data.result}):this.setState({company:e.data.result.company}),this.setState({logoMulti:this.state.company.filter(e=>e.company_id==localStorage.getItem("companyID"))[0].logo});let a=p.a.get("user").data,t=this.state.company.findIndex(e=>e.company_id==a.company_id);-1==t?this.state.company.push(a):"number"!==typeof parseInt(localStorage.getItem("companyID"))&&this.state.company.pop(t),console.log(t,this.state.company,"TEST"),console.log(this.state.company,9090)}).catch((function(e){}))}mobileMenuClicked(){this.setState({sideMenu:!1})}async componentDidMount(){await g.l.get("".concat(g.j).concat(p.a.get("user").data.email)).then(e=>{if(200===e.status){e.data.error&&(localStorage.clear(),window.location.reload());let a={...p.a.get("user").data,logo:e.data.result.logo,company_id:e.data.result.company_id,company_name:e.data.result.company_name,company_type:e.data.result.company_type,grup_id:e.data.result.grup_id,grup_name:e.data.result.grup_name,user:e.data.result.name,avatar:e.data.result.avatar?e.data.result.avatar:"/assets/images/user/avatar-1.png"};p.a.set("user",{data:a}),this.setState({logo:e.data.result.logo,myCompanyName:e.data.result.company_name,company_id:e.data.result.company_id,user:e.data.result.name,role:e.data.result.grup_name,level:e.data.result.level,avatar:e.data.result.avatar?e.data.result.avatar:"/assets/images/user/avatar-1.png"}),"client"===this.state.level&&this.setState({level:"User"})}}),g.l.get("".concat(g.a,"v1/notification/unread/").concat(p.a.get("user").data.user_id)).then(e=>{this.setState({notificationData:e.data.result})}),this.fetchCompany()}render(){const{user:e,role:a,level:t,company:n}=this.state;let o=p.a.get("access"),i=p.a.get("user").data.level,r=[{iconOn:"dashboardon.png",iconOff:"dashboardoff.png",label:"Dashboard",link:"/"},{iconOn:"aktivitason.png",iconOff:"aktivitasoff.png",label:"Activity",link:"/aktivitas",access:"activity"},{iconOn:"materion.png",iconOff:"materioff.png",label:"Kursus & Materi",link:"/kursus",access:"course"},{iconOn:"diskusion.png",iconOff:"diskusioff.png",label:"Forum",link:"/forum",access:"forum"},{iconOn:"kelason.png",iconOff:"kelasoff.png",label:"Group Meeting",link:"/meeting",access:o.manage_group_meeting?"manage_group_meeting":"group_meeting"},{iconOn:"kelola-kursus-on.png",iconOff:"kelola-kursus-off.png",label:"Kelola Kursus",link:"/kursus-materi",access:"manage_course"},{iconOn:"profileon.png",iconOff:"profileoff.png",label:"Profile",link:"/profile"},{iconOn:"pengaturanon.png",iconOff:"pengaturanoff.png",label:"Settings",link:"/pengaturan"}],c=[{iconOn:"dashboardon.png",iconOff:"dashboardoff.png",label:"Dashboard",link:"/"},{iconOn:"aktivitason.png",iconOff:"aktivitasoff.png",label:"Activity",link:"/aktivitas"},{iconOn:"files-on.png",iconOff:"files-off.png",label:"Files",link:"/files"},{iconOn:"mycompanyon.png",iconOff:"mycompanyoff.png",label:"My Company",link:"/my-company"},{iconOn:"materion.png",iconOff:"materioff.png",label:"Kursus & Materi",link:"/kursus"},{iconOn:"kelason.png",iconOff:"kelasoff.png",label:"Group Meeting",link:"/meeting"},{iconOn:"kelola-kursus-on.png",iconOff:"kelola-kursus-off.png",label:"Kelola Kursus",link:"/kursus-materi"},{iconOn:"userson.png",iconOff:"usersoff.png",label:"Users",link:"/user-company"},{iconOn:"profileon.png",iconOff:"profileoff.png",label:"Profile",link:"/profile"},{iconOn:"pengaturanon.png",iconOff:"pengaturanoff.png",label:"Settings",link:"/pengaturan"}],m=[{iconOn:"dashboardon.png",iconOff:"dashboardoff.png",label:"Dashboard",link:"/"},{iconOn:"aktivitason.png",iconOff:"aktivitasoff.png",label:"Activity",link:"/aktivitas"},{iconOn:"files-on.png",iconOff:"files-off.png",label:"Files",link:"/files"},{iconOn:"materion.png",iconOff:"materioff.png",label:"Kursus & Materi",link:"/kursus"},{iconOn:"foron.png",iconOff:"foroff.png",label:"Forum",link:"/forum"},{iconOn:"kelason.png",iconOff:"kelasoff.png",label:"Group Meeting",link:"/meeting"},{iconOn:"kelola-kursus-on.png",iconOff:"kelola-kursus-off.png",label:"Kelola Kursus",link:"/kursus-materi"},{iconOn:"kelola-kursus-on.png",iconOff:"kelola-kursus-off.png",label:"Manage Certificates",link:"/certificate-admin"},{iconOn:"kelola-kursus-on.png",iconOff:"kelola-kursus-off.png",label:"Certificate",link:"/certificate"},{iconOn:"companyon.png",iconOff:"companyoff.png",label:"Company",link:"/company"},{iconOn:"userson.png",iconOff:"usersoff.png",label:"Users",link:"/user"},{iconOn:"profileon.png",iconOff:"profileoff.png",label:"Profile",link:"/profile"},{iconOn:"pengaturanon.png",iconOff:"pengaturanoff.png",label:"Settings",link:"/pengaturan"}];const{menuAktif:u}=this.state;let d=[];return d="superadmin"===i?m:"admin"===i?c:r,s.a.createElement("header",{className:"navbar pcoded-header navbar-expand-lg navbar-light",style:{marginBottom:-1,background:"#FFF"}},s.a.createElement("div",{className:"m-header"},s.a.createElement("a",{className:"mobile-menu",id:"mobile-collapse",href:"javascript:",onClick:e=>{this.setState({sideMenu:"on"===e.currentTarget.className.split(" ")[1]})}},s.a.createElement("span",null)),s.a.createElement("a",{href:"/",className:"b-brand"},s.a.createElement("div",{className:"b-bg"},s.a.createElement("img",{src:"assets/images/component/logo-mobile.png",className:"logo-sidebar",style:{maxHeight:35},alt:""})),s.a.createElement("span",{className:"b-title"},"ICADEMY"))),s.a.createElement("a",{className:"mobile-menu",id:"mobile-header",href:"javascript:"},s.a.createElement("i",{className:"feather icon-more-horizontal"})),s.a.createElement("div",{className:this.state.sideMenu?"collapse navbar-collapse side-mobile-custom":"hidden",style:{width:"100%"}},s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement("div",null,d.map((e,a)=>{if(void 0==e.access||o[e.access])return s.a.createElement("li",{"data-username":"Sample Page",className:"nav-item mt-4 ".concat(u===e.link?"active":"")},s.a.createElement(l.b,{to:e.link,className:"nav-link",onClick:this.mobileMenuClicked.bind(this)},s.a.createElement("span",{className:"pcoded-micon"},s.a.createElement("img",{src:"assets/images/component/".concat(u===e.link?e.iconOn:e.iconOff),alt:""})),s.a.createElement("span",{className:"pcoded-mtext f-16 f-w-bold",style:{color:"".concat(u==e.link?"#fff":"#945A86")}},"\xa0",e.label)))}),s.a.createElement("li",{"data-username":"Sample Page",className:"nav-item mt-4"},s.a.createElement(l.b,{to:"/logout",className:"nav-link",style:{marginBottom:"8px"}},s.a.createElement("span",{className:"pcoded-micon"},s.a.createElement("img",{src:"assets/images/component/Icon Logout.png",style:{paddingLeft:"3px"},alt:""})),s.a.createElement("span",{className:"pcoded-mtext f-16 f-w-bold",style:{color:"#945A86"}},"\xa0Logout")))))),s.a.createElement("div",{className:"collapse navbar-collapse"},s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement(l.b,{to:"/pengaturan"},s.a.createElement("div",{className:"media"},s.a.createElement("img",{alt:"Media",className:"img-radius",style:{width:40,height:40},src:this.state.avatar}),s.a.createElement("div",{className:"media-body mt-1 ml-1"},s.a.createElement("h6",{className:"chat-header f-w-900"},e,s.a.createElement("small",{className:"d-block  mt-2 text-c-grey",style:{textTransform:"capitalize"}},a))))))),s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("span",{className:"fc-muted"},v()().local().format("DD MMMM YYYY")," (GMT",v()(this.state.dateNow).local().format("Z")," ",v.a.tz.guess(!0),")")),s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("div",{className:"media"},s.a.createElement("img",{alt:"Media",style:{height:26},alt:"",src:localStorage.getItem("companyID")?this.state.logoMulti:this.state.logo})))),s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",null,s.a.createElement("div",{className:"dropdown"},s.a.createElement("a",{href:"javascript:;","data-toggle":"dropdown"},s.a.createElement("img",{src:"newasset/company.svg",alt:"",width:25})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right notification"},s.a.createElement("div",{className:"noti-head"},s.a.createElement("h6",{className:"d-inline-block m-b-0"},s.a.createElement("b",null,this.state.company.length>0?"Select Company":"Not multiple company"))),s.a.createElement("ul",{className:"noti-body",style:{maxHeight:400,overflowY:"scroll",overflowX:"hidden"}},n.map((e,a)=>s.a.createElement("li",{className:"notification",style:{cursor:"pointer"},onClick:this.pilihCompany,"data-id":e.company_id,"data-logo":e.logo,"data-name":e.company_name},s.a.createElement("div",{className:"media","data-id":e.company_id,"data-logo":e.logo,"data-name":e.company_name},s.a.createElement("img",{"data-id":e.company_id,"data-logo":e.logo,"data-name":e.company_name,className:"img-radius",src:e.logo,alt:""}),s.a.createElement("div",{className:"media-body","data-id":e.company_id,"data-logo":e.logo,"data-name":e.company_name},s.a.createElement("p",{"data-id":e.company_id,"data-logo":e.logo,"data-name":e.company_name},s.a.createElement("b",{"data-id":e.company_id,"data-logo":e.logo,"data-name":e.company_name},e.company_name),s.a.createElement("span",{style:{color:e.company_id==localStorage.getItem("companyID")?"green":"red",float:"right"}},e.company_id==localStorage.getItem("companyID")?"Active":null)))))))))))))}}var y=k,O=t(204),E=t(30),w=t(18);const N=e=>{let{id:a,desc:t,socket:n,startTimer:o}=e;const i=(e,a)=>{console.log(e,a),o(60*a)};return s.a.createElement("div",null,t,s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("label",null,"Snooze\xa0"),s.a.createElement("button",{style:{marginTop:"8px",cursor:"pointer"},onClick:e=>i({id:a,desc:t},10)},"10 Minutes"),s.a.createElement("button",{style:{marginTop:"8px",cursor:"pointer"},onClick:e=>i({id:a,desc:t},30)},"30 Minutes"),s.a.createElement("button",{style:{marginTop:"8px",cursor:"pointer",float:"right"},onClick:e=>(e=>{g.l.put("".concat(g.a,"v1/notification/read"),{id:e}).then(e=>{e.data.error&&console.log("Gagal read"),n.emit("send",{companyId:p.a.get("user").data.company_id})})})(a)},"Dismiss")))};class _ extends n.Component{constructor(e){super(e),this.state={menuAktif:"/",sideMenu:!0,sideMenuCollapse:!1,companyName:"",notifUnread:0,time:{},seconds:10},this.waktu=10,this.timer=0,this.startTimer=this.startTimer.bind(this),this.countDown=this.countDown.bind(this)}secondsToTime(e){let a=e%3600,t=a%60;return{h:Math.floor(e/3600),m:Math.floor(a/60),s:Math.ceil(t)}}startTimer(e){this.waktu=e,this.timer=0,0===this.timer&&this.waktu>0&&(this.timer=setInterval(this.countDown,1e3))}countDown(){let e=this.waktu-1;this.setState({time:this.secondsToTime(e),seconds:e}),this.waktu=e,0===e&&(Object(w.b)(s.a.createElement(N,{id:0,desc:"adsfasdf",socket:this.props.socket,startTimer:this.startTimer}),{autoClose:!1,type:w.b.TYPE.INFO}),clearInterval(this.timer))}componentDidMount(){g.l.get("".concat(g.j).concat(p.a.get("user").data.email)).then(e=>{this.setState({companyName:e.data.result.company_name})}),this.setState({menuAktif:window.location.pathname}),this.fetchNotif(),this.fetchReminder();let e=this.secondsToTime(this.state.seconds);this.setState({time:e}),this.props.socket.on("broadcast",e=>{console.log("broadcast sidebar ",e),e.companyId===p.a.get("user").data.company_id&&this.fetchNotif()})}fetchReminder(){g.l.get("".concat(g.a,"v1/notification/all/").concat(p.a.get("user").data.user_id)).then(e=>{let a=v()(new Date).format("YYYY-MM-DD");e.data.result[0].filter(e=>0===e.isread&&2===e.tag).filter(e=>e.created_at.substring(0,10)===a).map((e,a)=>{v()().format("LLL")===v()(e.created_at).format("LLL")&&Object(w.b)(s.a.createElement(N,{id:e.id,desc:e.description,socket:this.props.socket,startTimer:this.startTimer}),{autoClose:!1,type:w.b.TYPE.INFO})})})}fetchNotif(){g.l.get("".concat(g.a,"v1/notification/unread/").concat(p.a.get("user").data.user_id)).then(e=>{e.data.error&&console.log("Gagal fetch unread"),this.setState({notifUnread:e.data.result[0].length})})}render(){let e=p.a.get("access"),a=p.a.get("user").data.level,t=(p.a.get("user").data.grup_name,p.a.get("user").data.company_type),n={murid:{submenu:[{iconOn:"info-on.svg",iconOff:"ujianoff.svg",label:"My Class",link:"/murid/kelas"},{iconOn:"matapelajaranon.svg",iconOff:"graduate.svg",label:"Subjects",link:"/murid/mata-pelajaran"},{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Task",link:"/murid/tugas"},{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Quiz",link:"/murid/kuis"},{iconOn:"info-on.svg",iconOff:"ujianoff.svg",label:"Exam",link:"/murid/ujian"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Report/Raport",link:"/rapor"},{iconOn:"logout.svg",iconOff:"logout.svg",label:"Logout",link:"/logout"}]},guru:{submenu:[{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Meeting Sekolah",link:"/meeting"},{iconOn:"info-on.svg",iconOff:"info.svg",label:"Jadwal Mengajar",link:"/jadwal-mengajar"},{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Laporan Murid",link:"/guru-laporan/ratakelas"},{iconOn:"matapelajaranon.svg",iconOff:"graduate.svg",label:"Courses",link:"/guru-info/kursus"},{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Exercise & Exam",link:"/guru-info/ujian"},{iconOn:"info-on.svg",iconOff:"info.svg",label:"Class Information",link:"/guru-info/informasi-kelas"},{iconOn:"instructor-on.svg",iconOff:"instructor.svg",label:"KPI Teacher",link:"/guru-info/kpi"},{iconOn:"logout.svg",iconOff:"logout.svg",label:"Logout",link:"/logout"}]},parents:{submenu:[{iconOn:"matapelajaranon.svg",iconOff:"graduate.svg",label:"Student Learning",link:"/parent-learning"},{iconOn:"matapelajaranon.svg",iconOff:"graduate.svg",label:"Curriculum",link:"/parent-curriculum"},{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Syllabus",link:"/parent-syllabus"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Report/Raport",link:"/parent-rapor"},{iconOn:"logout.svg",iconOff:"logout.svg",label:"Logout",link:"/logout"}]},principal:{submenu:[{iconOn:"kursus.svg",iconOff:"kursus.svg",label:"Dashboard",link:"/"},{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Meeting Sekolah",link:"/meeting"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Kurikulum",link:"/principal-pelajaran"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Laporan Kelas",link:"/principal-rapor"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Laporan Murid",link:"/principal-rapor-murid"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Kinerja Guru",link:"/principal-kinerja"},{iconOn:"logout.svg",iconOff:"logout.svg",label:"Logout",link:"/logout"}]},management:{submenu:[{iconOn:"kursus.svg",iconOff:"kursus.svg",label:"Dashboard",link:"/"},{iconOn:"tugason.svg",iconOff:"tugasoff.svg",label:"Meeting Sekolah",link:"/meeting"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Kurikulum",link:"/management-kurikulum"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Laporan Kelas",link:"/management-rapor"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Laporan Murid",link:"/management-rapor-murid"},{iconOn:"laporanraporon.svg",iconOff:"laporanraporoff.svg",label:"Kinerja Guru",link:"/management-kinerja"},{iconOn:"logout.svg",iconOff:"logout.svg",label:"Logout",link:"/logout"}]},other:{submenu:[{iconOn:"news-sidebar.svg",iconOff:"news-sidebar.svg",label:"News",link:"/news"},{iconOn:"files.svg",iconOff:"files.svg",label:"Project",link:"/project"},{iconOn:"materi.svg",iconOff:"materi.svg",label:"User's Task Report",link:"/gantt/report"},{iconOn:"logout-sidebar.svg",iconOff:"logout-sidebar.svg",label:"Logout",link:"/logout"}]},menuAtas:[{iconOn:"notification.svg",iconOff:"notification.svg",label:"Notification",link:"/notification",isBadge:!0},{iconOn:"mail-2.svg",iconOff:"mail-2.svg",label:"Announcement",link:"/pengumuman"}],menuBawah:[{iconOn:"dashboard-on.svg",iconOff:"dashboard.svg",label:"Dashboard",link:"/"},{iconOn:"ptcon.svg",iconOff:"ptcoff.svg",label:"PTC",link:"/ptc"},{iconOn:"setting-on.svg",iconOff:"setting.svg",label:"Settings",link:"/pengaturan"},{iconOn:"bantuan-on.svg",iconOff:"bantuan-off.svg",label:"Support",link:"/bantuan"}],submenuTraining:[{iconOn:"news-sidebar.svg",iconOff:"news-sidebar.svg",label:"News",link:"/news"},{iconOn:"kursus.svg",iconOff:"kursus.svg",label:"Training",link:"/training/plan-user"},{iconOn:"tugasoff.svg",iconOff:"tugasoff.svg",label:"Calendar",link:"/calendar"},{iconOn:"logout.svg",iconOff:"logout.svg",label:"Logout",link:"/logout"}],menuAtasTraining:[{iconOn:"notification.svg",iconOff:"notification.svg",label:"Notification",link:"/notification",isBadge:!0}],menuBawahTraining:[{iconOn:"dashboard-on.svg",iconOff:"dashboard.svg",label:"Dashboard",link:"/"},{iconOn:"setting-on.svg",iconOff:"setting.svg",label:"Settings",link:"/pengaturan"},{iconOn:"bantuan-on.svg",iconOff:"bantuan-off.svg",label:"Support",link:"/bantuan"}]},o={submenu:[{iconOn:"news-sidebar.svg",iconOff:"news-sidebar.svg",label:"News",link:"/news"},{iconOn:"files.svg",iconOff:"files.svg",label:"Project",link:"/project"},{iconOn:"materi.svg",iconOff:"materi.svg",label:"User's Task Report",link:"/gantt/report"},{iconOn:"company-sidebar.svg",iconOff:"company-sidebar.svg",label:"My Company",link:"/my-company"},{iconOn:"user-sidebar.svg",iconOff:"user-sidebar.svg",label:"Users",link:"/user-company"},{iconOn:"logout-sidebar.svg",iconOff:"logout-sidebar.svg",label:"Logout",link:"/logout"}],submenuPendidikan:[{iconOn:"conference.svg",iconOff:"conference.svg",label:"My Company",link:"/my-company"},{iconOn:"conference.svg",iconOff:"conference.svg",label:"Users",link:"/user-company"},{iconOn:"kursus.svg",iconOff:"kursus.svg",label:"Classes",link:"/learning/registrasi"},{iconOn:"materi.svg",iconOff:"materi.svg",label:"Lessons",link:"/learning/daftar-pelajaran"},{iconOn:"forum.svg",iconOff:"forum.svg",label:"Room",link:"/learning/ruangan-mengajar"},{iconOn:"conference.svg",iconOff:"conference.svg",label:"Schedule",link:"/learning/jadwal-mengajar"},{iconOn:"kursus.svg",iconOff:"kursus.svg",label:"Personnel",link:"/learning/personalia"},{iconOn:"sertifikat.svg",iconOff:"sertifikat.svg",label:"Preference",link:"/learning/kpi"},{iconOn:"sertifikat.svg",iconOff:"sertifikat.svg",label:"Report",link:"/learning/laporan"},{iconOn:"logout.svg",iconOff:"logout.svg",label:"Logout",link:"/logout"}],menuAtas:[{iconOn:"notification.svg",iconOff:"notification.svg",label:"Notification",link:"/notification",isBadge:!0},{iconOn:"mail-2.svg",iconOff:"mail-2.svg",label:"Announcement",link:"/pengumuman"}],menuBawah:[{iconOn:"dashboard-on.svg",iconOff:"dashboard.svg",label:"Dashboard",link:"/"},{iconOn:"ptcon.svg",iconOff:"ptcoff.svg",label:"PTC",link:"/ptc"},{iconOn:"setting-on.svg",iconOff:"setting.svg",label:"Settings",link:"/pengaturan"},{iconOn:"bantuan-on.svg",iconOff:"bantuan-off.svg",label:"Support",link:"/bantuan"}]},i={submenu:[{iconOn:"news-sidebar.svg",iconOff:"news-sidebar.svg",label:"News",link:"/news"},{iconOn:"files.svg",iconOff:"files.svg",label:"Project",link:"/project"},{iconOn:"info.svg",iconOff:"info.svg",label:"User's Task Report",link:"/gantt/report"},{iconOn:"company-sidebar.svg",iconOff:"company-sidebar.svg",label:"Company",link:"/company"},{iconOn:"company-sidebar.svg",iconOff:"company-sidebar.svg",label:"My Company",link:"/my-company"},{iconOn:"user-sidebar.svg",iconOff:"user-sidebar.svg",label:"Users",link:"/user"},{iconOn:"logout-sidebar.svg",iconOff:"logout-sidebar.svg",label:"Logout",link:"/logout"}],menuAtas:[{iconOn:"notification.svg",iconOff:"notification.svg",label:"Notification",link:"/notification",isBadge:!0},{iconOn:"mail-2.svg",iconOff:"mail-2.svg",label:"Announcement",link:"/pengumuman"}],menuBawah:[{iconOn:"dashboard-on.svg",iconOff:"dashboard.svg",label:"Dashboard",link:"/"},{iconOn:"ptcon.svg",iconOff:"ptcoff.svg",label:"PTC",link:"/ptc"},{iconOn:"setting-on.svg",iconOff:"setting.svg",label:"Settings",link:"/pengaturan"},{iconOn:"bantuan-on.svg",iconOff:"bantuan-off.svg",label:"Support",link:"/bantuan"}]};const{menuAktif:r}=this.state;let c=[],m=[],u=[],d=[],g=[],f=[],h=[];if("perusahaan"===t?(d=i.menuAtas.filter(e=>"/pengumuman"!=e.link),g=i.menuBawah.filter(e=>"/ptc"!=e.link),f=o.menuAtas.filter(e=>"/pengumuman"!=e.link),h=o.menuBawah.filter(e=>"/ptc"!=e.link)):(d=i.menuAtas,g=i.menuBawah,f=o.menuAtas,h=o.menuBawah),"superadmin"===a)c=i.submenu,m=d,u=g;else if("admin"===a)c="pendidikan"===t?o.submenuPendidikan:o.submenu,m=f,u=h;else{let e=p.a.get("user").data.grup_name?p.a.get("user").data.grup_name.toString().toLowerCase():"";"guru"===e||"murid"===e||"parents"===e||"principal"===e||"management"===e?(c=n[e].submenu,m=n.menuAtas,u=n.menuBawah):"user training"===e||"admin training"===e?(c=n.submenuTraining,m=n.menuAtasTraining,u=n.menuBawahTraining):(c=n.other.submenu,m=n.menuAtas,u=n.menuBawah)}return s.a.createElement("nav",{className:"pcoded-navbar navbar-collapsed"}," ",s.a.createElement("div",{className:"navbar-wrapper",style:{borderTopRightRadius:"60px"}},s.a.createElement("div",{className:"navbar-brand header-logo"},s.a.createElement(l.b,{to:"/",className:"b-brand",style:{width:"100%"}},s.a.createElement("img",{src:"assets/images/component/".concat(this.state.sideMenu?"logo-mobile-2.png":"Logo Ideku.png"),alt:"",style:{width:"100%",height:"auto",paddingLeft:"5%"}}))),s.a.createElement("div",{className:"navbar-content",style:{background:"none"}},s.a.createElement("ul",{className:"nav pcoded-inner-navbar"},s.a.createElement("li",{id:"mobile-collapse","data-username":"Sample Page",className:"nav-item",style:this.state.sideMenu?{width:59,cursor:"pointer"}:{marginTop:12,cursor:"pointer"}},s.a.createElement(O.a,{title:"Menu",arrow:!0,placement:"right"},s.a.createElement("div",{className:"nav-link",style:this.state.sideMenu?{padding:"7px 0px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}:{padding:"7px 20px"}},s.a.createElement("span",{className:"pcoded-micon",style:this.state.sideMenu?{marginRight:0,padding:0,width:"auto"}:null},s.a.createElement("img",{src:"newasset/burger-menu.svg",alt:"",width:25}))))),m.map((a,t)=>{if(void 0==a.access||e[a.access])return s.a.createElement("li",{"data-username":"Sample Page",className:"nav-item",style:this.state.sideMenu?{width:59,cursor:"pointer"}:{marginTop:12,cursor:"pointer"}},s.a.createElement(O.a,{title:a.label,arrow:!0,placement:"right"},s.a.createElement(l.b,{className:"nav-link",to:a.link,style:this.state.sideMenu?{marginTop:18,padding:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"auto"}:{padding:"7px 20px"}},s.a.createElement("span",{className:"pcoded-micon",style:this.state.sideMenu?{marginRight:0}:null},s.a.createElement("img",{src:"newasset/".concat(r===a.link?a.iconOn:a.iconOff),alt:"",width:25})),this.state.notifUnread&&a.hasOwnProperty("isBadge")?s.a.createElement("span",{className:"badge-notif",style:this.state.notifUnread>9?{padding:"1px 3px"}:{padding:"1px 6px"}},this.state.notifUnread):"")))})),s.a.createElement("ul",{className:"nav pcoded-inner-navbar",style:{position:"fixed",bottom:35}},u.map((a,t)=>{if(void 0==a.access||e[a.access])return s.a.createElement("li",{"data-username":"Sample Page",className:"nav-item ",style:this.state.sideMenu?{width:59}:{marginTop:25}},s.a.createElement(O.a,{title:a.label,arrow:!0,placement:"right"},s.a.createElement(l.b,{to:a.link,className:"nav-link",style:this.state.sideMenu?{padding:"7px 0px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}:{padding:"7px 20px"}},s.a.createElement("span",{className:"pcoded-micon",style:this.state.sideMenu?{marginRight:0}:null},s.a.createElement("img",{src:"newasset/".concat(r===a.link?a.iconOn:a.iconOff),alt:"",width:25})))))})))),s.a.createElement("div",{className:"custom-side-bar"},s.a.createElement("h6",{className:"p-20 mt-5",style:{textAlign:"center"}},s.a.createElement("strong",null,localStorage.getItem("companyName")?localStorage.getItem("companyName"):this.state.companyName)),s.a.createElement("div",null,c.map((a,t)=>{if(void 0==a.access||e[a.access])return s.a.createElement("div",null,"News"===a.label&&s.a.createElement("div",{className:"side-submenu-groupname"},"MENU"),"Logout"===a.label&&s.a.createElement("div",{className:"side-submenu-groupname"},"SESSION"),"My Company"===a.label&&s.a.createElement("div",{className:"side-submenu-groupname"},localStorage.getItem("companyName")?localStorage.getItem("companyName").toUpperCase():this.state.companyName.toUpperCase()),s.a.createElement(l.b,{to:a.link,style:{color:"#797979"}},s.a.createElement("div",{className:"side-submenu"},s.a.createElement("img",{src:"newasset/".concat(r===a.link?a.iconOn:a.iconOff),style:{marginRight:15},alt:"",height:15,width:15}),a.label)))}))))}}var S=e=>s.a.createElement(E.a.Consumer,null,a=>s.a.createElement(_,Object.assign({},e,{socket:a})));class C extends n.Component{render(){return s.a.createElement("div",{class:"loader-bg"},s.a.createElement("div",{class:"loader-track"},s.a.createElement("div",{class:"loader-fill"})))}}var P=C,x=t(203),M=t(32),T=t.n(M);class j extends n.Component{constructor(){super(...arguments),this.state={email:"",password:"",toggle_alert:!1,isVoucher:!1,voucher:"",alertMessage:"",tabIndex:1,showPass:!1,showResendPass:!1,showNewPass:!1,showResetSuccess:!1,showResetFailed:!1,loading:!1,idUser:null,otp:"",minutes:5,seconds:0,newPass:"",newPass2:"",enableResend:!1,alert:"",success:""},this.toMMSS=e=>{var a=parseInt(e/1e3%60),t=parseInt(e/6e4%60),n=parseInt(e/36e5%24);return n=n<10?"0"+n:n,(t=t<10?"0"+t:t)+":"+(a=a<10?"0"+a:a)},this.kirimEMail=e=>{this.setState({loading:!0}),g.l.get("".concat(g.a,"v1/user/forgot-password/").concat(this.state.email)).then(e=>{200!==e.status||e.data.error?this.setState({alert:e.data.result}):(this.setState({showResendPass:!0,idUser:e.data.result.id}),this.clearAlert()),this.setState({loading:!1})})},this.submitResetPass=e=>{""===this.state.newPass||""===this.state.newPass2?this.setState({alert:"Password cannot be empty"}):this.state.newPass!==this.state.newPass2?this.setState({alert:"Confirm the password you entered is different "}):g.l.get("".concat(g.a,"v1/user/reset-password/").concat(this.state.idUser,"/").concat(this.state.otp,"/").concat(this.state.newPass,"/").concat(this.state.newPass2,"/").concat((new Date).getTime())).then(e=>{200===e.status&&(e.data.error?this.setState({alert:e.data.result,showNewPass:!1,showResetFailed:!0}):this.setState({success:e.data.result,showNewPass:!1,showResetSuccess:!0}))})},this.saveOTP=e=>{""===this.state.otp?this.setState({alert:"The OTP code cannot be empty"}):(this.setState({showNewPass:!0,showResendPass:!1}),this.clearAlert())}}onChange(e,a){const t=this.state;t[e]=a.target.value,this.setState(t)}lupaPassword(){this.setState({showResendPass:!1})}componentDidMount(){this.timer=setInterval(()=>{const{seconds:e,minutes:a}=this.state;e>0&&this.setState(e=>{let{seconds:a}=e;return{seconds:a-1}}),0===e&&(0===a?(clearInterval(this.timer),this.setState({enableResend:!0})):this.setState(e=>{let{minutes:a}=e;return{minutes:a-1,seconds:59}}))},1e3),this.props.id&&this.props.otp&&this.setState({idUser:this.props.id,otp:this.props.otp,showNewPass:!0})}clearAlert(){this.setState({alert:"",success:""})}render(){const{showResendPass:e,showNewPass:a,showResetSuccess:t,showResetFailed:n}=this.state,{minutes:o,seconds:i}=this.state;return s.a.createElement("div",{style:{background:"#fff",margin:0}},s.a.createElement("div",{className:e?"row":"hidden"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("img",{src:"newasset/resend.svg",alt:""})),s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("p",{className:"fs-24"},s.a.createElement("b",{style:{color:"#00478C"}},"Kami telah mengirimkan Link dan kode OTP ke email Anda")),s.a.createElement("p",{className:"fs-16"},s.a.createElement("b",null,"Silahkan periksa email Anda untuk proses selanjutnya"))),s.a.createElement("div",{className:"col-sm-12"},""==this.state.alert?null:s.a.createElement("div",{style:{color:"#F00",marginBottom:20}},this.state.alert),""==this.state.success?null:s.a.createElement("div",{style:{color:"#049404",marginBottom:20}},this.state.success),s.a.createElement("div",{style:{padding:"0px 20px"}},s.a.createElement("b",{style:{float:"left",color:"black"}},"Kode OTP"),s.a.createElement("div",{className:"input-group mb-4 mt-5"},s.a.createElement("input",{type:"text",value:this.state.otp,className:"form-control",style:{marginTop:8},placeholder:"Masukan kode OTP yang dikirim ke email anda",onChange:this.onChange.bind(this,"otp"),required:!0})),s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("p",{className:"mt-5"},this.state.enableResend?s.a.createElement("a",{style:{cursor:"pointer",color:"#00478C"},onClick:this.lupaPassword.bind(this)},"Kirim Ulang Kode OTP"):s.a.createElement("a",{style:{cursor:"context-menu",color:"#888"}},"Kirim Ulang Kode OTP ( ",o,":",i<10?"0".concat(i):i," )"))),s.a.createElement("button",{onClick:this.saveOTP.bind(this),className:"btn btn-ideku col-12 shadow-2 b-r-3 f-16",style:{height:60}},"Lanjut")))),s.a.createElement("div",{className:e||a||t||n?"hidden":"row",style:{padding:"0px 20px"}},s.a.createElement("div",{className:"col-sm-3"}),s.a.createElement("img",{src:"newasset/back.svg",style:{paddingTop:18},alt:""}),s.a.createElement("div",{className:"col-sm-12 mb-3"},s.a.createElement("b",{style:{float:"left",color:"#00478C"}},"Silahkan Masukan Email Anda")),s.a.createElement("div",{className:"col-sm-12"},""==this.state.alert?null:s.a.createElement("div",{style:{color:"#F00",marginBottom:20}},this.state.alert),""==this.state.success?null:s.a.createElement("div",{style:{color:"#049404",marginBottom:20}},this.state.success),s.a.createElement("b",{style:{float:"left",color:"black"}},"Email"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control",style:{marginTop:8},placeholder:"Masukan Email Anda",onChange:this.onChange.bind(this,"email"),required:!0})),s.a.createElement("button",{disabled:this.state.loading,className:"btn btn-ideku col-12 shadow-2 mt-5 b-r-3 f-16",style:{height:60},onClick:this.kirimEMail.bind(this)},"Kirim"))),s.a.createElement("div",{className:a?"row":"hidden",style:{padding:"0px 20px"}},s.a.createElement("div",{className:"col-sm-3"}),s.a.createElement("div",{className:"col-sm-12 f-18 mb-3"},s.a.createElement("b",{style:{float:"left",color:"#00478C",marginTop:30}},"Silahkan buat password baru Anda")),s.a.createElement("div",{className:"col-sm-12"},""==this.state.alert?null:s.a.createElement("div",{style:{color:"#F00",marginBottom:20}},this.state.alert),""==this.state.success?null:s.a.createElement("div",{style:{color:"#049404",marginBottom:20}},this.state.success),s.a.createElement("b",{style:{float:"left",color:"black"}},"Password Baru"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"password",className:"form-control",style:{marginTop:8},placeholder:"Masukkan password baru Anda",onChange:this.onChange.bind(this,"newPass"),required:!0})),s.a.createElement("b",{style:{float:"left",color:"black",marginTop:20}},"Ulangi Password Baru"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"password",className:"form-control",style:{marginTop:8},placeholder:"Masukkan kembali password baru Anda",onChange:this.onChange.bind(this,"newPass2"),required:!0})),s.a.createElement("button",{disabled:this.state.loading,className:"btn btn-ideku col-12 shadow-2 mt-5 b-r-3 f-16",style:{height:60},onClick:this.submitResetPass.bind(this)},"Perbarui Password"))),s.a.createElement("div",{className:t?"row":"hidden",style:{padding:"0px 20px"}},s.a.createElement("div",{className:"col-sm-3"}),s.a.createElement("div",{className:"col-sm-12",style:{marginTop:30}},s.a.createElement("p",{className:"fs-24"},s.a.createElement("b",{style:{color:"#00478C"}},"Password berhasil diperbarui, silahkan kembali ke halaman login dan masuk dengan password baru Anda.")))),s.a.createElement("div",{className:n?"row":"hidden",style:{padding:"0px 20px"}},s.a.createElement("div",{className:"col-sm-3"}),s.a.createElement("div",{className:"col-sm-12",style:{marginTop:30}},s.a.createElement("p",{className:"fs-24"},s.a.createElement("b",{style:{color:"#d02c2c"}},"Gagal memperbarui password, silahkan setel ulang password kembali dan pastikan Anda memasukkan kode OTP yang dikirim ke email Anda.")))))}}var I=j,A=t(25);const L=[{title:"Login"},{title:"Vouchers"}];class D extends n.Component{constructor(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];super(...a),this.state={email:"",password:"",toggle_alert:!1,isVoucher:!1,voucher:"",alertMessage:"",tabIndex:1,showPass:!1,showOpenApps:!0},this.onChangeEmail=e=>{this.setState({email:e.target.value,toggle_alert:!1})},this.onChangePassword=e=>{this.setState({password:e.target.value,toggle_alert:!1})},this.onChangeVoucher=e=>{this.setState({voucher:e.target.value,toggle_alert:!1})},this.onClickVoucher=e=>{e.preventDefault(),this.setState({isVoucher:!0,voucher:"",email:"",password:"",toggle_alert:!1})},this.onClickEmail=e=>{e.preventDefault(),this.setState({isVoucher:!1,voucher:"",email:"",password:"",toggle_alert:!1})},this.submitFormVoucher=e=>{e.preventDefault();const{voucher:a}=this.state;let t={voucher:a};T.a.post("".concat(g.i,"/voucher"),t).then(e=>{if(console.log("VOUCHER: ",e.data.result),200===e.status)if(e.data.error)"expired"==e.data.result.status?this.setState({toggle_alert:!0,alertMessage:e.data.result.message}):this.setState({toggle_alert:!0,alertMessage:"Login failed. Please verify the data correct!"});else{let a={user_id:e.data.result.user_id,description:e.data.result.email,title:"voucher login"};if(p.a.set("widgetGuru",{dataWidget:[{idWidget:"1",imgOn:"@0,5xTugas on.svg",imgOff:"@0,5xTugas off.svg",name:"Tugas",checked:!1},{idWidget:"2",imgOn:"@0,5xPertemuan on.svg",imgOff:"@0,5xPertemuan off.svg",name:"Pertemuan Yang Akan Datang",checked:!1},{idWidget:"3",imgOn:"@0,5xPengumuman on.svg",imgOff:"@0,5xPengumuman off.svg",name:"Pengumuman Terbaru",checked:!1},{idWidget:"4",imgOn:"@0,5xLaporan on.svg",imgOff:"@0,5xLaporan off.svg",name:"Laporan Yang Harus Diselesaikan",checked:!1},{idWidget:"5",imgOn:"@0,5xMateri on.svg",imgOff:"@0,5xMateri off.svg",name:"Materi Pelajaran",checked:!1},{idWidget:"6",imgOn:"@0,5xMeeting on.svg",imgOff:"@0,5xMeeting off.svg",name:"Meeting",checked:!1}]}),p.a.set("widgetPrincipal",{dataWidget:[{idWidget:"1",imgOn:"@0,5xPengumuman on.svg",imgOff:"@0,5xPengumuman off.svg",name:"Pengumuman Terbaru",checked:!1},{idWidget:"2",imgOn:"@0,5xMeeting on.svg",imgOff:"@0,5xMeeting off.svg",name:"Meeting",checked:!1}]}),p.a.set("widgetManagement",{dataWidget:[{idWidget:"1",imgOn:"@0,5xMeeting on.svg",imgOff:"@0,5xMeeting off.svg",name:"Meeting",checked:!1}]}),p.a.set("user",{data:{user_id:e.data.result.user_id,user:e.data.result.name,email:e.data.result.email,level:e.data.result.level,grup_id:e.data.result.grup_id,grup_name:e.data.result.grup_name,company_id:e.data.result.company_id,company_type:e.data.result.company_type}}),p.a.set("access",{activity:e.data.result.activity,course:e.data.result.course,manage_course:e.data.result.manage_course,forum:e.data.result.forum,group_meeting:e.data.result.group_meeting,manage_group_meeting:e.data.result.manage_group_meeting}),p.a.set("token",{data:e.data.result.token}),this.props.redirectUrl)window.location.href=window.location.origin+this.props.redirectUrl;else{let a=new URLSearchParams(window.location.search);1===e.data.result.is_new_password?a.get("dst")?window.location.href=a.get("dst"):window.location.href=window.location.origin:a.get("dst")?window.location.href=a.get("dst"):window.location.href="".concat(window.location.origin,"/pengaturan")}g.l.post("".concat(g.a,"v1/api-activity/new-login"),a).then((function(){console.log(arguments)}))}else this.setState({toggle_alert:!0,alertMessage:"Login failed. Please verify the data correct!"})}).catch(e=>{console.log("failed fetch",e)})},this.submitForm=e=>{e.preventDefault();const{email:a,password:t}=this.state;let n={email:a,password:t};T.a.post(g.i,n).then(e=>{if(200===e.status)if(e.data.error)"expired"==e.data.result.status?this.setState({toggle_alert:!0,alertMessage:e.data.result.message}):this.setState({toggle_alert:!0,alertMessage:"Login failed. Please verify the data correct!"});else{let a={user_id:e.data.result.user_id,description:e.data.result.email,title:"regular login"},t=e.data.result;if(t.user=t.name,p.a.set("user",{data:{...t}}),p.a.set("access",{activity:e.data.result.activity,course:e.data.result.course,manage_course:e.data.result.manage_course,forum:e.data.result.forum,group_meeting:e.data.result.group_meeting,manage_group_meeting:e.data.result.manage_group_meeting}),p.a.set("token",{data:e.data.result.token}),this.props.redirectUrl)window.location.href=window.location.origin+this.props.redirectUrl;else{let a=new URLSearchParams(window.location.search);1===e.data.result.is_new_password?a.get("dst")?window.location.href=a.get("dst"):window.location.href=window.location.origin:a.get("dst")?window.location.href=a.get("dst"):window.location.href="".concat(window.location.origin,"/pengaturan")}g.l.post("".concat(g.a,"v1/api-activity/new-login"),a).then((function(){}))}else this.setState({toggle_alert:!0,alertMessage:"Login failed. Please verify the data correct!"})}).catch(e=>{console.log("failed fetch",e)})}}tabLogin(e,a,t){e.preventDefault(),this.setState({tabIndex:t+1}),1===t?this.setState({isVoucher:!0,voucher:"",email:"",password:"",toggle_alert:!1}):this.setState({isVoucher:!1,voucher:"",email:"",password:"",toggle_alert:!1})}backToLogin(){this.setState({isVoucher:!1,voucher:"",email:"",password:"",toggle_alert:!1,showPass:!1,tabIndex:1})}lupaPassword(){this.setState({isVoucher:!0,voucher:"",email:"",password:"",toggle_alert:!0,showPass:!0,tabIndex:4})}componentDidMount(){try{this.props.match.params.id&&this.props.match.params.key&&this.lupaPassword()}catch(e){console.log("Continue",e)}}render(){const{toggle_alert:e,isVoucher:a}=this.state;let t=null,n=this.props.redirectUrl?"meeting/information"===this.props.redirectUrl.slice(1,20)?decodeURIComponent(g.c+"redirect"+this.props.redirectUrl):decodeURIComponent(g.c+this.props.redirectUrl.slice(1,this.props.redirectUrl.length)):g.c,o=n.length,i="icademy"+n.slice(5,o);return t=a?s.a.createElement("form",{onSubmit:this.submitFormVoucher},s.a.createElement("b",{style:{float:"left",color:"black"}},"Voucher Number"),s.a.createElement("div",{className:"input-group mb-4 mt-5"},s.a.createElement("input",{type:"text",value:this.state.voucher,className:"form-control",style:{marginTop:8},placeholder:"Enter your voucher number",onChange:this.onChangeVoucher,required:!0})),s.a.createElement("button",{type:"submit",className:"btn btn-ideku col-12 shadow-2 mt-10 b-r-3 f-16",style:{height:60}},"Login"),e&&s.a.createElement(x.a,{variant:"danger"},this.state.alertMessage)):s.a.createElement("form",{onSubmit:this.submitForm},s.a.createElement("b",{style:{float:"left",color:"black"}},"Email"),s.a.createElement("div",{className:"input-group mb-4"},s.a.createElement("input",{type:"text",value:this.state.email,className:"form-control",style:{marginTop:8},placeholder:"Enter your email",onChange:this.onChangeEmail,required:!0})),s.a.createElement("b",{style:{float:"left",color:"black"}},"Password"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"password",value:this.state.password,className:"form-control",style:{marginTop:8},placeholder:"Enter your password",onChange:this.onChangePassword,required:!0})),s.a.createElement("p",{className:"mt-5"},s.a.createElement("a",{style:{cursor:"pointer",color:"#00478C"},onClick:this.lupaPassword.bind(this)},"Forgot Password ?")),s.a.createElement("button",{type:"submit",className:"btn btn-ideku col-12 shadow-2 mb-3 mt-4 b-r-3 f-16",style:{height:60}},"Login"),e&&s.a.createElement(x.a,{variant:"danger"},this.state.alertMessage)),s.a.createElement("div",{style:{background:"#fafbfc"}},s.a.createElement("header",{className:"header-login"},s.a.createElement("center",null,s.a.createElement("div",{className:"mb-4"},s.a.createElement("img",{src:"assets/images/component/Logo LSPAAUI-01.png",style:{paddingTop:0},width:"120",height:90,alt:"brand-logo"})))),s.a.createElement("div",{className:"auth-wrapper"},s.a.createElement("div",{className:"auth-content mb-4",style:{display:A.isMobile?"none":"block"}},s.a.createElement("div",{className:" b-r-15"},s.a.createElement("div",{className:" text-center",style:{padding:"50px !important"}},s.a.createElement("div",{className:"mb-4"},s.a.createElement("img",{src:"newasset/user-computer.svg",style:{width:350},alt:""})),s.a.createElement("h4",{className:"mb-0 mt-1",style:{textTransform:"uppercase"}},s.a.createElement("b",null,"Connect with people anytime anywhere")),s.a.createElement("p",{className:"mb-0 mt-1"},"We are ready to connect you with others")))),s.a.createElement("div",{className:"auth-content mb-4"},s.a.createElement("div",{className:"card b-r-15"},s.a.createElement("div",{className:"card-body text-center",style:{padding:"50px !important"}},s.a.createElement("div",{className:"row "},s.a.createElement("span",{className:this.state.showPass?"":"hidden",style:{color:"#00478C",paddingLeft:15,cursor:"pointer"},onClick:this.backToLogin.bind(this)},s.a.createElement("i",{className:"fa fa-arrow-left fa-2x"})),L.map((e,a)=>s.a.createElement("div",{className:this.state.showPass?"hidden":"col-md-6 mb-4"},s.a.createElement(l.b,{key:a,onClick:t=>this.tabLogin(t,e,a)},s.a.createElement("div",{className:this.state.tabIndex===a+1?"customtab-aktif":"customtab title-disabled"},e.title)))),1!==this.state.tabIndex||a?2===this.state.tabIndex&&a?s.a.createElement("div",{className:"col-sm-12"},t):s.a.createElement("div",null,s.a.createElement(I,{id:this.props.match.params.id,otp:this.props.match.params.key})):s.a.createElement("div",{className:"col-sm-12"},t)))))),s.a.createElement("div",{className:"footer-info"},s.a.createElement("div",{className:"row "},s.a.createElement("div",{className:"col-md-6"}),s.a.createElement("div",{className:"col-md-3 mt-5"},"Gedung Total, Lantai 10.",s.a.createElement("p",{className:"mb-0"},"Jl. Let. Jen. S. Parman Kav. 106 A"),"Jakarta 11440 - Indonesia"),s.a.createElement("div",{className:"col-md-3 mt-5"},s.a.createElement("p",{className:"mt-3 mb-0"},"Email : support@infovesta.com"),"Phone : 021 - 5697 2929"))),s.a.createElement("footer",{className:"footer-ideku"},s.a.createElement("div",{className:"footer-copyright text-right"},"Copyright \xa9 2020 - ICADEMY")),A.isMobile&&this.state.showOpenApps?s.a.createElement("div",{className:"floating-message"},s.a.createElement("button",{className:"floating-close",onClick:()=>this.setState({showOpenApps:!1})},s.a.createElement("i",{className:"fa fa-times"})),s.a.createElement("p",{style:{marginTop:8}},"Want to use mobile apps ?"),s.a.createElement("a",{href:A.isIOS?"https://apps.apple.com/id/app/icademy/id1546069748#?platform=iphone":"https://play.google.com/store/apps/details?id=id.app.icademy"},s.a.createElement("button",{className:"button-flat-light"},s.a.createElement("i",{className:"fa fa-download"})," Install")),s.a.createElement("a",{href:A.isIOS?i:n},s.a.createElement("button",{className:"button-flat-fill"},s.a.createElement("i",{className:"fa fa-mobile-alt"})," Open Apps"))):null)}}var R=D;class U extends n.Component{constructor(e){super(e),this.state={email:""}}onChange(e,a){const t=this.state;t[e]=a.target.value,this.setState(t)}submit(){g.l.get("".concat(g.a,"v1/user/forgot-password/").concat(this.state.email)).then(e=>{200!==e.status||e.data.error?alert(e.data.result):(alert(e.data.result.message),this.props.history.push("/OTP/".concat(e.data.result.id)))})}render(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Lupa Password"),s.a.createElement("input",{type:"email",value:this.state.email,className:"form-control",placeholder:"email",onChange:this.onChange.bind(this,"email"),required:!0}),s.a.createElement("button",{type:"submit",onClick:this.submit.bind(this)},"Reset"))}}var B=U;class F extends n.Component{constructor(e){super(e),this.toMMSS=e=>{var a=parseInt(e/1e3%60),t=parseInt(e/6e4%60),n=parseInt(e/36e5%24);return n=n<10?"0"+n:n,(t=t<10?"0"+t:t)+":"+(a=a<10?"0"+a:a)},this.state={otp:"",time:3e5}}onChange(e,a){const t=this.state;t[e]=a.target.value,this.setState(t)}submit(){this.props.history.push("/reset-password/".concat(this.props.match.params.id,"/").concat(this.state.otp))}render(){let e=setInterval(()=>{this.setState({time:this.state.time-1})},1);return 0===this.state.time&&(clearInterval(e),this.props.history.push("/forgot-password")),s.a.createElement("div",null,s.a.createElement("h1",null,"OTP"),s.a.createElement("input",{type:"text",value:this.state.otp,className:"form-control",placeholder:"OTP",onChange:this.onChange.bind(this,"otp"),required:!0}),s.a.createElement("div",null,this.toMMSS(this.state.time)),s.a.createElement("button",{type:"submit",onClick:this.submit.bind(this)},"submit"))}}var K=F;t(122),t(118);const V=h()("".concat(g.b));V.on("connect",()=>{});const z=Object(n.lazy)(()=>Promise.all([t.e(38),t.e(141)]).then(t.bind(null,1625))),W=Object(n.lazy)(()=>Promise.all([t.e(38),t.e(140)]).then(t.bind(null,1626))),G=Object(n.lazy)(()=>Promise.all([t.e(38),t.e(142)]).then(t.bind(null,1627))),Y=Object(n.lazy)(()=>Promise.all([t.e(0),t.e(9),t.e(113)]).then(t.bind(null,1628))),J=Object(n.lazy)(()=>Promise.all([t.e(0),t.e(1),t.e(3),t.e(5),t.e(92)]).then(t.bind(null,1002))),q=Object(n.lazy)(()=>Promise.all([t.e(0),t.e(1),t.e(15),t.e(115)]).then(t.bind(null,1629))),H=Object(n.lazy)(()=>t.e(45).then(t.bind(null,1353))),X=Object(n.lazy)(()=>Promise.all([t.e(0),t.e(1),t.e(9),t.e(14),t.e(16)]).then(t.bind(null,1037))),Z=Object(n.lazy)(()=>t.e(17).then(t.bind(null,1044))),Q=Object(n.lazy)(()=>Promise.all([t.e(0),t.e(1),t.e(3),t.e(5),t.e(91)]).then(t.bind(null,1004))),$=Object(n.lazy)(()=>t.e(42).then(t.bind(null,1354)));class ee extends s.a.Component{constructor(e){super(e),this.state={userLogin:!1}}componentDidMount(){null==localStorage.getItem("user")?this.setState({userLogin:!1}):this.setState({userLogin:!0})}render(){let e=null;return e=this.state.userLogin?s.a.createElement(se,null):s.a.createElement(ae,null),s.a.createElement("div",null,e)}}class ae extends s.a.Component{render(){return s.a.createElement("div",null,s.a.createElement(w.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),s.a.createElement(d.d,null,s.a.createElement(d.b,{path:"/",exact:!0,component:R}),s.a.createElement(d.b,{path:"/meeting/:roomid",exact:!0,component:Y}),s.a.createElement(d.b,{path:"/meet/:roomid",exact:!0,component:J}),s.a.createElement(d.b,{path:"/gantt/:companyId/:projectId/:userId",exact:!0,component:q}),s.a.createElement(d.b,{path:"/webinar-guest/:webinarId/:voucher",exact:!0,component:X}),s.a.createElement(d.b,{path:"/mobile-meeting/:url+",exact:!0,component:H}),s.a.createElement(d.b,{path:"/redirect/:url+",exact:!0,component:te}),s.a.createElement(d.b,{path:"/meeting-room/:roomid",exact:!0,component:ne}),s.a.createElement(d.b,{path:"/forgot-password",component:B}),s.a.createElement(d.b,{path:"/OTP/:id",component:K}),s.a.createElement(d.b,{path:"/reset-password/:id/:key",component:R}),s.a.createElement(d.b,{path:"/thankyou",exact:!0,component:Z}),s.a.createElement(d.b,{path:"/training/form-registration/:id",component:$}),s.a.createElement(d.b,{component:R})))}}class te extends s.a.Component{render(){return localStorage.getItem("user")?s.a.createElement(d.a,{to:"/"+this.props.match.params.url}):s.a.createElement(R,{redirectUrl:"/"+this.props.match.params.url})}}class ne extends s.a.Component{render(){return localStorage.getItem("user")?s.a.createElement(d.b,{path:"/meeting-room/:roomid",component:Q}):s.a.createElement(R,{redirectUrl:"/meeting-room/"+this.props.match.params.roomid})}}class se extends s.a.Component{constructor(){super(...arguments),this.state={level:p.a.get("user").data.level}}render(){let e=null;return e="superadmin"===this.state.level?s.a.createElement(G,null):"admin"===this.state.level?s.a.createElement(W,null):s.a.createElement(z,null),s.a.createElement(E.a.Provider,{value:V},s.a.createElement(P,null),s.a.createElement(S,null),s.a.createElement(y,null),s.a.createElement(w.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),e)}}var oe=t(76),ie=t(20),le=t(116);var re=Object(ie.c)({user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER":return{...e,user:a.payload};default:return e}}});const ce=window.__REDUX_DEVTOOLS_EXTENSION__||ie.d;var me=Object(ie.e)(re,ce(Object(ie.a)(le.a)));t(177);i.a.render(s.a.createElement(n.Suspense,{fallback:s.a.createElement("img",{src:"newasset/loading.gif",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})},s.a.createElement(oe.a,{store:me},s.a.createElement(l.a,null,s.a.createElement(ee,null)))),document.getElementById("root"))},2:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));class n{}n.set=(e,a)=>{localStorage.setItem(e,JSON.stringify(a))},n.get=e=>JSON.parse(localStorage.getItem(e)||'{"data":""}'),n.delete=e=>{localStorage.removeItem(e)}},3:function(e,a,t){"use strict";t.d(a,"g",(function(){return i})),t.d(a,"a",(function(){return l})),t.d(a,"c",(function(){return r})),t.d(a,"b",(function(){return c})),t.d(a,"e",(function(){return m})),t.d(a,"d",(function(){return u})),t.d(a,"f",(function(){return d})),t.d(a,"k",(function(){return g})),t.d(a,"i",(function(){return p})),t.d(a,"j",(function(){return f})),t.d(a,"h",(function(){return h})),t.d(a,"l",(function(){return b}));var n,s=t(2);const o=t(32);o.defaults.headers.post["Content-Type"]="application/json";const i="production",l="development"===i?"http://localhost:3200/":"staging"===i?"https://api.aaui.trialdeploy.qonnectiq.com/":"https://api.aaui-ecertification.com/",r="development"===i?"http://localhost:3000/":"staging"===i?"https://app.aaui.stg.kelola.co.id/":"https://data.aaui-ecertification.com/",c="https://socket.aaui-ecertification.com",m="https://con.aaui-ecertification.com/bigbluebutton/",u="iVItGKALB76kFhF4dkCKfCuFdMi5MxRDuCFBVwZI",d="https://ftabz8v877.execute-api.ap-southeast-1.amazonaws.com/Prod",g="https://z.icademy.stg.kelola.co.id",p="".concat(l,"v1/auth"),f=("".concat(l,"v1/auth/voucher"),"".concat(l,"v1/auth/me/")),h="".concat(l,"v1/user");"".concat(l,"v1/forum");class b{}n=b,b.getConfig=function(){let e=s.a.get("token");return{headers:{Authorization:e.data}}},b.post=(e,a,t)=>{let s=n.getConfig();return t&&(s.headers={...s.headers,...t}),o.post(e,a,s)},b.get=function(e,a,t){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=n.getConfig(i);if(a&&(l.params=a),t&&(l.headers={...l.headers,...t}),e.search("/auth/me/")>-1){let a=s.a.get("companyID");if("number"!=typeof a&&(a=null),l.headers.currentposition=a,a){let a=s.a.get("user");o.get(e,l).then(e=>{200===e.status&&(e.data.result.data_multi_company?a.data.level=e.data.result.data_multi_company:a.data.level=e.data.result.level,s.a.set("user",a))})}}if(e.search("/files-mom/")>-1){let e=s.a.get("companyID");if("number"!=typeof e){e=s.a.get("user").data.company_id}l.headers.currentposition=e||null}return o.get(e,l)},b.put=function(e,a,t,s){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=n.getConfig(i);return t&&(l.params=t),s&&(l.headers={...l.headers,...s}),o.put(e,a,l)},b.delete=function(e,a,t){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n.getConfig(s);return a&&(i.params=a),t&&(i.headers={...i.headers,...t}),o.delete(e,i)}},30:function(e,a,t){"use strict";var n=t(0);const s=t.n(n).a.createContext();a.a=s}},[[124,89,94]]]);
//# sourceMappingURL=main.28be0786.chunk.js.map